(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/[username]/[slug]-authdesktop",61,93,104,125,164,202,214,264,453],{"+4a+":function(e,t,n){n.d(t,"a",(function(){return r}));const r=488},"+HMQ":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("w70y");function i({board:{id:e,owner:t},children:n}){const{data:i,isLoaded:o}=Object(r.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),a=t.image_key||t.image_medium_url||t.image_small_url,s=[{name:t.full_name,src:a,href:`/${t.username}/`,isDim:!1}];return o&&i&&i.length>0&&i.forEach(e=>{s.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),n(s)}},"+Un0":function(e,t,n){n.r(t),n.d(t,"MoreIdeasTabContent",(function(){return te})),n.d(t,"invalidateRecommendationResource",(function(){return re})),n.d(t,"BoardMoreIdeasTabContent",(function(){return ce})),n.d(t,"BoardSectionMoreIdeasTabContent",(function(){return de}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("zUcL"),c=n("Sihc"),l=n("1inl"),d=n("1YNZ"),u=n("Ye/N"),h=n("Pqnw"),p=(n("jiHH"),n("n6mq"));var f=function({accessibilityLabel:e,show:t}){return t?Object(r.jsx)(p.e,{display:"flex",justifyContent:"around",overflow:"hidden",children:Object(r.jsx)("div",{className:"instant-spinner-icon",children:Object(r.jsx)(p.u,{icon:"knoop",accessibilityLabel:e,size:40})})}):Object(r.jsx)("div",{})},b=n("vvax");function g({boardName:e}){return Object(r.jsxs)(p.e,{display:"flex",direction:"column",alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingTop:108}},children:[Object(r.jsx)(p.e,{marginBottom:4,children:Object(r.jsx)(f,{show:!0,accessibilityLabel:u.a._("Loading")})}),Object(r.jsx)(p.t,{size:"md",children:u.a._("Board Created!","Message following board creation","Message following board creation")}),Object(r.jsx)(p.t,{size:"md",children:Object(b.b)(u.a._("Finding pins to add to {{boardName}}...","Message while more ideas for board loads","Message while more ideas for board loads"),{boardName:e})})]})}function m(e){const{collection:t,isRedirectExperimentReferrer:n,resource:i}=e,{data:o,isFetching:a}=i;return n&&!o&&"board"===t.type?Object(r.jsx)(g,{boardName:t.name}):Object(r.jsx)(p.O,{accessibilityLabel:u.a._("Loading Board More Ideas Feed","accessibility label for board more ideas tab loading spinner","accessibility label for board more ideas tab loading spinner"),show:a})}var v=n("R0ru");function y(e){const{hideHeader:t,name:n,onClick:i,url:o}=e;return Object(r.jsx)(p.e,{"data-test-id":"isHomeFeed",dangerouslySetInlineStyle:{__style:{paddingTop:t?25:60}},display:"flex",justifyContent:"center",padding:4,children:!t&&Object(r.jsx)(p.U,{children:Object(b.b)(u.a._("More ideas for your board {{ boardLink }}","More ideas for your board","More ideas for your board"),{boardLink:Object(r.jsx)(p.A,{href:o,onClick:i,inline:!0,children:n},n)})})})}var j=n("mmKv"),_=n("YGxj"),O=n("5Ai/"),x=n("82UD"),w=n("d90F");function S(e){const{boardId:t,boardTitle:n,boardUrl:i,index:o,isHomefeed:a,moreIdeasSaveToolTipExperienceIds:s,oneTapSaveTarget:c,onSave:l,pin:d,showMoreIdeasSaveTooltip:u,viewParameter:h,viewType:p}=e;return Object(r.jsx)(O.a,{pin:d,onSave:l,target:c,eventContext:{viewType:p,viewParameter:h,element:10599},children:({save:e,saved:c,savedInfo:l})=>Object(r.jsx)(w.a,{name:"more_ideas_homefeed_integration_web",activate:!1,children:({group:f})=>{const b=a&&(f.includes("employees")||f.includes("persistent_one_click_save")),g=u?e=>Object(r.jsx)(_.a,{anchor:e,boardTextOverride:b?n:void 0,experienceIds:s,idealDirection:"down",placementId:1000121,textOverflow:"normal",useMasonryFlyout:!0}):void 0;return Object(r.jsx)(x.a,{attributionOption:"hide",pin:d,pinId:d.id,pinImageCrop:"none",saveButtonOptions:b?{renderPinSaveTooltip:g,save:e,saved:c,savedInfo:{...l,boardId:t,pinId:d.id,title:n,url:i},type:"persistentOneClickSave"}:{type:"controlled",save:e,saved:c,renderPinSaveTooltip:g},surface:b?"HomefeedMoreIdeasTabs":"BoardMoreIdeasTabContent",trackingParameters:{slotIndex:o,viewParameter:h,viewType:p}})}})})}var C=n("TSYQ"),I=n.n(C),E=n("U4JR");function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends i.Component{constructor(...e){super(...e),k(this,"state",{hovered:!1}),k(this,"handleTouch",e=>()=>{const{onSelect:t}=this.props;Object(E.b)(101,{element:10444}),t(e)}),k(this,"handleHover",e=>()=>this.setState({hovered:e}))}render(){const{recommendation:e}=this.props,{hovered:t}=this.state;return Object(r.jsxs)(p.e,{position:"relative",onMouseEnter:this.handleHover(!0),onMouseLeave:this.handleHover(!1),children:[Object(r.jsx)(p.T,{fullWidth:!1,onTap:this.handleTouch(e),rounding:2,children:Object(r.jsxs)(p.e,{paddingY:1,alignItems:"center",display:"flex",children:[Object(r.jsx)(p.e,{paddingX:1,children:Object(r.jsx)(p.u,{accessibilityLabel:u.a._("Add section","Accessibility label for add icon","Accessibility label for add icon"),icon:"add",size:18})}),Object(r.jsx)(p.e,{paddingX:1,children:Object(r.jsx)(p.U,{color:"gray",weight:"bold",children:e.name})})]})}),Object(r.jsx)("div",{className:I()("sectionHoverSurface",{hover:t})})]},e.name)}}function T(e){const{recommendations:t}=e;return Object(r.jsx)(s.a,{children:Object(r.jsxs)(p.e,{paddingY:2,children:[Object(r.jsx)(p.e,{paddingY:2,children:Object(r.jsx)(p.U,{children:Object(r.jsx)("span",{className:"deprecatedTextSizeXL",children:u.a._("Sections to try","title for section title recommendations on more ideas tab","title for section title recommendations on more ideas tab")})})}),Object(r.jsx)(p.e,{paddingY:2,children:Object(r.jsx)(p.e,{width:"100%",display:"flex",justifyContent:"start",alignItems:"center",wrap:!0,children:t.map(e=>Object(r.jsx)(p.e,{padding:2,children:Object(r.jsx)(D,{onSelect:this.handleSelectSectionRecommendation,recommendation:e})},e.id))})})]})})}var M=n("WjpJ"),P=n.n(M),B=n("TgLd"),A=n("n34E"),R=n("M1Uz"),L=n("w70y"),N=n("oN2T"),z=n("nGHF");function F({boardId:e,handleAddClick:t,onDismiss:n,pins:o,suggestedSectionTitle:s}){const l=Object(i.useRef)(null),[d,h]=Object(i.useState)([]),{showToast:f}=Object(z.b)(),b=Object(L.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:o.map(e=>e.id)}}),g=Object(a.useDispatch)(),m=(e,t)=>{const n=[...d],r=n.indexOf(e);t&&-1===r?n.push(e):t||-1===r||n.splice(r,1),h(n)};return Object(r.jsx)(B.b,{accessibilityModalLabel:u.a._("Add suggested pins to your newly created section modal","suggestedPinsModal.modal.accessibilityLabelForModal","Accessibility label for modal"),allowScroll:!0,footer:Object(r.jsx)(p.e,{display:"flex",justifyContent:"end",children:Object(r.jsx)(p.f,{color:d.length<1?"gray":"red",disabled:d.length<1,inline:!0,onClick:()=>{t(s),g(Object(c.a)({boardId:e,name:s,initialPinIds:d})).then(()=>{g(Object(N.c)(e,"pin_count")),n()}),f(({onHide:e})=>Object(r.jsx)(R.a,{duration:4e3,onHide:e,text:u.a._("Section added!","suggestedPinsModal.addSectionSubmit.toast","Message confirming that a section has been added.")})),Object(E.b)(101,{view:5,viewParameter:3173,component:13773})},size:"lg",text:u.a._("Done","suggestedPinsModal.footer.addSectionButton","Add pins and section")})}),heading:u.a._("Great! Pick some ideas to start off your section.","suggestedPinsModal.modal.heading","Heading for modal to add suggested pins to your newly created section"),onDismiss:n,size:704,children:Object(r.jsxs)(p.e,{maxHeight:600,maxWidth:704,ref:l,overflow:"auto",children:[b.isLoaded&&b.data&&Object(r.jsx)(p.C,{columnWidth:152,comp:({data:e,itemIdx:t})=>Object(r.jsx)(A.a,{index:t,isSelected:d.includes(e.id),pin:e,handlePinSelectionChanged:m}),gutterWidth:16,items:b.data,loadItems:b.fetchMore,scrollContainer:()=>l.current||window}),Object(r.jsx)(p.O,{accessibilityLabel:u.a._("Loading pins","suggestedPinsModal.modal.spinner","Loading indicator"),show:b.isFetching})]})})}const U=new p.p(2);function q({boardId:e,handleAddClick:t,pins:n=[],sectionTitle:o,wasSectionAdded:a}){const[s,c]=Object(i.useState)(!1);return Object(r.jsxs)(p.e,{opacity:a?.2:1,zIndex:U,children:[Object(r.jsx)(p.e,{paddingY:2,position:"relative",children:Object(r.jsx)(p.T,{disabled:a,onTap:()=>{c(!0),Object(E.b)(101,{view:5,viewParameter:3173,component:13772})},rounding:4,children:Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(p.e,{overflow:"hidden",position:"relative",rounding:4,width:237,children:[Object(r.jsx)(p.e,{display:"flex",children:P()(0,2).map(e=>{var t,i;const o=n[e];return Object(r.jsx)("div",{style:{paddingRight:1},children:Object(r.jsx)(p.e,{height:157,width:118,children:o.image_medium_url&&Object(r.jsx)(p.w,{alt:"",color:"darkGray",fit:"cover",naturalHeight:(null===(t=o.image_medium_size_pixels)||void 0===t?void 0:t.height)||157,src:o.image_medium_url,naturalWidth:(null===(i=o.image_medium_size_pixels)||void 0===i?void 0:i.width)||118})})},e)})}),Object(r.jsx)(p.e,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:Object(r.jsx)(p.f,{accessibilityLabel:u.a._("Add a suggested section","sectionTemplates.addSectionButton.accessibilityLabel","Button for adding a suggested section"),color:"white",disabled:a,inline:!0,text:u.a._("Add","sectionTemplates.addSectionButton.buttonText","Button for adding a suggested section")})})]})})})}),Object(r.jsx)(p.e,{height:40,width:237,paddingX:2,flex:"grow",children:Object(r.jsx)(p.t,{color:"darkGray",size:"sm",truncate:!0,children:o})}),s&&Object(r.jsx)(F,{boardId:e,handleAddClick:t,onDismiss:()=>c(!1),pins:n,suggestedSectionTitle:o})]})}function K({boardId:e,sectionTemplates:t}){const[n,o]=Object(i.useState)([]),a=e=>{const t=[...n];t.push(e),o(t)};return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(p.e,{display:"flex",justifyContent:"center",marginTop:-4,padding:1,children:Object(r.jsx)(p.U,{size:"lg",children:u.a._("Sections and Pins for you","sectionTemplatesStory.subtitle.text","Subtitle describing sections and pins below")})}),Object(r.jsx)(p.e,{display:"flex",justifyContent:"center",marginStart:6,marginEnd:6,wrap:!0,children:t.map(t=>Object(r.jsx)(p.e,{display:"flex",padding:2,children:Object(r.jsx)(q,{boardId:e,pins:t.pins,sectionTitle:t.name,handleAddClick:a,wasSectionAdded:n.includes(t.name)})},t.id))})]})}var H=n("q8wg"),W=n("2qKt"),V=n("Wrea"),G=n("ANjH"),Y=n("yjg8"),J=n("dKiF"),X=n("Wer7");function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=e=>e.toLowerCase(),$=e=>"board"===e?1000121:1000122,ee=Object(J.d)(e=>[501291,501082,...e===String(22)?[501151]:[]]);class te extends o.a.Component{constructor(...e){super(...e),Q(this,"state",{sectionNameAddedMap:{}}),Q(this,"handleClickLogging",e=>{Object(E.b)(101,{component:10599===e?0:void 0,element:e,view:this.viewType,viewParameter:this.viewParameter})}),Q(this,"handleBoardLinkClick",()=>{this.handleClickLogging(11083)}),Q(this,"handleSelectSectionRecommendation",({name:e})=>{const{collection:t,createSection:n,toastManagerContext:i}=this.props;if("board"!==t.type)return;const o=t;this.setState({sectionNameAddedMap:{...this.state.sectionNameAddedMap,[Z(e)]:!0}},()=>{n(e).then(({slug:e})=>{i.showOneToast(({onHide:t})=>Object(r.jsx)(R.a,{duration:2e3,href:`${o.url}${e}/`,onHide:t,text:u.a._("Section added!","Toast for successfully creating a new board section","Toast for successfully creating a new board section")}))}),this.handleClickLogging(10444)})}),Q(this,"handleSave",()=>{this.props.invalidateCollectionFeed(),this.handleClickLogging(10599)}),Q(this,"renderGridItem",({data:e,itemIdx:t})=>{const{collection:n,eligibleSaveToolTipExperience:i,isHomefeed:o,viewerIsOwnerOrCollaborator:a}=this.props,s="board_section"===n.type?n.board.url:n.url;if("story"===e.type)return Object(r.jsx)(j.a,{slot:t,storyId:e.id,viewType:this.viewType,viewParameter:this.viewParameter});const c=e,l="board_section"===n.type?n.board.id:n.id,d=0===t&&i;return a?Object(r.jsx)(S,{boardId:l,boardTitle:this.boardTitle,boardUrl:s,index:t,isHomefeed:!!o,moreIdeasSaveToolTipExperienceIds:this.moreIdeasSaveToolTipExperienceIds,oneTapSaveTarget:this.oneTapSaveTarget,onSave:this.handleSave,pin:c,showMoreIdeasSaveTooltip:d,viewParameter:this.viewParameter,viewType:this.viewType}):Object(r.jsx)(x.a,{attributionOption:"hide",pin:c,pinId:c.id,pinImageCrop:"none",saveButtonOptions:{type:"inline",onSave:this.handleSave},surface:"BoardMoreIdeasTabContent",trackingParameters:{slotIndex:t,viewParameter:this.viewParameter,viewType:this.viewType}})})}componentDidMount(){const{collection:e,disableBadging:t}=this.props;"board"===e.type&&t(e.id)}get boardTitle(){const{collection:e}=this.props;return"board_section"===e.type?e.title:e.name}get moreIdeasSaveToolTipExperienceIds(){const{ideasReferrer:e}=this.props;return ee(e)}get viewParameter(){const{collection:e}=this.props;return"board"===e.type?3173:3174}get viewType(){const{collection:e,isHomefeed:t}=this.props;return t?1:"board"===e.type?5:164}get oneTapSaveTarget(){const{collection:e}=this.props;if("board"===e.type)return{board:e};const t=e;return{board:t.board,boardSection:t}}get isRedirectExperimentReferrer(){const{ideasReferrer:e}=this.props;return e===String(22)}render(){const{collection:e,hideHeader:t,isHomefeed:n,reducePadding:i,resource:o,scrollContainer:a}=this.props,{fetchMore:c,isAtEnd:l,isFetching:h,isLoaded:f,data:b}=o,{sectionNameAddedMap:g}=this.state,{sectionTemplatesStory:j,sectionNamesStory:_,items:O}=(b||[]).reduce(({sectionTemplatesStory:e,sectionNamesStory:t,items:n},r)=>("story"===r.type&&"section_title_recommendations"===r.story_type?t=r:"story"===r.type&&"board_section_templates"===r.story_type?e=r:("pin"===r.type||"story"===r.type&&"homefeed_board_tab_banner"!==r.story_type)&&(n=n.concat(r)),{sectionTemplatesStory:e,sectionNamesStory:t,items:n}),{sectionTemplatesStory:void 0,sectionNamesStory:void 0,items:[]}),x=_?(w=_,w.objects.reduce((e,t)=>e.concat("board_section_name_recommendation"===t.type?[t]:[]),[])).filter(({name:e})=>!g[Z(e)]):[];var w;const S=(O||[]).length>0&&this.isRedirectExperimentReferrer;return Object(r.jsx)(H.a,{component:13204,view:this.viewType,viewParameter:this.viewParameter,children:Object(r.jsxs)(p.e,{paddingY:i?0:2,children:[!!n&&"board"===e.type&&Object(r.jsx)(y,{hideHeader:!!t,name:e.name,onClick:this.handleBoardLinkClick,url:e.url}),(null==j?void 0:j.objects)&&Object(r.jsx)(K,{boardId:e.id,sectionTemplates:j.objects}),x.length>0&&Object(r.jsx)(T,{recommendations:x}),(O||[]).length>0&&Object(r.jsxs)(p.e,{paddingY:2,children:[_&&Object(r.jsx)(s.a,{children:Object(r.jsx)(p.e,{paddingY:2,children:Object(r.jsx)(p.U,{children:Object(r.jsx)("span",{className:"deprecatedTextSizeXL",children:u.a._("Pins you might like","title for pin recommendations on more ideas tab","title for pin recommendations on more ideas tab")})})})}),S&&Object(r.jsx)(s.a,{children:Object(r.jsx)(p.e,{marginBottom:4,children:Object(r.jsx)(p.U,{children:u.a._("Based on your board’s title, we think you’ll love these Pins","title for pin recommendations on more ideas tab","title for pin recommendations on more ideas tab")})})}),Object(r.jsx)(p.e,{paddingY:i?0:2,children:Object(r.jsx)(v.default,{columnWidth:Y.e,comp:this.renderGridItem,gutterWidth:24,isAtEnd:l,isFetching:h,isLoaded:f,items:O,loadItems:c,scrollContainer:a||void 0,virtualize:!0})})]}),Object(r.jsx)(p.e,{paddingY:t?5:0,children:Object(r.jsx)(m,{collection:e,isRedirectExperimentReferrer:this.isRedirectExperimentReferrer,resource:o})}),Object(r.jsx)(d.a,{placementId:$(e.type)})]})})}}const ne={name:"BoardContentRecommendationResource",options:({collection:e,forceBackendExperiments:t,from_news_id:n,ideasReferrer:r})=>{return{type:e.type,id:e.id,force_experiments:t&&(i=t,JSON.stringify(i.trim().split(",").reduce((e,t)=>{const[n,r]=t.split(":");return n&&r?{...e,[n]:r}:e},{}))),__track__from_news_id:n,__track__referrer:r};var i},key:"resource"},re=e=>Object(X.f)(ne.name,ne.options(e)),ie=(e,t)=>{const{ideasReferrer:n}=t,{experiences:r}=e;return{eligibleSaveToolTipExperience:r&&r.eligibleExperiences&&r.eligibleExperiences[1000121]&&ee(n).includes(r.eligibleExperiences[1000121].experience_id)}},oe=(e,t)=>({createSection:n=>e(Object(c.a)({boardId:"board"===t.collection.type?t.collection.id:t.collection.board.id,name:n,nameSource:"RECOMMENDATION"})).catch(e=>{l.a.showError(e&&e.message||u.a._("Failed to create section","Error message for failed to create a section","Error message for failed to create a section"))}),disableBadging:t=>{e(Object(V.b)(t))},invalidateCollectionFeed:()=>e(Object(h.a)("board"===t.collection.type?"boardPins":"sectionPins",t.collection.id))});function ae(e){return Object(G.compose)(Object(a.connect)(ie,oe),Object(W.a)($(e),e=>({["board"===e.collection.type?"board_id":"section_id"]:e.collection.id})),Object(L.b)(ne),z.c)}const se=ae("board")(te);se.displayName="BoardMoreIdeasTabContent";const ce=se,le=ae("board_section")(te);le.displayName="BoardSectionMoreIdeasTabContent";const de=le;t.default=ce},"+ip3":function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("Ye/N"),a=n("qD10"),s=n("Sp3T"),c=n("yjg8"),l=n("U4JR"),d=n("n6mq");const u="AddPinRep";function h({ctaText:e,handleClick:t,height:n,iconSize:u,textSize:h}){const p=Object(i.useSelector)(e=>e.viewer),f=Object(s.a)();return Object(r.jsx)(d.e,{children:Object(r.jsx)(a.a,{onClick:()=>f(()=>{t&&t(),p.isPartner&&Object(l.b)(101,{component:0,element:10643})}),to:"/pin-builder/",children:Object(r.jsxs)(d.i,{children:[Object(r.jsx)(d.e,{alignItems:"center",color:"lightGray",display:"flex",fit:!0,height:n||c.e,justifyContent:"center",rounding:2,width:n||void 0,children:Object(r.jsx)(d.e,{color:"white",height:u||40,rounding:"circle",width:u||40,children:Object(r.jsx)(d.u,{accessibilityLabel:"",color:"red",icon:"add-circle",inline:!0,size:u||40})})}),Object(r.jsx)(d.e,{padding:2,children:Object(r.jsx)(d.U,{color:"gray",size:h||"lg",weight:"bold",children:e||o.a._("Create Pin","label to open create pin modal","label to open create pin modal")})})]})})})}},"+jF9":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("pYMm"),o=n("fOPN"),a=n("LTlA"),s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=s);var n=t.payload;switch(t.type){case i.BEGIN_DRAG:return r({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case i.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case i.HOVER:return r({},e,{targetIds:n.targetIds});case o.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:r({},e,{targetIds:a.without(e.targetIds,n.targetId)});case i.DROP:return r({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case i.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},"+k3R":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]}},"+nTX":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("bxss")),o=n("n6mq");function a({anchor:e,children:t,idealDirection:n,onDismiss:a,paddingX:s,paddingY:c,size:l="lg"}){return Object(r.jsx)(o.e,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}},display:"flex",flex:"grow",children:Object(r.jsx)(i.a,{anchor:e,idealDirection:null!=n?n:"down",onDismiss:a,positionRelativeToAnchor:!0,size:l,children:Object(r.jsx)(o.e,{direction:"column",display:"flex",flex:"grow",paddingX:null!=s?s:2,paddingY:c,role:"list",children:t})})})}},"+qOO":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("4dcN"),i=n("eOdZ");function o(e){return i.a.create("BoardFollowResource",{board_id:e})}function a(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function s(e){const t="board-follow";return n=>{o(e).callCreate().then(()=>{r.a.trackEvent(t,"success")}).catch(()=>{r.a.trackEvent(t,"error"),n(a(e,!1))}),n(a(e,!0))}}function c(e){const t="board-unfollow";return n=>{o(e).callDelete().then(()=>{r.a.trackEvent(t,"success")}).catch(()=>{r.a.trackEvent(t,"error"),n(a(e,!0))}),n(a(e,!1))}}},"+wdc":function(e,t,n){var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(d,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(d,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,b=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var m=p.now();t.unstable_now=function(){return p.now()-m}}var v=!1,y=null,j=-1,_=5,O=0;a=function(){return t.unstable_now()>=O},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();O=e+_;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},r=function(e){y=e,v||(v=!0,w.postMessage(null))},i=function(e,n){j=f((function(){e(t.unstable_now())}),n)},o=function(){b(j),j=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>E(a,n))void 0!==c&&0>E(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>E(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],D=[],T=1,M=null,P=3,B=!1,A=!1,R=!1;function L(e){for(var t=C(D);null!==t;){if(null===t.callback)I(D);else{if(!(t.startTime<=e))break;I(D),t.sortIndex=t.expirationTime,S(k,t)}t=C(D)}}function N(e){if(R=!1,L(e),!A)if(null!==C(k))A=!0,r(z);else{var t=C(D);null!==t&&i(N,t.startTime-e)}}function z(e,n){A=!1,R&&(R=!1,o()),B=!0;var r=P;try{for(L(n),M=C(k);null!==M&&(!(M.expirationTime>n)||e&&!a());){var s=M.callback;if(null!==s){M.callback=null,P=M.priorityLevel;var c=s(M.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?M.callback=c:M===C(k)&&I(k),L(n)}else I(k);M=C(k)}if(null!==M)var l=!0;else{var d=C(D);null!==d&&i(N,d.startTime-n),l=!1}return l}finally{M=null,P=r,B=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||B||(A=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return C(k)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:F(e)}else a=F(e),c=s;return e={id:T++,callback:n,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,S(D,e),null===C(k)&&e===C(D)&&(R?o():R=!0,i(N,c-s))):(e.sortIndex=a,S(k,e),A||B||(A=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=C(k);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},"+wrf":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("ViqK"),c=n("yaUg"),l=n("Ye/N"),d=n("v/Q4"),u=n("n6mq");function h({actionsDisabled:e,invite:t,isDim:n,onApprove:i,onDelete:o}){const a=Object(d.a)(),{access:h,status:p,invited_by_user:f,invited_user:b}=t,g=a.isAuth&&b.id===a.id,m=a.isAuth&&f.id===a.id,v=b.id===f.id,y="accepted"===p,j=h.includes("approve"),_=h.includes("delete"),O=l.a._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),x=((e,t,n)=>e?l.a._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?l.a._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):l.a._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]"))(g,v,y),w=_&&!j,S=_&&j,C=`/${b.username}/`;return Object(r.jsxs)(u.e,{children:[Object(r.jsx)(s.a,{imageUrl:b.image_medium_url||"",name:b.full_name,title:b.full_name,subtitle:((e,n,r)=>{const i=t.invited_by_user.full_name;return e?l.a._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):n?l.a._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):r?l.a._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(c.a)(l.a._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:i})})(g,m,v),linkURL:C,isDim:void 0!==n?n:!y,accessory:w&&Object(r.jsx)(u.f,{inline:!0,disabled:e,onClick:o,text:x,size:"lg"})}),S&&Object(r.jsxs)(u.e,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end",children:[Object(r.jsx)(u.e,{paddingX:1,flex:"grow",width:"50%",children:Object(r.jsx)(u.f,{disabled:e,onClick:o,text:x,size:"lg"})}),Object(r.jsx)(u.e,{paddingX:1,flex:"grow",width:"50%",children:Object(r.jsx)(u.f,{color:"red",disabled:e,onClick:i,text:O,size:"lg"})})]})]})}var p=n("4dcN"),f=n("M1Uz"),b=n("ANjH"),g=n("L2iP"),m=n("ZE2w"),v=n("TgLd"),y=n("vvax");function j(e){const{onCancel:t,onRemove:n,useGestaltModal:i}=e,o=l.a._("Are you sure you want to leave this group board and remove it from your profile?"),a=i?u.F:v.b;return Object(r.jsx)(a,{accessibilityModalLabel:l.a._("Leave board?"),heading:l.a._("Leave board?"),onDismiss:t,size:"sm",footer:Object(r.jsxs)(u.e,{display:"flex",justifyContent:"end",children:[Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsx)(u.f,{inline:!0,onClick:t,text:l.a._("Cancel")})}),Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsx)(u.f,{color:"red",inline:!0,onClick:n,text:l.a._("Leave")})})]}),children:Object(r.jsx)(u.e,{padding:5,children:Object(r.jsx)(u.U,{children:o})})})}class _ extends i.Component{constructor(...e){var t,n,r;super(...e),r={shouldBlock:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}getBlockDescription(e,t){return"declineRequest"===e?t?Object(y.b)(l.a._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):l.a._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(y.b)(l.a._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):l.a._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}render(){const{removeType:e,firstName:t,fullName:n,onCancel:o,onRemove:a,onRemoveAndBlock:s,useGestaltModal:c}=this.props,d="declineRequest"===e?Object(y.b)(l.a._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:n}).join(""):Object(y.b)(l.a._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:n}).join(""),h=l.a._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),p=this.getBlockDescription(e,t),f=this.state.shouldBlock?l.a._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):l.a._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),b=Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(u.e,{padding:5,children:Object(r.jsx)(u.U,{children:h})}),Object(r.jsx)(u.o,{}),Object(r.jsxs)(u.e,{padding:5,display:"flex",children:[Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsx)(u.j,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState({shouldBlock:!this.state.shouldBlock})})}),Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsxs)(u.x,{htmlFor:"banUser",children:[Object(r.jsx)(u.U,{weight:"bold",children:Object(y.b)(l.a._("Block {{ name }}"),{name:t||""})}),Object(r.jsx)(u.U,{size:"md",children:p})]})})]})]}),g=c?u.F:v.b;return Object(r.jsx)(g,{accessibilityModalLabel:d,heading:d,onDismiss:o,size:"sm",footer:Object(r.jsxs)(u.e,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsx)(u.f,{inline:!0,onClick:o,text:l.a._("Cancel")})}),Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsx)(u.f,{color:"red",inline:!0,onClick:this.state.shouldBlock?s:a,text:f})})]}),children:b})}}var O=n("nGHF");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends o.a.Component{constructor(...e){super(...e),x(this,"state",{currentModal:null,loading:!1}),x(this,"showRemoveSuccessToast",()=>{const{toastManagerContext:e}=this.props,t=l.a._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");e.showOneToast(({onHide:e})=>Object(r.jsx)(f.a,{duration:3e3,onHide:e,text:t}))}),x(this,"onDelete",()=>{const{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),x(this,"onApprove",()=>{const{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),x(this,"deleteBoardInvite",(e=!1)=>{const{deleteBoardCollabInvite:t,onBoardLeave:n,onInviteDidUpdate:r}=this.props,i=this.isViewerInvitedUser,o=i?"collaborator_decline_invite":"collaborator_delete_invite";p.a.trackEvent(o,"click"),this.setState({currentModal:null,loading:!0}),t(i,e).then(()=>{p.a.trackEvent(o,"success"),r(),this.showRemoveSuccessToast(),i&&n()}).catch(()=>{p.a.trackEvent(o,"error")}).finally(()=>{this.setState({loading:!1})})}),x(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),x(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),x(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){const{viewer:e,invite:{invited_user:t}}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){const{invite:{invited_user:e,invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){const{invite:{invited_user:e},useGestaltModal:t=!1}=this.props,{currentModal:n}=this.state;return"delete"===n?this.isViewerInvitedUser?Object(r.jsx)("div",{style:{position:"absolute",zIndex:g.h+1},children:Object(r.jsx)(j,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})}):Object(r.jsx)("div",{style:{position:"absolute",zIndex:g.h+1},children:Object(r.jsx)(_,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:t})}):null}render(){const{invite:e,isDim:t}=this.props,{loading:n}=this.state;return Object(r.jsxs)(u.e,{children:[Object(r.jsx)(h,{invite:e,isDim:t&&"accepted"!==e.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:n}),this.renderCurrentModal()]})}}t.a=Object(b.compose)(Object(a.connect)(({viewer:e})=>({viewer:e}),(e,t)=>{const{invite:n,invite:{invited_user:{id:r},board:{id:i}}}=t;return{approveBoardCollabInvite:()=>e(Object(m.a)(i,r)),deleteBoardCollabInvite:(t,r)=>e(Object(m.b)(n,t,r))}}),O.c)(w)},"/5qN":function(e,t,n){n.d(t,"a",(function(){return m}));var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("rYoy"),s=n("M1Uz"),c=n("nGHF"),l=n("n6mq");const d=Object(i.lazy)(()=>n.e("ReactCopyToClipboardLibrary").then(n.t.bind(null,"P5Jw",7)));function u({linkURL:e,onDidFocus:t,onDidClickCopyButton:n}){const{showOneToast:i}=Object(c.b)(),u=o.a._("Copy link","[button] copy a URL link shown, to paste in another place","[button] copy a URL link shown, to paste in another place");return Object(r.jsxs)(l.e,{display:"flex",alignItems:"center",paddingX:4,children:[Object(r.jsx)(l.e,{flex:"grow",marginEnd:2,children:Object(r.jsx)(l.W,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),Object(r.jsx)(a.a,{fallback:Object(r.jsx)(l.f,{inline:!0,text:u,disabled:!0}),children:Object(r.jsx)(d,{text:e,onCopy:(e,t)=>{t&&i(({onHide:e})=>Object(r.jsx)(s.a,{onHide:e,text:o.a._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),n()},children:Object(r.jsx)(l.f,{inline:!0,text:u,size:"lg"})})})]})}var h=n("mvLR"),p=n("oVol"),f=n("U4JR"),b=n("udob");const g=e=>({invite_category:4,invite_channel:12,object_type:p.a.BOARD,object_id:e});function m({boardId:e}){const[t,n]=Object(i.useState)(!1),[o,a]=Object(i.useState)(null);Object(i.useEffect)(()=>{if(!o){const t=g(e),{cancel:n,promise:r}=Object(h.a)(b.a.createShareInviteData(t));return r.then(e=>a(e)),()=>{n()}}},[]);const s=o?o.invite_url:"...",c=()=>{null===o||t||(n(!0),b.a.logShareInvite(g(e),o))};return Object(r.jsx)(u,{linkURL:s,onDidClickCopyButton:()=>{Object(f.b)(101,(e=>({component:13305,element:10921,objectId:e,view:5,viewParameter:3059}))(e)),c()},onDidFocus:c})}},"/EQv":function(e,t,n){e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},"/Ecc":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVT4");t.isFirefox=r.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=r.memoize((function(){return Boolean(window.safari)}))},"/MAO":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("FDmi"),s=n("TSYQ"),c=n.n(s),l=n("Ye/N"),d=n("n6mq");function u({handleFollowClick:e,isFollowing:t,isSelf:n}){const i=t?l.a._("Unfollow"):l.a._("Follow");return n?Object(r.jsx)(d.f,{inline:!0,disabled:!0,text:l.a._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):Object(r.jsx)(d.f,{color:t?"gray":"red",inline:!0,onClick:e,text:i})}var h=n("qD10"),p=n("ZVOf"),f=n("U4JR");t.a=Object(o.connect)(null,(function(e){return{follow:t=>e(Object(p.a)(t)),unfollow:t=>e(Object(p.b)(t))}}))((function({className:e,follow:t,isSelf:n,logData:o,showName:s=!1,showFollow:l=!1,size:p="small",subtitle:b="",title:g,unfollow:m,user:v={}}){const[y,j]=Object(i.useState)(v.explicitly_followed_by_me||!1),{full_name:_,username:O}=v,x=v.image_key||v.image_medium_url||v.image_small_url;return Object(r.jsx)("div",{className:c()("Module","User","hasText","thumb",p,e),children:Object(r.jsxs)(d.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,children:[Object(r.jsx)(d.e,{flex:"grow",paddingX:1,children:Object(r.jsxs)(h.a,{className:"profileSource",to:`/${O}/`,children:[Object(r.jsx)("div",{className:"thumbImageWrapper",children:Object(r.jsx)(a.a,{name:_,src:x,size:"fit"})}),g&&Object(r.jsx)("h3",{className:"title",children:g}),s&&Object(r.jsx)("h4",{className:"fullname",children:_}),b&&Object(r.jsx)("div",{className:"subtitle",children:b})]})}),l&&Object(r.jsx)(d.e,{paddingX:1,children:Object(r.jsx)(u,{handleFollowClick:()=>{y?(m(v.id),j(!1)):(t(v.id),j(!0)),o&&Object(f.b)(101,o)},isFollowing:y,isSelf:Boolean(n)})})]})})}))},"/QE7":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n("z19Z"),o=n("EC67");function a(e){const{children:t,__dangerouslyDisableSpammyDomainCheck:n,externalData:a,href:s,isExternalLink:c=!1,onClick:l,onHistoryChange:d,target:u}=e,[h,p]=Object(r.useState)(null),[f,b]=Object(r.useState)(!1),g=Object(o.g)(),m=Object(o.h)();return Object(r.useEffect)(()=>(b(!0),()=>{b(!1)}),[]),Object(r.useEffect)(()=>{c&&!n&&null===h&&Object(i.a)({isMounted:f,pin:null==a?void 0:a.pin,location:m,spamCheckCallback:e=>p(e),href:s})},[e]),t({handleClick:({event:e})=>{Object(i.b)({isExternalLink:c,event:e})||(e.nativeEvent.preventDefault(),l&&l({event:e}),s&&(c?Object(i.c)({href:s,pinId:null==a?void 0:a.pinId,pin:null==a?void 0:a.pin,location:m,auxData:null==a?void 0:a.auxData,spamCheck:h}):Object(i.d)({event:e,onHistoryChange:d,href:s,history:g,target:"blank"===u?"blank":null})))}})}},"/WHw":function(e,t,n){n.d(t,"a",(function(){return j}));var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("JW66"),s=n("Ye/N"),c=n("5FNA"),l=n("VwDf"),d=n("Wer7"),u=n("U4JR"),h=n("vvax"),p=n("ANjH"),f=n("oN2T"),b=n("c50B");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t,n;return n=t=class extends i.Component{constructor(...e){super(...e),g(this,"state",{boardDates:[],createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[Object(b.o)({message:s.a._("Don't forget to name your board!")}),Object(b.j)({max:a.a.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:Object(h.b)(s.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:a.a.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?a.a.BoardPrivacy.PUBLIC:a.a.BoardPrivacy.PROTECTED,saving:!1}),g(this,"invalidateResource",e=>{const{dispatch:t,viewer:n}=this.props;t(Object(d.f)("BoardsResource",Object(c.a)(n.isAuth?n.username:"",e===a.a.BoardPrivacy.SECRET)))}),g(this,"createBoard",e=>{const{dispatch:t,viewer:n}=this.props;return t(Object(f.g)(e,{isFBC:n.isAuth&&0===n.boardCount}))}),g(this,"handleChangeName",(e,t)=>{const n=Object(b.r)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},()=>{t&&this.handleCreate()})}),g(this,"handleChangePrivacy",()=>{const e=this.state.privacy===a.a.BoardPrivacy.SECRET?a.a.BoardPrivacy.PUBLIC:a.a.BoardPrivacy.SECRET;this.setState({privacy:e})}),g(this,"handleChangeDate",e=>{this.setState({boardDates:e})}),g(this,"handleCreate",()=>{const{boardDates:e,inputName:t,privacy:n}=this.state,{isAdAccountOwner:r,onCreate:i,advertiser_id:o}=this.props;let a,c;e&&e.length>0&&(e.length>1?(a=Object(l.b)(e[0]),c=Object(l.b)(e[1])):c=Object(l.b)(e[0]));const d={event_start_date:a,event_date:c,privacy:n,name:t,...!r&&o?{advertiser_id:o}:{}};this.setState({saving:!0,createBoardError:null}),this.createBoard(d).then(e=>{this.setState({saving:!1}),i(e),d.event_date&&Object(u.b)(8623,{view:415,objectId:e.id})}).catch(e=>{let t=s.a._("Uh oh! Something went wrong.");if("string"==typeof e)t=e;else if(e.message){const{message:n,message_detail:r}=e;t=r?`${n} ${r}`:n}this.setState({saving:!1,createBoardError:t})}),this.invalidateResource(n)})}render(){return Object(r.jsx)(e,{onBoardCreate:this.handleCreate,onChangeBoardDate:this.handleChangeDate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,...this.props,...this.state})}},g(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),n}function v({advertiser:e,viewer:t}){const n=!e||t.isAuth&&e.owner_user_id===t.id,r=e&&e.id;return{isAdAccountOwner:n,...r?{advertiser_id:r}:{},viewer:t}}function y(e){return{dispatch:e}}function j(e){return Object(p.compose)(Object(o.connect)(v,y),m)(e)}},"/ZYE":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("493B");t.useMonitorOutput=function(e,t,n){var o=i.useCollector(e,t,n),a=o[0],s=o[1];return r.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),a}},"/acK":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("SFi7"),o=n("2S0S");t.useDragDropManager=function(){var e=r.useContext(i.context).dragDropManager;return o(null!=e,"Expected drag drop context"),e}},"/mzO":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("n6mq");function a({commentsDisabled:e,onCommentChange:t,onPhotoChange:n,photosDisabled:a,isManagedView:s,isNoTitle:c}){const l=s?6:c?0:3;return Object(r.jsxs)(o.e,{children:[!c&&Object(r.jsx)(o.o,{}),Object(r.jsxs)(o.e,{mdDisplay:"flex",justifyContent:"between",paddingX:s?0:4,paddingY:l,children:[!s&&!c&&Object(r.jsx)(o.e,{column:12,mdColumn:3,paddingY:2,children:Object(r.jsx)(o.U,{size:"md",children:i.a._("Comment and Photo Permissions")})}),Object(r.jsxs)(o.e,{column:12,mdColumn:s?12:8,children:[Object(r.jsxs)(o.e,{paddingY:1,display:"flex",alignItems:"center",children:[Object(r.jsx)(o.Q,{onChange:t,id:"CommentSwitch",switched:!e}),Object(r.jsx)(o.e,{paddingX:2,children:Object(r.jsx)(o.x,{htmlFor:"CommentSwitch",children:Object(r.jsx)(o.U,{size:"md",children:i.a._("Allow people to comment","Label for toggling comments on a pin in pin edit form","Label for toggling comments on a pin in pin edit form")})})})]}),Object(r.jsxs)(o.e,{paddingY:1,alignItems:"center",display:"flex",children:[Object(r.jsx)(o.Q,{onChange:n,id:"PhotoSwitch",switched:!a}),Object(r.jsx)(o.e,{paddingX:2,children:Object(r.jsx)(o.x,{htmlFor:"PhotoSwitch",children:Object(r.jsx)(o.U,{size:"md",children:i.a._("Allow people to upload photos","Label for toggling photos on a pin in pin edit form","Label for toggling photos on a pin in pin edit form")})})})]})]})]})]})}},"/y+l":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("8uQm"),o=n("JL7T"),a=n("dyxW"),s=n("U84a"),c=n("yxyD"),l=n("mFyV"),d=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}},u=function(e,t,n,a){if(e instanceof i)n.push(d(e,t));else{e instanceof o||l(!1);var s=e.getParentKey(),c=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},d(e,t),{children:[]});s?a[s].children.push(c):n.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],i={},o={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),i=a.stringify(r);o[i]||(o[i]=r,n[i]="".concat(s),s++)})),u(e,n,r,i)})),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,i={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(e,t)}},"/y0H":function(e,t,n){e.exports={getRemovalRange:function(e,t,n,r,i){var o=n.split(" ");o=o.map((function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e}));for(var a,s=r,c=null,l=null,d=0;d<o.length;d++){if(e<(a=s+o[d].length)&&s<t)null!==c||(c=s),l=a;else if(null!==c)break;s=a}var u=r+n.length,h=c===r,p=l===u;return(!h&&p||h&&!p)&&("forward"===i?l!==u&&l++:c!==r&&c--),{start:c,end:l}}}},"/ySb":function(e,t,n){n.r(t);var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("xKh6"),c=n("5b7f"),l=n("ZdPf"),d=n("G8fK"),u=n("juW8"),h=n("RNo4"),p=n("JiWI"),f=n("U4JR"),b=n("P79d"),g=n("LWPz"),m=n("yJZD"),v=n("+HMQ"),y=n("fNcP"),j=n("a0OY"),_=n("1inl"),O=n("Bn+j"),x=n("1YNZ"),w=n("6j0b"),S=n("Ye/N"),C=n("MhBu"),I=n("4TDQ"),E=n("4KhW"),k=n("VqlB"),D=n("MOLB"),T=n("eOdZ"),M=n("4uqU"),P=n("WG9s"),B=n("lnQP"),A=n("DzJC"),R=n.n(A),L=n("n6mq");function N({buttonText:e,componentType:t,handleButtonClick:n}){const[o,a]=Object(i.useState)(!1),[s,c]=Object(i.useState)(),l=Object(i.useRef)(),d=R()(()=>{l.current&&c(l.current.getBoundingClientRect().y)},100);return Object(i.useEffect)(()=>(window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d))),Object(i.useEffect)(()=>{var e,n;const r=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(n=document.body)||void 0===n?void 0:n.clientHeight);!o&&s<r&&(a(!0),Object(f.b)(13,{element:11681,component:t,view:5,viewParameter:3380}))},[s]),Object(r.jsx)(L.e,{marginTop:5,ref:l,children:Object(r.jsx)(L.f,{onClick:n,size:"lg",text:e})})}function z({componentType:e,elementType:t,title:n}){const[o,a]=Object(i.useState)(!1),[s,c]=Object(i.useState)(),l=Object(i.useRef)(),d=R()(()=>{l.current&&c(l.current.getBoundingClientRect().y)},100);return Object(i.useEffect)(()=>(window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d))),Object(i.useEffect)(()=>{var n,r;const i=(null===(n=window)||void 0===n?void 0:n.innerHeight)||(null===(r=document.body)||void 0===r?void 0:r.clientHeight);!o&&s<i&&(a(!0),Object(f.b)(13,{component:e,element:t,view:5,viewParameter:3380}))},[s]),Object(r.jsx)(L.e,{marginTop:11,marginBottom:5,ref:l,children:Object(r.jsx)(L.t,{size:"md",children:n})})}var F=n("82UD"),U=n("yjg8"),q=n("J8Pj");const K=()=>{};function H({buttonText:e,componentType:t,handleButtonClick:n,pins:i,storyType:o,title:a}){return Object(r.jsxs)(L.e,{alignItems:"center",display:"flex",direction:"column",justifyContent:"center",children:[a&&Object(r.jsx)(z,{componentType:t,title:a}),Object(r.jsx)(L.C,{columnWidth:U.e,comp:({data:e,itemIdx:n})=>Object(r.jsx)(L.e,{height:q.c,margin:q.a,width:U.e,children:Object(r.jsx)(F.a,{imageOnlyOption:"default",pin:e,pinId:e.id,resolution:"default",surface:"ShoppingSquareGridRelatedProductsBoth",trackingParameters:{componentType:t,contextLogData:{story_type:o},slotIndex:n,viewType:5,viewParameter:3380}})}),gutterWidth:16,items:i,loadItems:K,scrollContainer:()=>window}),e&&Object(r.jsx)(N,{buttonText:e,componentType:t,handleButtonClick:n})]})}var W=n("gYog"),V=n("EC67");var G=Object(V.k)((function(e){const{story:t,slotIndex:n}=e,{action:i={},id:o,objects:a=[],story_type:s,title:c}=t||{};if("board_shop_your_board_story_type"===s)return null;if("board_shop_related_products_header"===s)return(null==c?void 0:c.format)?Object(r.jsx)(L.e,{alignItems:"center",direction:"column",display:"flex",marginTop:3,children:Object(r.jsx)(z,{componentType:13527,elementType:11680,title:c.format})}):null;const l="board_shop_saved_products"===s?13526:13573;return Object(r.jsx)(W.a,{componentType:l,impressionType:"Story",loggingId:o,slotIndex:n,viewParameter:3380,viewType:5,children:Object(r.jsx)(H,{buttonText:null==i?void 0:i.text,componentType:l,handleButtonClick:()=>{const{history:t}=e;(null==i?void 0:i.url)&&(t.push(i.url),Object(f.b)(101,{element:11681,component:l,view:5,viewParameter:3380}))},pins:a,storyType:s,title:null==c?void 0:c.format})})})),Y=n("ESls"),J=n("rsy7"),X=n("240h"),Q=n("qLDv");function Z({boardId:e,shopFeedResource:t}){const[n,o]=Object(i.useState)(!1),[a,s]=Object(i.useState)(),c=Object(i.useRef)();Object(i.useEffect)(()=>{Object(f.b)(13,{objectId:e,view:5,viewParameter:3380})},[]);const l=R()(()=>{c.current&&s(c.current.getBoundingClientRect().y)},100);Object(i.useEffect)(()=>(window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l))),Object(i.useEffect)(()=>{var e,t;const r=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(t=document.body)||void 0===t?void 0:t.clientHeight);!n&&a<r&&(Object(f.b)(13,{component:13527,view:5,viewParameter:3380}),o(!0))},[a]);const{data:d,fetchMore:u,isAtEnd:h,isFetching:p}=t||{};if(0===(null==d?void 0:d.length)&&p)return Object(r.jsx)(L.e,{display:"flex",justifyContent:"center",width:"100%",children:Object(r.jsx)(L.O,{accessibilityLabel:S.a._("Loading shopping results","board.shopTab.results","Accessibility label for loading shopping results"),show:!0})});return Object(r.jsx)(X.a,{fetchMore:u,isAtEnd:h,isFetching:p,items:d,loadingLabel:S.a._("Loading shopping results","board.shopTab.results","Accessibility label for loading shopping results"),marginBottom:12,renderItem:({item:e,itemIdx:t})=>"pin"===e.type?Object(r.jsx)(Y.a,{name:"web_shopping_grid_labels",activate:!1,children:({customActivate:i,group:o})=>(Object(J.a)(e).length>0&&i&&(Q.e.includes(o)||o.startsWith("control"))&&i(),Object(r.jsx)(L.e,{height:q.c,margin:q.a,width:q.e,ref:n?void 0:c,children:Object(r.jsx)(F.a,{pin:e,pinId:e.id,surface:"ShoppingSquareGridRelatedProductsBoth",trackingParameters:{componentType:13527,slotIndex:t,viewType:5,viewParameter:3380}})},e.id))},e.id):Object(r.jsx)(L.e,{width:"100%",children:Object(r.jsx)(G,{story:e})},e.id)})}var $=n("8A+h"),ee=n("qUzp"),te=n("v/Q4"),ne=n("+Un0"),re=n("MD/U");function ie(e){const{board:t,tabKey:n}=e,i=Object(te.a)();switch(n){case re.d.Default:case re.d.Pins:const{currentModal:n,currentView:o,handleBoardOrganizeClick:a,handleBulkEditPinClick:s,handleContentViewChange:c,handleMoveSelectedPinsToSection:l,handleShowEditSectionModal:d,handleShowMergeSectionsConfirmationModal:h,handleSinglePinDelete:p,inBoardOrganizationMode:f,inSectionOrganizationMode:b,inSelectAll:g,isPinGridSorted:m,isSeasonal:v,sectionlessPinCount:y,selectedPinIds:j}=e,_=g?y-j.length:j.length;return n===u.a.jumpstartBoard?null:Object(r.jsx)(B.a,{actions:{onBoardOrganizeClick:a},board:t,bulkEditSelectedPins:j,currentView:o,displayActionBar:!!v,enableReordering:Object(ee.a)({board:t,viewer:i}),inBoardOrganizationMode:f,inSectionOrganizationMode:b,inSelectAll:g,isOwnBoard:Object($.a)(i,t),isPinGridSorted:m,oneTapMovePinsHandler:{moveToSection:l,numberOfSelectedPins:_},onBulkEditPinClick:s,onContentViewChange:c,onPinDelete:p,onShowEditSectionModal:d,onShowMergeSectionsConfirmationModal:h,viewParameter:Object(w.a)({board:t,viewer:i})});case re.d.MoreIdeas:const{forceBackendExperiments:O,fromNewsId:x,ideasReferrer:S}=e;return Object(r.jsx)(ne.BoardMoreIdeasTabContent,{collection:t,from_news_id:x,forceBackendExperiments:O,ideasReferrer:S,reducePadding:!0,viewerIsOwnerOrCollaborator:Object(ee.a)({board:t,viewer:i})});case re.d.Shop:const{shoppingFeedModularizedResource:C}=e;return Object(r.jsx)(Z,{boardId:t.id,shopFeedResource:C});default:return null}}var oe=n("q8wg"),ae=n("M1Uz"),se=n("QBTH"),ce=n("Scz5"),le=n("VmTC"),de=n("bbVO"),ue=n("Sbkd"),he=n("Sp3T"),pe=n("2qKt"),fe=n("vVEi"),be=n("ANjH"),ge=n("KFEb"),me=n("5FNA"),ve=n("vvax"),ye=n("Wer7"),je=n("Wrea"),_e=n("JW66"),Oe=n("C0mq"),xe=n("sxkF"),we=n("nGHF"),Se=n("oN2T"),Ce=n("w70y");function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ee extends o.a.Component{constructor(...e){super(...e),Ie(this,"state",{archiveStatusChanged:!1,boardSection:null,currentModal:this.props.initialModalType||null,groupPinsData:null,inBoardOrganizationMode:!1,inSectionOrganizationMode:!1,inSelectAll:!1,mergeConfirmationModalProps:null,selectedPinIds:[],shouldRefreshBoardOnUnmount:!1,tabKey:this.props.selectedTab||re.d.Default,currentView:Object(xe.b)(this.props.viewer,this.props.board)||"custom"}),Ie(this,"mounted",!1),Ie(this,"boardHeaderRef",Object(i.createRef)()),Ie(this,"handleFollowersClick",()=>{this.setState({currentModal:u.a.followers})}),Ie(this,"handleClearModal",()=>{this.setState({currentModal:null,mergeConfirmationModalProps:null})}),Ie(this,"handleSelectAll",()=>{this.setState({inSelectAll:!0,selectedPinIds:[]})}),Ie(this,"handleDeselectAll",()=>{this.setState({inSelectAll:!1,selectedPinIds:[]})}),Ie(this,"handleShowGroupPins",(e,t)=>{this.setState({currentModal:u.a.groupPins,groupPinsData:{clusterId:e,suggestedSectionName:t}})}),Ie(this,"handleShowBoardArchiveConfirmation",()=>{this.setState({currentModal:u.a.boardArchiveConfirmation})}),Ie(this,"handleBoardEditClick",()=>{Object(f.b)(101,{element:10845,component:13216,view:5,viewParameter:3069}),this.setState({currentModal:u.a.boardEdit})}),Ie(this,"handleBoardArchiveChange",()=>{const{dispatch:e,refreshBoardData:t}=this.props;t(),e(Object(Se.i)())}),Ie(this,"routeToViewerProfilePage",()=>{const{history:e,viewer:t}=this.props,n=t.isAuth?"/"+t.username:"/";e.replace(n)}),Ie(this,"handleBoardDelete",()=>{this.routeToViewerProfilePage()}),Ie(this,"handleBoardLeave",e=>{const{dispatch:t}=this.props;t(Object(Se.i)()),this.routeToViewerProfilePage()}),Ie(this,"handleBoardSectionChange",()=>{this.setState({boardSection:null,currentModal:null})}),Ie(this,"handleCopyPinsToBoard",e=>{const{inSelectAll:t,selectedPinIds:n}=this.state;if(t)return;T.a.create("BulkEditResource",{board_id:e,pin_ids:n}).callCreate();const r=n.length;this.setState({inBoardOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[]},()=>{this.showBulkEditCompleteToast(_e.a.BulkAction.COPY,r)})}),Ie(this,"handleContentViewChange",e=>{this.setState({currentView:e})}),Ie(this,"handleDeletePins",()=>{const{board:e,dispatch:t}=this.props,{selectedPinIds:n,inSelectAll:r}=this.state,i=n.length,o=r?"BulkEditSelectAllResource":"BulkEditResource",a=r?{board_id:e.id,pin_ids:n}:{pin_ids:n};T.a.create(o,a).callDelete(),this.setState({inBoardOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0},()=>{this.showBulkEditCompleteToast(_e.a.BulkAction.DELETE,i),setTimeout(()=>{t(Object(je.f)(e.id)),t(Object(C.a)({feedId:e.id,feedType:ge.a.BOARD_PINS,inverseSelection:r,itemIds:n,itemType:"pin"}))},1e3)})}),Ie(this,"showBulkEditCompleteToast",(e,t)=>{const{toastManagerContext:n}=this.props;let i;i=e===_e.a.BulkAction.DELETE?1===t?S.a._("Got it! Hang tight while we delete this Pin...","Toast message for bulk pins delete.","Toast message for bulk pins delete."):S.a._("Got it! Hang tight while we delete all those Pins...","Toast message for bulk pins delete.","Toast message for bulk pins delete."):1===t?S.a._("Got it! Hang tight while we copy this Pin...","Toast message for bulk pins copy.","Toast message for bulk pins copy."):S.a._("Got it! Hang tight while we copy all those Pins...","Toast message for bulk pins copy.","Toast message for bulk pins copy."),n.showOneToast(({onHide:e})=>Object(r.jsx)(ae.a,{duration:3e3,onHide:e,text:i}))}),Ie(this,"completeMoveAction",()=>{this.setState({currentModal:null,inBoardOrganizationMode:!1,inSectionOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0})}),Ie(this,"handleMoveSelectedPinsToSection",e=>{const{board:t,dispatch:n,toastManagerContext:i,makeCancelablePromise:o}=this.props,{inSelectAll:a,selectedPinIds:s}=this.state;o(n(Object(k.a)({inverseSelection:a,selectedPinIds:s,source:{boardId:t.id,sectionId:null},target:{boardId:t.id,sectionId:e.id}}))).then(()=>{this.setState({inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0});const n=a?S.a._("Got it! Hang tight while we move all those Pins...","Toast message for bulk pins move.","Toast message for bulk pins move."):Object(ve.b)(S.a._("Moved to {{sectionName}}","Toast for successfully moving pins to a section within a board","Toast for successfully moving pins to a section within a board"),{sectionName:e.title}).join("");i.showOneToast(({onHide:i})=>Object(r.jsx)(ae.a,{duration:3e3,href:a?"":`${t.url}${e.slug}`,imageUrl:" ",onHide:i,text:n}))}).catch(({isCanceled:e})=>{e||_.a.showError(S.a._("Failed to move selected Pins to the section","Error message for moving selected Pins to the selected section","Error message for moving selected Pins to the selected section"))})}),Ie(this,"handleShowBulkEditBoardPicker",e=>{const{selectedPinIds:t,inSelectAll:n}=this.state;n||t.length>0?e===_e.a.BulkAction.DELETE?this.setState({currentModal:u.a.bulkDelete}):e===_e.a.BulkAction.MOVE?this.setState({currentModal:u.a.moveSection}):this.setState({currentModal:u.a.bulkCopy}):e===_e.a.BulkAction.MOVE?_.a.showError(S.a._("Select the Pins you want to move.")):e===_e.a.BulkAction.COPY?_.a.showError(S.a._("Select the Pins you want to copy.")):e===_e.a.BulkAction.DELETE&&_.a.showError(S.a._("Select the Pins you want to delete."))}),Ie(this,"handleShowEditSectionModal",e=>this.props.requireAuth(()=>{this.setState({currentModal:u.a.editSection,boardSection:e})})),Ie(this,"handleShowMergeSectionsConfirmationModal",(e,t)=>this.props.requireAuth(()=>{this.setState({currentModal:u.a.sectionMergeConfirm,mergeConfirmationModalProps:{source:e,target:t,onConfirm:this.handleMergeSections}})})),Ie(this,"handleCreateSection",e=>this.props.requireAuth(()=>{this.setState({currentModal:null,inBoardOrganizationMode:!1,inSectionOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[],shouldRefreshBoardOnUnmount:!0}),this.showCreateSectionSuccessToast(e)})),Ie(this,"showCreateSectionSuccessToast",e=>{const{board:t,toastManagerContext:n}=this.props;n.showOneToast(({onHide:n})=>Object(r.jsx)(M.a,{boardUrl:t.url,onHide:n,slug:e.slug}))}),Ie(this,"handleMergeSections",()=>this.props.requireAuth(()=>{const{board:e,dispatch:t,showBlockingActionToast:n}=this.props,{mergeConfirmationModalProps:r}=this.state;if(!r)return;this.setState({currentModal:null,mergeConfirmationModalProps:null});const{source:i,target:o}=r;Object(f.b)(7173,{objectId:i.id,merge_flow:"dnd"}),t(Object(I.a)(e.id,i.id,o.id)).then(()=>{n({actionType:"merge",board:e,section:o})}).catch(e=>{_.a.showError(e.message||S.a._("Failed to merge sections","Error message when failed to merge sections","Error message when failed to merge sections"))})})),Ie(this,"handleShowMoveSectionModal",()=>{this.state.selectedPinIds.length>0?this.setState({currentModal:u.a.moveSection}):_.a.showError(S.a._("Select the Pins you want to move to a section."))}),Ie(this,"handleBoardOrganizeClick",e=>{this.setState({inBoardOrganizationMode:e,inSectionOrganizationMode:!1,inSelectAll:!1,selectedPinIds:[]})}),Ie(this,"handleSectionOrganizeClick",e=>this.props.requireAuth(()=>{this.setState({inSectionOrganizationMode:e,inBoardOrganizationMode:!1,selectedPinIds:[]})})),Ie(this,"handleBulkEditPinClick",e=>{const{sectionlessPinCount:t}=this.props,{selectedPinIds:n,inSelectAll:r}=this.state,i=n.includes(e)?n.filter(t=>t!==e):[...n,e];r&&i.length===t?this.setState({inSelectAll:!1,selectedPinIds:[]}):this.setState({selectedPinIds:i})}),Ie(this,"handleCollaboratorInviteClick",()=>this.setState({currentModal:u.a.collaboratorsAndPermissions})),Ie(this,"handleSinglePinDelete",()=>{this.setState({shouldRefreshBoardOnUnmount:!0})}),Ie(this,"handleTabChange",({activeTabIndex:e,event:t})=>{const{board:n,showShopFeed:r,viewer:i}=this.props;t.preventDefault(),r&&1===e&&Object(f.b)(101,{element:11688,component:13184,view:5,viewParameter:Object(w.a)({board:n,viewer:i})}),this.switchToTab(this.tabs[e]||this.tabs[0])}),Ie(this,"handleShowCollabAndPermissionsModal",()=>this.setState({currentModal:u.a.collaboratorsAndPermissions})),Ie(this,"switchToTab",({key:e,href:t,elementId:n})=>{const{board:r,dispatch:i,forceBackendExperiments:o,history:a,viewer:s}=this.props,{shouldRefreshBoardOnUnmount:c,tabKey:l}=this.state;e!==l&&(c&&i(Object(Se.c)(r.id,"pin_count")),e===re.d.MoreIdeas&&i(Object(ne.invalidateRecommendationResource)({collection:r,forceBackendExperiments:o})),this.setState({shouldRefreshBoardOnUnmount:!1,tabKey:e}),a.push(t),n&&Object(f.b)(101,{element:n,objectId:r.id,view:5,viewParameter:Object(w.a)({board:r,viewer:s})}))}),Ie(this,"handleCreatePinClick",()=>this.props.requireAuth(()=>{const{board:e,history:t}=this.props;Object(se.a)(),t.push({pathname:"/pin-builder/",state:{board:e}})})),Ie(this,"handleCreateStoryPinClick",()=>this.props.requireAuth(()=>{const{history:e}=this.props;e.push("/story-pin-builder/")})),Ie(this,"handleOpenSendBoardFlyout",()=>this.props.requireAuth(()=>{Object(de.a)()})),Ie(this,"handleShowCreatePincodeModal",()=>this.props.requireAuth(()=>{Object(ce.a)(),this.setState({currentModal:u.a.pincode})})),Ie(this,"handleShowSimpleSectionCreate",()=>this.props.requireAuth(()=>{Object(le.a)(),this.setState({currentModal:u.a.simpleCreateSection})})),Ie(this,"handleShowDateModal",()=>this.props.requireAuth(()=>{this.setState({currentModal:u.a.addOrEditDate})})),Ie(this,"isPinGridSorted",()=>"custom"!==this.state.currentView)}componentDidMount(){this.mounted=!0;const{board:e,boardIsEligibleForMoreIdeasTab:t,history:n,selectedTab:r}=this.props;r!==re.d.MoreIdeas||t||n.replace(e.url)}componentDidUpdate(e){e.board.archived_by_me_at!==this.props.board.archived_by_me_at&&this.setState({archiveStatusChanged:!0})}componentWillUnmount(){const{board:e,dispatch:t,viewer:n}=this.props,{archiveStatusChanged:r,shouldRefreshBoardOnUnmount:i}=this.state;i&&t(Object(Se.c)(e.id,"pin_count")),r&&(t(Object(ye.f)("BoardsResource",Object(me.a)(n.isAuth?n.username:"","secret"===e.privacy))),t(Object(ye.f)("BoardArchiveResource"))),this.mounted=!1}get isSeasonal(){const{isSocialSeasonalBoard:e,socialHeaderBgImage:t,socialHeaderBgColor:n,textIconColor:r}=this.props;return e&&t&&n&&r}get tabs(){const{board:e,boardIsEligibleForMoreIdeasTab:t,showShopFeed:n}=this.props,{tabKey:i}=this.state,{id:o,has_fresh_more_ideas_tab:a,url:s}=e,c=[];if(c.push({elementId:10609,href:s,key:re.d.Default,showOrganizeButton:!0,title:S.a._("Pins")}),n&&c.push({href:s+"shop/",key:re.d.Shop,title:S.a._("Shop","board.boardTab.shop","Tab title on the board page to see product Pins")}),t){const e={elementId:10610,href:s+"more_ideas/?ideas_referrer=1",key:re.d.MoreIdeas,title:Object(r.jsx)(E.a,{hasFreshContent:a,tabIsActive:i===re.d.MoreIdeas,type:"board",boardId:o,onTooltipClickComplete:()=>this.switchToTab(e)})};c.push(e)}return c}render(){var e;const{board:t,forceBackendExperiments:n,from_news_id:i,ideasReferrer:o,sectionlessPinCount:a,shoppingFeedModularizedResource:s,viewer:c,socialHeaderBgImage:l,socialHeaderBgColor:d,textIconColor:u,userBlocked:h,showPulsar:p}=this.props,{boardSection:f,groupPinsData:_,inBoardOrganizationMode:S,inSelectAll:C,mergeConfirmationModalProps:I,selectedPinIds:E,tabKey:k}=this.state,{access:T,pin_count:M}=t,B=this.tabs,A=C?a-E.length:E.length,R=T&&T.includes("write")?v.a:m.a;return Object(r.jsx)(oe.a,{view:5,viewParameter:Object(w.a)({board:t,viewer:c}),objectId:t.id,children:Object(r.jsxs)("div",{className:"boardPageContentWrapper",children:[!this.isSeasonal&&S&&Object(r.jsx)(D.a,{board:t,inSelectAll:C,onDeselectAll:this.handleDeselectAll,onDone:()=>this.handleBoardOrganizeClick(!1),onSelectAll:this.handleSelectAll,onShowBulkEditBoardPicker:this.handleShowBulkEditBoardPicker,selectedPinCount:A,selectedPinIds:E}),Object(r.jsx)(L.e,{"data-test-id":"board-header",ref:this.boardHeaderRef,children:this.isSeasonal?Object(r.jsx)(P.a,{board:t,socialHeaderBgImage:l,socialHeaderBgColor:d,textIconColor:u||"white",showSendButton:!0}):Object(r.jsx)(R,{board:t,children:e=>Object(r.jsx)(j.a,{board:t,collaborators:e,handleShowCollabAndPermissionsModal:this.handleShowCollabAndPermissionsModal,handleShowDateModal:this.handleShowDateModal,onFollowersClick:this.handleFollowersClick,showPulsar:p,userBlocked:!!h})})}),!this.isSeasonal&&Object(r.jsx)(b.a,{board:t,handleAddSection:this.handleShowSimpleSectionCreate,handleBoardEdit:this.handleBoardEditClick,handleCreatePin:this.handleCreatePinClick,handleCreatePincode:this.handleShowCreatePincodeModal,handleCreateStoryPin:this.handleCreateStoryPinClick,handleOpenSendBoardFlyout:this.handleOpenSendBoardFlyout,handleOrganizeClick:()=>this.handleBoardOrganizeClick(!0),handleShowDateModal:this.handleShowDateModal,handleTabChange:this.handleTabChange,headerHeight:null===(e=this.boardHeaderRef.current)||void 0===e?void 0:e.offsetHeight,shouldStick:!S,showDensitySelector:M>=re.a,showOrganize:M>=re.b&&!S,showTabs:B.length>1,surface:"board",tabKey:k,tabs:B}),Object(r.jsx)(g.a,{boardId:t.id,handleShowArchiveConfirmation:this.handleShowBoardArchiveConfirmation,handleShowGroupPinsModal:this.handleShowGroupPins}),Object(r.jsx)(ie,{board:t,currentModal:this.state.currentModal,currentView:this.state.currentView,forceBackendExperiments:n,fromNewsId:i,handleBoardOrganizeClick:this.handleBoardOrganizeClick,handleBulkEditPinClick:this.handleBulkEditPinClick,handleContentViewChange:this.handleContentViewChange,handleMoveSelectedPinsToSection:this.handleMoveSelectedPinsToSection,handleShowEditSectionModal:this.handleShowEditSectionModal,handleShowMergeSectionsConfirmationModal:this.handleShowMergeSectionsConfirmationModal,handleSinglePinDelete:this.handleSinglePinDelete,ideasReferrer:o,inBoardOrganizationMode:this.state.inBoardOrganizationMode,inSectionOrganizationMode:this.state.inSectionOrganizationMode,inSelectAll:C,isPinGridSorted:this.isPinGridSorted(),isSeasonal:!!this.isSeasonal,sectionlessPinCount:a,selectedPinIds:E,tabKey:k,shoppingFeedModularizedResource:s}),this.state.currentModal&&Object(r.jsx)(y.a,{actions:{completeCreateSectionAction:this.handleCreateSection,completeMoveAction:this.completeMoveAction,onBoardArchiveChange:this.handleBoardArchiveChange,onBoardDelete:this.handleBoardDelete,onBoardLeave:this.handleBoardLeave,onBoardSectionDelete:this.handleBoardSectionChange,onBoardSectionSave:this.handleBoardSectionChange,onCopyPinsToBoard:this.handleCopyPinsToBoard,onDeletePins:this.handleDeletePins,onCollaboratorInviteClick:this.handleCollaboratorInviteClick},board:t,boardSection:f,bulkEditSelectedPins:E,currentModal:this.state.currentModal,groupPinsData:_,inSelectAll:C,mergeConfirmationModalProps:I,onClearModal:this.handleClearModal}),Object(r.jsx)(O.a,{placementId:18}),Object(r.jsx)(x.a,{placementId:18})]})})}}const ke=Object(be.compose)(Object(a.connect)(({boards:{content:e={},isSocialSeasonalBoard:t=!1,socialHeaderBgImage:n="",socialHeaderBgColor:r="",textIconColor:i="white"},viewer:o},{boardId:a})=>{const s=e[a];return{board:s,sectionlessPinCount:s&&s.sectionless_pin_count||0,isSocialSeasonalBoard:t,socialHeaderBgImage:n,socialHeaderBgColor:r,textIconColor:i,viewer:o}},(function(e){return{dispatch:e}})),Object(pe.a)(18,(e,t)=>({email_id:e.emailId,board_id:e.boardId,pin_count:e.sectionlessPinCount})),we.c,Oe.a,fe.d)(e=>{const t=Object(he.a)(),n=Object(ue.a)();return e.board?Object(r.jsx)(Ee,{...e,requireAuth:t,makeCancelablePromise:n}):null}),De=Object(Ce.b)({name:"ShoppingFeedModularizedResource",key:"shoppingFeedModularizedResource",options:({boardId:e})=>({board_id:e,field_set_key:"shopping_grid_item"})})(ke);function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Me extends o.a.PureComponent{constructor(...e){super(...e),Te(this,"state",{isSeasonalBoardChecked:!1,hasLoggedShopTabView:!1}),Te(this,"handleDispatchSocialBoard",()=>{this.setState({isSeasonalBoardChecked:!0})}),Te(this,"setShopTabView",()=>this.setState({hasLoggedShopTabView:!0}))}componentDidMount(){const{locationToErrorMap:e,history:t,location:n,dispatch:r}=this.props;Object(s.a)();const i=`/${n.pathname.split("/")[1]}/`;e[n.pathname]&&(r(Object(d.a)(i,e[n.pathname])),t.replace(i))}componentDidUpdate(){const{location:e,dispatch:t,history:n,boardResource:{data:r,error:i},userMetadata:o}=this.props,{hasLoggedShopTabView:a,isSeasonalBoardChecked:s}=this.state,l=r&&r.id;if(r&&l&&p.a[l]&&(s||(t(Object(Se.k)(l,"auth")),this.handleDispatchSocialBoard())),r){const{should_show_shop_feed:e}=r||{};e&&!a&&(this.setShopTabView(),Object(f.b)(13,{element:11688,view:5}))}if(i&&404===i.http_status){const r=`/${e.pathname.split("/")[1]}/`;t(Object(d.a)(e.pathname,i)),t(Object(d.a)(r,i)),n.replace(r)}Object(c.a)(o)}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(Se.f)())}render(){const{boardResource:{data:e,refreshData:t},location:n,selectedTab:i}=this.props;if(!e)return null;const o=n.state&&n.state.newBoard,a=Object(l.d)(e.sensitivity);let s=ke;const c=e.should_show_shop_feed;c&&(s=De);const d=Object(h.k)(n.search);return Object(r.jsx)(s,{boardId:e.id,boardIsEligibleForMoreIdeasTab:e.should_show_more_ideas,forceBackendExperiments:d.forceBackendExperiments,ideasReferrer:d.ideas_referrer,from_news_id:d.from_news_id,initialModalType:o&&!a&&e.should_show_more_ideas?u.a.jumpstartBoard:null,refreshBoardData:t,selectedTab:i,showPulsar:Boolean(d.showPulsar),showShopFeed:Boolean(c),userBlocked:e.owner.blocked_by_me})}}var Pe=Object(be.compose)(Object(a.connect)((function({ui:e,viewer:t}){return{locationToErrorMap:e.mainComponent.locationToErrorMap,viewer:t}}),(function(e){return{dispatch:e}})),V.k,Object(Ce.b)({name:"UserMetadataResource",key:"userMetadata",options:({viewer:e})=>({user:{id:e.username}}),allowStale:!1}))(Me),Be=n("Q59z"),Ae=n("RGZK"),Re=n("QLWx");function Le({board:e}){Object(Re.a)(e);const t=Object(Ce.a)({name:"ShoppingFeedModularizedResource",options:{field_set_key:"shopping_grid_item",board_id:e.id}});return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(Ae.a,{url:e.url,headerText:S.a._("Shop","ShopBoardToolPage.Heading","Title of shop board tool page")}),Object(r.jsx)(Z,{boardId:e.id,shopFeedResource:t})]})}var Ne=n("ypm9");var ze=Object(Oe.a)((function({boardResource:{data:e,refreshData:t},match:n}){const i=null==e?void 0:e.id,o=Object(a.useSelector)(e=>i&&(e.boards.content||{})[i])||null,{search:s,state:c}=Object(V.h)();if(Object(Ne.a)(),!o)return Object(r.jsx)(L.O,{accessibilityLabel:S.a._("Loading Board page","ExperimentalBoardPageContainer.Spinner","Accessibility label on loading spinner"),show:!0});const d=null==c?void 0:c.newBoard,p=Object(l.d)(null==e?void 0:e.sensitivity),f=d&&!p&&(null==e?void 0:e.should_show_more_ideas)?u.a.jumpstartBoard:null,b="/:username/:slug/shop"===n.path,g=Object(h.k)(s);return b?Object(r.jsx)(Le,{board:o}):Object(r.jsx)(Be.a,{board:o,initialModalType:f,refreshBoardData:t,showPulsar:Boolean(g.showPulsar)})})),Fe=n("FF6m"),Ue=n("d90F"),qe=n("75Er");t.default=Object(be.compose)(Object(Fe.a)({resourceDependencies:(e,t)=>[{name:"BoardResource",key:"boardResource",options:{username:t.username,slug:t.slug,field_set_key:"detailed"}}]}),V.k)((function({match:{params:{username:e,slug:t},path:n}}){const i=Object(te.a)(),o=i.isAuth&&i.username===e;Object(qe.b)({view_type:5,view_parameter:o?3069:3070});const a=Object(Ce.a)({name:"BoardResource",options:{username:e,slug:unescape(t||""),field_set_key:"detailed"}});let s="default";return n.includes("/pins")?s="pins":n.includes("/shop")?s="shop":n.includes("/more_ideas")&&(s="moreIdeas"),Object(r.jsx)(Ue.a,{name:"web_board_tools",children:({anyEnabled:e})=>e?Object(r.jsx)(ze,{boardResource:a}):Object(r.jsx)(Pe,{boardResource:a,selectedTab:s})})}))},"0BOE":function(e,t,n){n.d(t,"a",(function(){return o}));const r={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},i=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},o=(e,t,n="name")=>{const r=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),r=e.split(" ");let o=0;for(let a=0;a<r.length;a+=1)(i(r[a]).includes(n[o])||r[a].includes(n[o]))&&(o+=1);return o===n.length})(e[n].toLowerCase(),r))}},"0IKU":function(e,t,n){var r=n("mFyV"),i=n("OLzA");e.exports=function(e){var t=e.editorContainer;return t||r(!1),i(t.firstChild)||r(!1),t.firstChild}},"0NP8":function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("oRao"),a=n("n6mq");const s=({bold:e=!1,count:t,shortform:n=!1,size:i="md",text:s})=>Object(r.jsx)(a.e,{children:Object(r.jsxs)(a.U,{align:"center",size:i,color:"darkGray",weight:e?"bold":"normal",children:[Object(r.jsx)(o.a,{value:t,shortform:n})," ",s]})}),c=({bold:e,count:t,onClick:n,shortform:o,size:c})=>Object(r.jsx)(a.e,{children:Object(r.jsx)(a.T,{onTap:n,children:Object(r.jsx)(s,{bold:e,count:t,shortform:o,size:c,text:i.a.ngettext("follower","followers",t,"label for n follower(s)","label for n follower(s)")})})}),l=({count:e,size:t})=>{const n=i.a.ngettext("Pin","Pins",e,"label for n board section(s)","label for n board section(s)");return Object(r.jsx)(a.e,{children:Object(r.jsxs)(a.U,{inline:!0,size:t,color:"darkGray",children:[!!e&&Object(r.jsx)(o.a,{value:e})||"0"," ",n]})})}},"0RQb":function(e,t,n){var r=n("3sOJ");e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("q1tI");const i=n("NwjN").a;function o({children:e}){return e(Object(r.useContext)(i))}function a(){return Object(r.useContext)(i)}},"0TRD":function(e,t,n){e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},"0ZL5":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("c4Fo"),s=n("B2N+"),c=n("L2iP"),l=n("n6mq");const d=c.h-1,u=new l.p(d),h={1:"up",2:"right",3:"down",4:"left"};t.a=({anchors:e={},children:t,idealDirection:n,onCompleteByAnchor:c,placementId:p,positionRelativeToAnchor:f=!0,touchToDismiss:b=!0,useMasonryFlyout:g=!1})=>{const[m,v]=Object(i.useState)(!1);return Object(r.jsxs)(l.e,{position:f?"relative":void 0,children:[o.a.Children.only(t),Object(r.jsx)(a.a,{placementId:p,predicate:t=>{const{display_data:n}=t;if(2===(null==n?void 0:n.component_type)){const{anchors_by_platform:t}=n;if(null==t?void 0:t.web){const{anchor:n,placement:r}=t.web;return r===p&&n in e}}return!1},children:({complete:t,dismiss:i,display_data:a})=>{var p;const{anchors_by_platform:y={},button_text:j,button_uri:_,display_type:O,flyout_direction:x,scroll_to_dismiss:w,text:S}=a,C=null===(p=y.web)||void 0===p?void 0:p.anchor,I=e[C];if(!I)return null;const{FLYOUT:E,PULSAR:k}={FLYOUT:1,PULSAR:2},D={};if(O===k&&!f){const e=I.getClientRects();(null==e?void 0:e.length)>0&&(D.top=e[0].top,D.left=e[0].left,D.width=e[0].width,D.height=e[0].height)}const T=({children:e})=>g?Object(r.jsx)(l.y,{zIndex:u,children:e}):Object(r.jsx)(l.e,{position:"absolute",top:!0,left:!0,zIndex:u,dangerouslySetInlineStyle:{__style:D},children:e});let M=!1;function P(){w&&window.removeEventListener("scroll",P),b&&I.removeEventListener("click",P),v(!1),i(),M=!0}m||M||(w&&window.addEventListener("scroll",P),b&&I.addEventListener("click",P),v(!0));const B=h[x],A=_&&(_.startsWith("https://")||_.startsWith("http://")),R=(c||{})[C],L=()=>{t(),w&&window.removeEventListener("scroll",P),b&&I.removeEventListener("scroll",P)};return Object(r.jsxs)(o.a.Fragment,{children:[O===k&&Object(r.jsx)(T,{children:Object(r.jsx)(s.a,{anchor:I,onTouch:()=>{L(),R&&R()},zIndex:d})}),O===E&&Object(r.jsx)(T,{children:Object(r.jsx)(l.r,{anchor:I,color:"blue",idealDirection:B||n||"down",onDismiss:P,positionRelativeToAnchor:!g&&f,shouldFocus:!1,showCaret:!0,size:"md",children:Object(r.jsxs)(l.e,{padding:4,width:"220px",children:[Object(r.jsx)(l.U,{align:"center",color:"white",weight:"bold",children:S}),j?Object(r.jsx)(l.e,{display:"flex",justifyContent:"center",marginTop:4,children:Object(r.jsx)(l.e,{column:8,children:Object(r.jsx)(l.f,{color:"white",href:_,onClick:L,role:"link",size:"md",target:A?"blank":null,text:j})})}):null]})})})]})}})]})}},"0rqB":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("clxp"),s=n("n6mq");function c({children:e,group:t,isEligible:n,name:i,performsActivate:o}){let a=o?"#0f0":"#00f";return n||(a="#999"),Object(r.jsxs)(s.e,{position:"relative",children:[e,Object(r.jsx)(s.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+a,borderRadius:5}}}),Object(r.jsxs)(s.e,{position:"absolute",top:!0,left:!0,color:"lightGray",children:[i,": ",t]})]})}var l=n("NVsV");const d=o.a.memo(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:o,group:s,overrideGroup:l=null,highlighted:d=!1,children:u})=>{Object(i.useEffect)(()=>{e&&n&&t&&t(o)},[]);const h=()=>"string"==typeof l?l:s,p=h(),f=`Experiment(${o}:${p})`,b=n&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,g={group:n?p:"",anyEnabled:b,customActivate:n&&!e?()=>n?t(o):"":null};return(t=>{const i=h();return d?Object(r.jsx)(c,{group:i,isEligible:n,name:o,performsActivate:e,children:t}):t})(Object(r.jsx)(a.a,{name:f,children:u(g)}))});function u(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:o,highlightedExperiment:a,setExperimentVisible:s}=Object(i.useContext)(l.c),c=n&&o&&"string"==typeof o[t]?o[t]:null,u=n&&(a===t||a===l.a);return Object(i.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),Object(r.jsx)(d,{...e,overrideGroup:c,highlighted:u})}},"0rqM":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("TgLd"),a=n("n6mq");function s({cancelButtonLabel:e,confirmButtonLabel:t,heading:n,message:s,onCancel:c,onConfirm:l}){const d=n||i.a._("Are you sure?"),u=e||i.a._("Cancel");return Object(r.jsx)(o.b,{accessibilityModalLabel:d,footer:Object(r.jsxs)(a.e,{marginEnd:-1,marginStart:-1,children:[Object(r.jsx)(a.e,{"data-test-id":"cancel-button",padding:1,children:Object(r.jsx)(a.f,{onClick:c,size:"lg",text:u})}),Object(r.jsx)(a.e,{"data-test-id":"confirm-button",padding:1,children:Object(r.jsx)(a.f,{color:"red",onClick:l,size:"lg",text:t})})]}),heading:d,onDismiss:c,role:"alertdialog",children:Object(r.jsx)(a.e,{padding:4,children:Object(r.jsx)(a.U,{children:s})})})}},"0yL5":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=n("q1tI"),o=n("E2hd"),a=n("+nTX"),s=n("n6mq");function c({children:e,icon:t,label:n}){const c=Object(i.useRef)(null),[l,d]=Object(i.useState)(!1),u=()=>d(!1);return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(s.e,{ref:c,children:Object(r.jsx)(o.a,{accessibilityLabel:n,icon:t,onClick:()=>d(!l),selected:l})}),l&&Object(r.jsx)(a.a,{anchor:c.current,onDismiss:u,children:e({handleClose:u})})]})}},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?i(a):r;e.exports=s},"158f":function(e,t,n){var r=n("4pIB"),i=n("mFyV");var o=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},"16Al":function(e,t,n){var r=n("WbBG");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},"16ai":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.searchPortalRef=function(e){n.searchPortal=e},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.store.register(this.props.offsetKey),this.props.store.setIsOpened(!0),this.updatePortalClientRect(this.props),this.props.setEditorState(this.props.getEditorState())}},{key:"componentWillReceiveProps",value:function(e){this.updatePortalClientRect(e)}},{key:"componentWillUnmount",value:function(){this.props.store.unregister(this.props.offsetKey),this.props.store.setIsOpened(!1)}},{key:"updatePortalClientRect",value:function(e){var t=this;this.props.store.updatePortalClientRect(e.offsetKey,(function(){return t.searchPortal.getBoundingClientRect()}))}},{key:"render",value:function(){return a.default.createElement("span",{className:this.key,ref:this.searchPortalRef},this.props.children)}}]),t}(o.Component);t.default=s},"17x9":function(e,t,n){e.exports=n("16Al")()},"1IOU":function(e,t,n){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},"1Jbx":function(e,t,n){var r=n("4pIB"),i=n("h/2P"),o=n("JI+E"),a=n("jH4x"),s=n("YDMw"),c=n("e/Ok"),l=n("cmQj"),d=n("Y/kH"),u=n("pg4M"),h=n("jyDg"),p=n("C9ER"),f=n("kDkJ"),b=n("WJOU"),g=r.isBrowser("Chrome"),m=r.isBrowser("Firefox"),v=g||m?b:function(e){},y={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:l,onDragStart:d,onFocus:u,onInput:h,onKeyDown:p,onPaste:f,onSelect:b,onMouseUp:v,onKeyUp:v};e.exports=y},"1RGD":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("vvax"),s=n("n6mq");function c({header:e,onUpdate:t,value:n}){const[c,l]=Object(i.useState)(n?String(Math.floor(Number.parseInt(n,10)/60)):"0"),[d,u]=Object(i.useState)(n?String(Number.parseInt(n,10)%60):"0"),h=(e,n)=>{t(String(Number.parseInt(n,10)+60*Number.parseInt(e,10)))},p=[];for(let r=0;r<=9;r+=1)p.push({value:String(r),label:Object(a.b)(o.a.ngettext("{{ hours }} hour","{{ hours }} hours",r,"storyboard.detailsList.recipe","Option for number of hours a story pin recipe will take"),{hours:r}).join("")});const f=[];for(let r=0;r<60;r+=1)f.push({value:String(r),label:Object(a.b)(o.a.ngettext("{{ minutes }} minute","{{ minutes }} minutes",r,"storyboard.detailsList.recipe","Option for number of minutes a story pin recipe will take"),{minutes:r}).join("")});return Object(r.jsxs)(s.e,{width:"100%",display:"flex",alignItems:"end",children:[Object(r.jsx)(s.e,{width:"50%",marginEnd:2,children:Object(r.jsx)(s.M,{size:"lg",id:"hours",name:"hours",label:e,placeholder:o.a._("Hours","storyboard.detailsList.recipe","Placeholder caption for hours input in story pin recipe cooktime"),value:c,options:p,onChange:({value:e})=>{Number.isNaN(e)||(l(e),h(e,d))}})}),Object(r.jsx)(s.e,{width:"50%",marginStart:2,children:Object(r.jsx)(s.M,{size:"lg",id:"minutes",name:"minutes",placeholder:o.a._("Minutes","storyboard.detailsList.recipe","Placeholder caption for minutes input in story pin recipe cooktime"),value:d,options:f,onChange:({value:e})=>{Number.isNaN(e)||(u(e),h(c,e))}})})]})}},"1Vso":function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("7pfs"));t.a=e=>{const{accessibilityLabel:t,children:n,className:o,dataTestId:a,onClick:s,onMouseEnter:c,onMouseLeave:l,style:d}=e;return Object(r.jsx)(i.a,{children:({active:e,focused:i,hovered:u,onBlur:h,onFocus:p,onMouseDown:f,onMouseEnter:b,onMouseLeave:g,onMouseUp:m})=>Object(r.jsx)("button",{"data-test-id":a,"aria-label":t,style:d,onBlur:h,onFocus:p,onMouseDown:f,onMouseEnter:e=>{b(),c&&c(e)},onMouseLeave:e=>{g(),l&&l(e)},onMouseUp:m,onClick:s,className:o,children:n({active:e,focused:i,hovered:u})})})}},"1YNZ":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("c4Fo"),a=n("M1Uz"),s=n("U4JR");var c=e=>Object(r.jsx)(o.a,{experienceIds:e.experienceIds,placementId:e.placementId,type:10,children:({complete:t,dismiss:n,display_data:i})=>{const o=i.link||e.linkUrl;return Object(r.jsx)(a.a,{duration:i.duration,href:o,text:i.text,onClick:()=>{t(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&Object(s.b)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?t():n()}})}}),l=n("nGHF");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class h extends i.Component{constructor(...e){super(...e),d(this,"componentDidMount",()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast(({onHide:e})=>Object(r.jsx)(c,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1}))}render(){return null}}d(h,"defaultProps",{completionOnDismissal:!1});t.a=Object(l.c)(h)},"1qq2":function(e,t,n){var r;function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("rAV9"),d=n("TzU/"),u=n("mbKr"),h=n("pXmp"),p=n("rJY1"),f=n("xocI"),b=n("cwFY"),g=n("zVay"),m=g.List,v=g.Map,y=g.OrderedSet,j=n("7/2Y"),_=n("aB02"),O=n("OLzA"),x=n("GMIm"),w=b("draft_tree_data_support"),S=new RegExp("\r","g"),C=new RegExp("\n","g"),I=new RegExp("^\n","g"),E=new RegExp("&nbsp;","g"),k=new RegExp("&#13;?","g"),D=new RegExp("&#8203;?","g"),T=["bold","bolder","500","600","700","800","900"],M=["light","lighter","normal","100","200","300","400"],P=["className","href","rel","target","title"],B=["alt","className","height","src","width"],A=(o(r={},h("public/DraftStyleDefault/depth0"),0),o(r,h("public/DraftStyleDefault/depth1"),1),o(r,h("public/DraftStyleDefault/depth2"),2),o(r,h("public/DraftStyleDefault/depth3"),3),o(r,h("public/DraftStyleDefault/depth4"),4),r),R=v({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),L=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),v(t)},N=function(e){if(O(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(A).some((function(n){e.classList.contains(n)&&(t=A[n])})),t},F=function(e){if(!j(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{new u(t.href);return!0}catch(n){return!1}},U=function(e){if(!x(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},q=function(e,t){if(!O(e))return t;var n=e,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return t.withMutations((function(e){T.indexOf(r)>=0?e.add("BOLD"):M.indexOf(r)>=0&&e.remove("BOLD"),"italic"===i?e.add("ITALIC"):"normal"===i&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},K=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,t){o(this,"characterList",m()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",d),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=m(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=d,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],y())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(w?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||p(),n=i({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:m(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=m(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.nodeName.toLowerCase();if("body"===o||K(o)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;K(o)&&(this.wrapper=o,K(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var c=this.blockTypeMap.get(o);if(void 0===c)if("#text"!==o)if("br"!==o)if(U(i))this._addImgNode(i,t);else if(F(i))this._addAnchorNode(i,n,t);else{var l=t;R.has(o)&&(l=l.add(R.get(o))),l=q(i,l);var d=N(i);null!=d&&(l=l.add(d)),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),l))}else this._addBreakNode(i,t);else this._addTextNode(i,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var u=this.currentDepth,h=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!=typeof c&&(c=this.disambiguate(o,this.wrapper)||c[0]||"unstyled"),!w&&O(i)&&("unordered-list-item"===c||"ordered-list-item"===c)){var f=i;this.currentDepth=z(f,this.currentDepth)}var b=p(),g=this._toBlockConfigs(Array.from(i.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:b,childConfigs:g,type:c})),this.currentDepth=u,this.wrapper=h}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=m()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(I,"")).replace(C," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){_(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(x(e)){var n=e,r={};B.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),b("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(j(e)){var r=e,i={};P.forEach((function(e){var t=r.getAttribute(e);t&&(i[e]=t)})),i.url=new u(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var o=e[r];o.parent=t,o.prevSibling=r>0?e[r-1].key:null,o.nextSibling=r<n?e[r+1].key:null,o.children=m(o.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return m(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,o=n.characterList;t.contentBlocks.push(new s(i({},e,{text:e.text+r,characterList:e.characterList.concat(o)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=m(),i=0;i<=t;i++){var o=e[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=t(e=e.trim().replace(S,"").replace(E," ").replace(k,"").replace(D,""));if(!r)return null;var i=L(n),o=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new H(i,o).addDOMNode(r).getContentBlocks()}},"1tpI":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=r},"240h":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("J8Pj")),o=n("n6mq");function a({fetchMore:e,isAtEnd:t,isFetching:n,items:a,loadingLabel:s,marginBottom:c,renderItem:l}){return Object(r.jsxs)(o.e,{display:"flex",direction:"row",justifyContent:"center",marginBottom:c,wrap:!0,children:[Object(r.jsx)(o.J,{isAtEnd:t,isFetching:n,fetchMore:e}),(a||[]).map((e,t)=>l({item:e,itemIdx:t})),Array.apply(0,Array(12)).map((e,t)=>Object(r.jsx)(o.e,{width:i.e,margin:i.a},t)),Object(r.jsx)(o.e,{display:"flex",justifyContent:"center",width:"100%",children:Object(r.jsx)(o.O,{accessibilityLabel:s,show:n})})]})}},"2S0S":function(e,t,n){e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"2qKt":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("Y+p1"),c=n.n(s),l=(n("17x9"),n("r8eU")),d=n("Vzit"),u=n("vh5K"),h=n("pLLR"),p=n("ANjH");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>i=>{const s=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...b,...n};const g=function(e,t,n=!0,i=!0,a=!1,s){var h,p;return p=h=class extends o.a.Component{constructor(e){super(e),f(this,"state",{extraContext:void 0}),f(this,"setExtraContextState",e=>{c()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount(!1)}UNSAFE_componentWillUpdate(n,r){const{dispatch:i,experience:o,requestContext:a}=n,s=new l.b(a,"web_bypass_eligible_experience_v2").enabledWithNoActivation();let h=t;if(s&&"function"==typeof t){const o=t(this.props,this.state.extraContext||{});h=t(n,r.extraContext||{}),c()(o,h)||i(Object(d.c)(e,h,s))}else{if("function"==typeof t){const e=r.extraContext||{};h=t(n,e)}if(!Object(u.e)(o)&&"function"==typeof t&&h&&Object.keys(h).length){const n=t(this.props,this.state.extraContext||{});c()(n,h)||i(Object(d.c)(e,h))}}!o||this.props.experience&&o.id===this.props.experience.id||i(Object(d.k)(e,h))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(d.m)(e))}dispatchPlacementMount(n){var r;const{dispatch:i,requestContext:o}=this.props;let s={};s="function"==typeof t?t(this.props,this.state):{...t};const c=!n&&new l.b(o,"web_bypass_eligible_experience_v2").enabled(),u=a&&(null===(r=s)||void 0===r?void 0:r.advertiser_id)?{advertiserId:s.advertiser_id}:void 0;i(Object(d.l)(e,s,n,c,u))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[a?"advertiserExperience":"experience"]:Object(u.e)(e)?e:null};return Object(r.jsx)(s,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},f(h,"displayName",`withPlacement(${s.displayName||s.name||"Component"})`),p}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,i);return Object(p.compose)(h.e,Object(a.connect)(s))(g)}},"2r8n":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("Hz/G");function i({density:e,surface:t}){Object(r.a)({boardDensity:e,component:"board"===t?13183:13187,surface:"board",viewType:"board"===t?5:164})}var o=n("Ye/N");function a({handleClose:e,selectedDensity:t,surface:n}){return{items:[{isSelected:"regular"===t,onClick:()=>{e(),i({density:"regular",surface:n})},text:o.a._("Default","BoardHeader.ActionBar.DensityOption-Default","Clickable text to set board view density to default mode")},{isSelected:"dense"===t,onClick:()=>{e(),i({density:"dense",surface:n})},text:o.a._("Compact","BoardHeader.ActionBar.DensityOption-Compact","Clickable text to set board view density to compact mode")}],label:o.a._("View options","BoardHeader.ActionBar.ViewOptions","List of board view options")}}},"3Br+":function(e,t,n){var r=n("3sOJ"),i=n("y5P+"),o=n("kWjT"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(e,s?i.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},"3DIk":function(e,t,n){n.d(t,"a",(function(){return r}));const r="v2"},"3T4d":function(e,t,n){var r=n("WYM/"),i=n("EHEE");function o(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return o(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return o(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?o("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):o(e.style&&e.style[r(t)])}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3j7w":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n.n(r);class o extends i.a.PureComponent{constructor(...e){var t,n,r;super(...e),r=()=>{const{isAtEnd:e,isFetching:t,fetchMore:n,scrollBuffer:r,scrollHeight:i,scrollTop:o}=this.props;e||t||o+r>i&&n()},(n="check")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},"3oMh":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("Ye/N"),s=n("fevN"),c=n("oVol"),l=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.a.Component{constructor(...e){super(...e),d(this,"state",{flyoutOpen:!1}),d(this,"toggleFlyout",()=>{this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))})}render(){const{board:e,bgColor:t="white",children:n,iconColor:i="gray",onCreatePincode:d}=this.props,{flyoutOpen:u}=this.state,h={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:c.a.BOARD,url:e.url},p=n&&n({active:u,onClick:this.toggleFlyout})||Object(r.jsx)(l.v,{accessibilityLabel:a.a._("Send Board","Accessible label for button to send board","Accessible label for button to send board"),onClick:this.toggleFlyout,icon:"share",size:"lg",bgColor:t,iconColor:i});return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(l.e,{ref:e=>{this.anchor=e},children:p}),this.state.flyoutOpen&&Object(r.jsx)(l.y,{children:Object(r.jsx)(l.r,{anchor:this.anchor,idealDirection:"down",onDismiss:this.toggleFlyout,size:"xl",positionRelativeToAnchor:!1,children:Object(r.jsx)(s.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:d?()=>{this.toggleFlyout(),d()}:void 0,onHide:this.toggleFlyout,sendType:c.a.BOARD,sharedObject:h})})})]})}}},"3qQZ":function(e,t,n){},"3sOJ":function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("L0q3"),a=n("LpQA"),s=n("VSmT"),c=n("hMpd"),l=n("zVay"),d=l.OrderedSet,u=l.Record,h=l.Stack,p=l.OrderedMap,f=l.List,b=u({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),g=function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,n){return t.createWithContent(a.createFromText(e),n)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:h(),redoStack:h(),decorator:n||null,selection:c.createEmpty(r)})},t.create=function(e){var n=e.currentContent,i=r({},e,{treeMap:v(n,e.decorator),directionMap:s.getDirectionMap(n)});return new t(new b(i))},t.fromJS=function(e){return new t(new b(r({},e,{directionMap:null!=e.directionMap?p(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?d(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?a.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?h(e.redoStack.map((function(e){return a.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?p(e.treeMap).map((function(e){return f(e).map((function(e){return o.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?h(e.undoStack.map((function(e){return a.fromJS(e)}))):e.undoStack,currentContent:a.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var a=n.currentContent||e.getCurrentContent();if(i!==r){var s,c=t.get("treeMap");return s=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)})).map((function(t){return o.generate(e,t,r)})))}(a,a.getBlockMap(),c,i,r):v(a,i),void t.merge({decorator:i,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),a=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return o.generate(i,e,r)})))}(e,a.getBlockMap(),a.getEntityMap(),i)),t.merge(n)})))};var e=t.prototype;function t(e){i(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return j(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return j(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return m(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),m(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return t.acceptSelection(e,new c({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var o=s.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var a=e.getSelection(),c=e.getCurrentContent(),l=e.getUndoStack(),d=n;a!==c.getSelectionAfter()||y(e,r)?(l=l.push(c),d=d.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(d=d.set("selectionBefore",c.getSelectionBefore()));var u=e.getInlineStyleOverride(),p=["adjust-depth","change-block-type","split-block"];-1===p.indexOf(r)&&(u=null);var f={currentContent:d,directionMap:o,undoStack:l,redoStack:h(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:u};return t.set(e,f)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function m(e,t,n){return g.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(e,t){return e.getBlockMap().map((function(n){return o.generate(e,n,t)})).toOrderedMap()}function y(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function j(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):d()}e.exports=g},"3z7j":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("Wer7");function i(e,t){return n=>n(Object(r.a)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},"493B":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Gytx"),i=n("q1tI");t.useCollector=function(e,t,n){var o=i.useState((function(){return t(e)})),a=o[0],s=o[1],c=i.useCallback((function(){var i=t(e);r(a,i)||(s(i),n&&n())}),[a,e,n]);return[a,c]}},"4KhW":function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("YGxj"),s=n("Ye/N"),c=n("n6mq");const l={__style:{zIndex:1}};class d extends o.a.Component{constructor(...e){var t,n,r;super(...e),t=this,n="moreIdeasTabRef",r=o.a.createRef(),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){const{hasFreshContent:e,tabIsActive:t,type:n,onTooltipClickComplete:i}=this.props,o="board"===n?18:1000102,d="board"===n?[500993,500774]:[500778],u="board"===n?s.a._("More ideas",'Tab title on a board page for the "more ideas" view','Tab title on a board page for the "more ideas" view'):s.a._("More ideas",'Tab title on a board section page for the "more ideas" view','Tab title on a board section page for the "more ideas" view'),h="board"===n?"down":"up";return Object(r.jsxs)(c.e,{position:"relative",dangerouslySetInlineStyle:l,children:[Object(r.jsx)(c.e,{ref:this.moreIdeasTabRef,children:Object(r.jsxs)(c.e,{alignItems:"center",display:"flex",children:[Object(r.jsx)(c.e,{children:u}),e&&Object(r.jsx)(c.e,{paddingX:2,height:12,width:12,children:Object(r.jsx)(c.e,{color:"red",height:10,rounding:"circle",width:10})})]})}),!t&&Object(r.jsx)(a.a,{anchor:this.moreIdeasTabRef.current,experienceIds:d,idealDirection:h,placementId:o,onClickComplete:i})]})}}},"4TDQ":function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("3z7j"),i=n("Pqnw"),o=n("eOdZ"),a=n("KFEb"),s=n("Wer7"),c=n("Pv/+");function l(e,t,n){return l=>o.a.create("BoardSectionsMergeResource",{source_section_id:t,target_section_id:n}).callUpdate({showError:!1}).then(o=>Promise.all([l(Object(c.b)(e,t)),l(Object(s.f)("BoardSectionsRepinResource",{board_id:e})),l(Object(r.a)(n)),l(Object(i.a)(a.a.SECTION_PINS,n))]).then(()=>o))}},"4XrY":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("4pIB"),o=n("kc9Y"),a=n("WaGC"),s=n("zVay"),c=n("mFyV"),l=n("qysv"),d=s.Map,u={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=i.isBrowser("IE <= 11"),p=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=d();var n=a(e);n.MutationObserver&&!h?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,u):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=d(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return h?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=l(o(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=p},"4pIB":function(e,t,n){var r=n("Tavy"),i=n("f+ew"),o=n("o2GA"),a=n("VLkl");function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,i.contains(o,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=o(l,a)},"4uqU":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("M1Uz");function a(e){const{boardUrl:t,onHide:n,slug:a}=e;return Object(r.jsx)(o.a,{duration:2e3,href:`${t}${a}`,onHide:n,text:i.a._("Section added!","Toast for successfully creating a new board section","Toast for successfully creating a new board section")})}},"4vzw":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}},"54t5":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fOPN"),i=n("HNpt"),o=n("U4W0"),a=n("uCRx"),s=n("QLaP"),c=n("IEa/");function l(e){switch(e[0]){case"S":return o.HandlerRole.SOURCE;case"T":return o.HandlerRole.TARGET;default:s(!1,"Cannot parse handler ID: "+e)}}function d(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(i.value[1]===t)return!0;r=o}while(!r);return!1}var u=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(o.HandlerRole.SOURCE,e,t);return this.store.dispatch(r.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(o.HandlerRole.TARGET,e,t);return this.store.dispatch(r.addTarget(n)),n},e.prototype.containsHandler=function(e){return d(this.dragSources,e)||d(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),s(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return s(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return l(e)===o.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return l(e)===o.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;s(this.getSource(e),"Expected an existing source."),this.store.dispatch(r.removeSource(e)),c((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){s(this.getTarget(e),"Expected an existing target."),this.store.dispatch(r.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);s(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var r=function(e){var t=i.default().toString();switch(e){case o.HandlerRole.SOURCE:return"S"+t;case o.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(r,t),e===o.HandlerRole.SOURCE?this.dragSources.set(r,n):e===o.HandlerRole.TARGET&&this.dropTargets.set(r,n),r},e}();t.default=u},"5ARb":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("MCs0"),i=(n("QWfI"),n("2S0S")),o=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],s=function(){function e(e,t,n){var r=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){i(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o.join(", "),t),i("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){i("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},"5Ai/":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("1inl"),c=n("ajUs"),l=n("Ye/N"),d=n("uVIr"),u=n("eOdZ"),h=n("Sbkd"),p=n("Wrea"),f=n("ANjH"),b=n("KFEb"),g=n("TN0d"),m=n("vvax"),v=n("6G9P"),y=n("NjDU"),j=n("C0mq"),_=n("oN2T"),O=n("e0nq");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends o.a.PureComponent{constructor(...e){super(...e),x(this,"state",{step:"unsaved"}),x(this,"deletePin",e=>u.a.create("PinResource",{id:e}).callDelete()),x(this,"repin",()=>{const{location:e,pin:t,target:{board:n,boardSection:r},eventContext:i,previousHistory:o}=this.props,a=Object(c.a)(t,e,o)||t.tracking_params+"-0",s=!t.id&&t.image_url?Object(v.b)(t.image_url,t.link):"",l=r&&r.id,d={board_id:n.id||"",clientTrackingParams:a,description:t.description||"",image_base64:t.image_base64,link:t.link,image_url:s,is_buyable_pin:!1,is_removable:t.promoted_is_removable,media_upload_id:t.media_upload_id,pin_id:t.id||"",section:l,title:t.title||"",eventContext:i};return u.a.create("RepinResource",d).callCreate({showError:!1})}),x(this,"handleSave",()=>{const{onSave:e,makeCancelablePromise:t}=this.props,{step:n}=this.state;if("unsaving"===n)return void this.setState({step:"saving"});this.setState({step:"saving"});t(this.repin().then(({resource_response:{data:e}})=>this.shouldCompleteSave(e))).then(e).catch(({isCanceled:e})=>{if(!e){const{target:{board:e,boardSection:t}}=this.props;s.a.showError(t?Object(m.b)(l.a._("Failed to save the Pin to {{sectionName}}","Error message when failed to save to a section within a board","Error message when failed to save to a section within a board"),{sectionName:t.title}).join(""):Object(m.b)(l.a._("Failed to save the Pin to {{boardName}}","Error message when failed to save to a board","Error message when failed to save to a board"),{boardName:e.name}).join(""))}})}),x(this,"shouldCompleteSave",e=>{const{pin:t,dispatch:n,target:{board:r,boardSection:i}}=this.props,{step:o}=this.state,a=i&&i.id,s={pinId:t.id,boardId:r.id,sectionId:a,title:t.title||""};if("saving"===o){g.b.publish("currentUser","pinCreated",e),g.b.publish(e.board.id,"pinCreated",{pin:e}),n(Object(_.d)(r)),n(Object(d.a)({feedId:a||r.id,feedType:a?b.a.SECTION_PINS:b.a.BOARD_PINS,itemIds:[t.id],itemType:"pin"}));const{image_url:o,images:c}=t,l=o||c["236x"]&&c["236x"].url||"";return!i&&r.image_cover_url||(r.image_cover_url=l,n(Object(_.e)({},r))),n(Object(O.a)({...s,localPinId:e.id})),n(Object(p.d)({boardId:r.id,sectionId:i?i.id:void 0,increment:1})),n(Object(y.b)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),e}"unsaving"===o&&this.handleUnsave(e.id)}),x(this,"handleUnsave",e=>{const{step:t}=this.state,{savedInfo:n}=this.props;if("saving"===t)return void this.setState({step:"unsaving"});const r=n&&n.localPinId||e;r&&(this.setState({step:"unsaving"}),this.deletePin(r).then(()=>this.shouldCompleteUnsave(r)))}),x(this,"shouldCompleteUnsave",e=>{const{pin:t,savedInfo:n,target:{board:r,boardSection:i},dispatch:o,onDelete:a,viewerId:s}=this.props,{step:c}=this.state;"unsaving"===c&&(n&&(o(Object(O.d)({pinId:t.id})),o(Object(p.d)({boardId:r.id,sectionId:i?i.id:void 0,increment:-1})),o(Object(y.b)({userId:s,increment:-1})),g.b.publish(r.id,"pinDeleted",e),g.b.publish(e,"pinDeleted"),a&&a()),this.setState({step:"unsaved"})),"saving"===c&&this.handleSave()})}render(){const{children:e,savedInfo:t}=this.props,{step:n}=this.state;return e({save:this.handleSave,saved:"saved"===n||"saving"===n||!(!t||!t.localPinId),savedInfo:t,unsave:this.handleUnsave})}}t.a=Object(f.compose)(Object(a.connect)((e,{pin:{id:t}})=>({previousHistory:e.history.previous,savedInfo:e.pins[t]&&e.pins[t].savedInfo,viewerId:e.viewer.id})),j.a)((function(e){const t=Object(h.a)();return Object(r.jsx)(w,{...e,makeCancelablePromise:t})}))},"5RSi":function(e,t,n){var r=n("Iq8E"),i=n("qysv");e.exports=function(e,t,n,o,a){var s=i(e.getSelection());if(!t||!o)return s;var c=r.decode(t),l=c.blockKey,d=e.getBlockTree(l),u=d&&d.getIn([c.decoratorKey,"leaves",c.leafKey]),h=r.decode(o),p=h.blockKey,f=e.getBlockTree(p),b=f&&f.getIn([h.decoratorKey,"leaves",h.leafKey]);if(!u||!b)return s;var g=u.get("start"),m=b.get("start"),v=u?g+n:null,y=b?m+a:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===v&&s.getFocusKey()===p&&s.getFocusOffset()===y)return s;var j=!1;if(l===p){var _=u.get("end"),O=b.get("end");j=m===g&&O===_?a<n:m<g}else{j=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===l||e===p})).first()===p}return s.merge({anchorKey:l,anchorOffset:v,focusKey:p,focusOffset:y,isBackward:j})}},"5S2N":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("9WJf"),c=n("BkRI"),l=n.n(c),d=n("/mzO"),u=n("JW66"),h=n("eOdZ"),p=n("5FNA"),f=n("Wer7");var b=n("Sihc"),g=n("Y+p1"),m=n.n(g),v=n("Ye/N"),y=n("TgLd"),j=n("GBVV"),_=n("4cpq"),O=n("M1Uz"),x=n("nGHF"),w=n("n6mq");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends o.a.PureComponent{constructor(...e){super(...e),S(this,"state",{deleting:!1}),S(this,"unmounted",!1),S(this,"handleConfirm",()=>{if(this.state.deleting)return;const{onDeletePin:e}=this.props;this.setState({deleting:!0}),e().then(()=>this.handleDeleteDidComplete()).catch(e=>this.handleDeleteDidComplete(e))}),S(this,"handleDeleteDidComplete",e=>{const{toastManagerContext:t}=this.props;this.unmounted||this.setState({deleting:!1}),e||t.showToast(({onHide:e})=>Object(r.jsx)(O.a,{onHide:e,text:v.a._("Pin deleted!","User deleted their pin","User deleted their pin")}))})}componentWillUnmount(){this.unmounted=!0}render(){const{onDismiss:e}=this.props,{deleting:t}=this.state;return Object(r.jsx)(y.b,{heading:v.a._("Are you sure?","Confirm the user wants to delete the pin","Confirm the user wants to delete the pin"),accessibilityModalLabel:v.a._("Are you sure you want to delete this pin?","Accessible label to confirm the user wants to delete the pin","Accessible label to confirm the user wants to delete the pin"),size:"sm",onDismiss:e,footer:Object(r.jsxs)(w.e,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[Object(r.jsx)(w.e,{paddingX:1,children:Object(r.jsx)(w.f,{onClick:e,text:v.a._("Cancel")})}),Object(r.jsx)(w.e,{paddingX:1,children:Object(r.jsx)(_.a,{id:"confirm-delete-pin",children:Object(r.jsx)(j.b,{color:"red",onClick:this.handleConfirm,text:v.a._("Delete Pin"),submitting:t})})})]}),children:Object(r.jsx)(w.e,{padding:4,children:Object(r.jsx)(w.U,{children:v.a._("Once you delete a Pin, you can't undo it!")})})})}}const I=Object(x.c)(C);I.displayName="DeletePinConfirmation";var E=I,k=n("V711");function D({board:e={},canEdit:t,onBoardChange:n,onBoardCreate:i}){return Object(r.jsxs)(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(r.jsx)(w.e,{column:12,mdColumn:3,paddingY:2,children:Object(r.jsx)(w.x,{htmlFor:"BoardPicker",children:Object(r.jsx)(w.U,{size:"md",children:v.a._("Board")})})}),t?Object(r.jsx)(w.e,{column:12,mdColumn:8,children:Object(r.jsx)(k.a,{id:"BoardPicker",board:e,onBoardChosen:n,onBoardCreate:i})}):e.name&&Object(r.jsx)(w.e,{column:12,mdColumn:8,paddingY:2,children:Object(r.jsx)(w.U,{size:"md",weight:"bold",children:e.name})})]})}var T=n("TSYQ"),M=n.n(T),P=n("JKZO"),B=n("Q7uW"),A=n("U4JR");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends o.a.Component{constructor(...e){super(...e),R(this,"state",{focused:!1}),R(this,"suggestionAnchorRef",o.a.createRef()),R(this,"setRef",e=>this.textAreaRef=e),R(this,"handleBlur",e=>{this.setState({focused:!1});const{onBlur:t}=this.props;t&&t(e)}),R(this,"handleFocus",e=>{this.setState({focused:!0});const{onFocus:t}=this.props;t&&t(e)}),R(this,"handleChange",({text:e,mentions:t})=>{this.props.onDescriptionChange({value:e,userMentionTags:t})})}render(){const{canAddUserMentionTags:e,canEdit:t,description:n,errorMessage:i,initialMentions:a,label:s,placeholder:c,onDescriptionChange:l}=this.props,{focused:d}=this.state;return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(w.o,{}),Object(r.jsxs)(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(r.jsx)(w.e,{column:12,mdColumn:3,paddingY:2,children:Object(r.jsx)(w.x,{htmlFor:"DescriptionField",children:Object(r.jsx)(w.U,{size:"md",children:s})})}),t?Object(r.jsxs)(w.e,{column:12,mdColumn:8,children:[Object(r.jsx)(w.e,{children:e?Object(r.jsx)("div",{className:M()("DescriptionField",{DescriptionField__error:!!i,DescriptionField__focus:d}),id:"DescriptionField",ref:this.suggestionAnchorRef,role:"textbox",children:Object(r.jsx)(P.a,{initialMentions:a,initialText:n,onAddMention:()=>{Object(A.b)(8905,{element:116,tag_type:1})},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:()=>{Object(A.b)(8908,{element:116,tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(A.b)(8907,{element:116,tag_type:1})},maxSuggestions:4,placeholder:c})}):Object(r.jsx)(w.V,{id:"DescriptionField",placeholder:c,value:n,onChange:({value:e})=>{l({value:e,userMentionTags:[]})},hasError:(i||"").length>0})}),!!i&&Object(r.jsx)(w.e,{justifyContent:"center",children:Object(r.jsx)(B.a,{errorMessage:i,htmlFor:"pin-edit-description"})})]}):Object(r.jsx)(w.e,{column:12,mdColumn:8,paddingY:2,children:Object(r.jsx)(w.U,{size:"md",weight:"bold",children:n})})]})]})}}var N=L,z=n("VJm5"),F=n("rSLd"),U=n("xOLo");function q({isCarousel:e,onMouseEnter:t,onMouseLeave:n,shouldShowCarouselSliders:i,onCarouselSlide:o,currentIndex:a,carouselData:s,pinId:c,description:l,image:d={}}){return Object(r.jsxs)(w.e,{paddingX:4,paddingY:3,justifyContent:"center",direction:"column",children:[e&&(()=>{const e=s&&s.carousel_slots&&s.carousel_slots.length||1;return e>=2&&Object(r.jsx)(w.e,{direction:"row",padding:2,children:Object(r.jsx)(w.x,{htmlFor:"CardsIndex",children:Object(r.jsxs)(w.U,{size:"md",children:[a+1,"/",e]})})})})(),Object(r.jsx)(w.B,{width:236,children:Object(r.jsxs)(w.e,{onMouseEnter:t,onMouseLeave:n,children:[Object(r.jsxs)(w.B,{rounding:2,wash:!0,children:[e&&i&&Object(r.jsx)(w.e,{width:"100%",height:"100%",display:"inlineBlock",position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:10,background:"rgba(0, 0, 0, 0.3)"}},children:Object(r.jsx)(U.default,{handleCarouselSwipe:o,carouselIndex:a,carouselData:s,pinId:c,isEditMode:!0})}),e?Object(r.jsx)(z.a,{carouselIndex:a,isCloseup:!1,carouselData:s,pinId:c,isEditMode:!0}):Object(r.jsx)(w.w,{alt:l,color:"#efefef",naturalHeight:d.height,src:d.url,naturalWidth:d.width})]}),e&&Object(r.jsx)(F.default,{carouselIndex:a,carouselData:s,pinId:c,handleCarouselSwipe:o,isEditMode:!0,variant:"legacy"})]})})]})}function K({apiErrorMessage:e,shouldShowGenericUpdateError:t,onClickDeleteButton:n,disableDelete:i,onHide:o,shouldDisableSave:a,triggerBoardAndSectionCreate:s}){return Object(r.jsxs)(w.e,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1,children:[Object(r.jsx)(_.a,{id:"delete-pin-button",children:Object(r.jsx)(w.f,{text:v.a._("Delete","EditPinModal.EditPinFooter.Delete","delete pin"),onClick:n,disabled:i})}),t&&Object(r.jsx)(w.e,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center",children:Object(r.jsx)(B.a,{errorMessage:e||v.a._("Sorry! There was an error editing your Pin.","EditPinModal.EditPinFooter.ErrorMessageToast","Toast for pin edit error"),htmlFor:"pin-edit-generic-error"})}),Object(r.jsxs)(w.e,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2,children:[Object(r.jsx)(w.e,{paddingX:2,children:Object(r.jsx)(w.f,{text:v.a._("Cancel","EditPinModal.EditPinFooter.Cancel","cancel changes"),onClick:o})}),Object(r.jsx)(w.e,{paddingX:2,"data-test-id":"edit-pin-save",children:Object(r.jsx)(w.f,{text:v.a._("Save","EditPinModal.EditPinFooter.Save","save changes"),color:"red",onClick:s,disabled:a})})]})]})}var H=n("NXrh");function W({board:e,canEdit:t,currentSection:n,onSectionChange:i,onSectionCreate:o,sectionId:a,sectionName:s}){const c=(null==e?void 0:e.id)?H.b:H.a;return Object(r.jsxs)(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(r.jsx)(w.e,{column:12,mdColumn:3,paddingY:3,children:Object(r.jsx)(w.x,{htmlFor:"SectionPicker",children:Object(r.jsx)(w.U,{size:"md",children:v.a._("Section","label for editing a Pin's board section","label for editing a Pin's board section")})})}),t&&e?Object(r.jsx)(w.e,{column:12,mdColumn:8,children:Object(r.jsx)(c,{board:e,onSectionChange:i,selectedSectionId:a,selectedSectionName:s,onSectionCreate:o})}):Object(r.jsx)(w.e,{column:12,mdColumn:8,paddingY:2,children:Object(r.jsx)(w.U,{size:"md",weight:"bold",children:n&&!(e||{}).is_collaborative?n.title:v.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")})})]})}var V=n("VBRM"),G=n("8Enz"),Y=n("kT2/"),J=n("6HHy"),X=n("1RGD");function Q({keyValueBlocks:e,listBlocks:t,onUpdateKeyValueBlock:n,onUpdateListBlocks:o,templateType:a}){return Object(r.jsxs)(w.e,{children:[1===a&&Object(r.jsxs)(i.Fragment,{children:[Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Cook time","editModal.editStoryPinModal.details.cookTime","Label for cook time detail")}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(X.a,{onUpdate:e=>n(0,e),value:e[0]||null})})]},"cooktime"),Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Servings","editModal.editStoryPinModal.details.servings","Label for serving size detail")}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(J.a,{showLabel:!1,onUpdate:e=>n(1,e),value:e[1]||null})})]},"servingSize")]}),2===a&&Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Difficulty","editModal.editStoryPinModal.details.difficulty","Label for difficulty level detail")}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(G.a,{showLabel:!1,onUpdate:e=>n(2,e),value:e[2]||null})})]},"difficulty"),Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:(()=>{switch(a){case 1:return v.a._("Ingredients","editModal.editStoryPinModal.listHeading","Heading for an ingredients list");case 2:return v.a._("Supplies","editModal.editStoryPinModal.listHeading","Heading for a supplies list");default:return v.a._("What they'll need","editModal.editStoryPinModal.listHeading","Heading for a generic list")}})()}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(Y.a,{listBlocks:t,onUpdate:o})})]})]})}var Z=n("ESls"),$=n("Joxa");var ee=n("vvax"),te=n("MNxV");var ne=Object(a.connect)(()=>({}),e=>({completeResourceFetch:t=>e(Object(f.b)("PinResource",{field_set_key:"detailed",id:t.id},t)),invalidatePin:t=>e(Object(f.f)("PinResource",{field_set_key:"detailed",id:t}))}))((function({apiErrorMessage:e,board:t,completeResourceFetch:n,commentsDisabled:a,description:s,disableDelete:c,invalidatePin:l,isLoadingPin:u,isProcessing:p,onChangeBoard:f,onChangeComment:b,onChangePhoto:g,onChangeSection:m,onClickBoardCreate:j,onClickDeleteButton:_,onClickEditPages:O,onClickSectionCreate:x,onHide:S,photosDisabled:C,pinResource:I,sectionId:E,sectionName:D,title:T,triggerBoardAndSectionCreate:M}){var P,A;const R=null!==(P=I.data)&&void 0!==P?P:{},L=R.story_pin_data,N=null!==(A=R.images&&R.images["474x"])&&void 0!==A?A:{},[z,F]=Object(i.useState)(!1),[U,q]=Object(i.useState)(null),[K,W]=Object(i.useState)(!1),[G,Y]=Object(i.useState)({}),[J,X]=Object(i.useState)([]);Object(i.useEffect)(()=>{const e=(null==L?void 0:L.metadata.basics)||null;if(e){const t=Object($.b)(e);Y(t.keyValueBlocks||{}),X(t.listBlocks||[])}},[L]),Object(i.useEffect)(()=>{e&&q(e)},[e]);const ne=(e,t)=>{Y({...G,[e]:t}),F(!0)},re=e=>{X(e),F(!0)},ie=R.created_at?new Date(R.created_at):null,oe=ie&&Object(V.a)(ie,14),ae=!!oe&&new Date<oe,se=J.length>0||Object.keys(G).length>0,ce=Object(ee.b)(v.a._("Edit details and add, delete, or reorder pages up to {{ numDays }} days after your Story Pin is published. Edit the board and engagement settings any time.","editModal.editStoryPinModal.editTimeInformation","Let the user know how the edit settings are limited"),{numDays:14});return Object(r.jsx)(y.b,{accessibilityModalLabel:v.a._("Edit your previously saved pin","editModal.editStoryPinModal.accessibilityLabel","Accessible label for edit previously saved story pin modal"),footer:Object(r.jsxs)(w.e,{display:"flex",justifyContent:"between",children:[Object(r.jsx)(w.e,{"data-test-id":"delete-pin-button",children:Object(r.jsx)(w.f,{color:"white",disabled:c,onClick:_,size:"lg",text:v.a._("Delete","editModal.editStoryPinModal.deleteButton","Delete button for previously saved story pin")})}),!!U&&Object(r.jsx)(w.e,{display:"flex",justifyContent:"center",children:Object(r.jsx)(B.a,{errorMessage:U,htmlFor:"pin-edit-generic-error"})}),Object(r.jsxs)(w.e,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,children:[Object(r.jsx)(w.e,{paddingX:1,children:Object(r.jsx)(w.f,{onClick:S,size:"lg",text:v.a._("Cancel","editModal.editStoryPinModal.cancelButton","Cancel button to not save edits to previously saved story pin")})}),Object(r.jsx)(w.e,{"data-test-id":"edit-pin-save",paddingX:1,children:Object(r.jsx)(w.f,{color:"red",onClick:()=>{if(z&&L){W(!0);const e=Object($.c)({keyValueBlocks:G,listBlocks:J}),t=function(e){return{metadata:{basics:e.metadata.basics?Object($.a)(e.metadata.basics):void 0,diy_data:e.metadata.diy_data,pin_image_signature:e.metadata.pin_image_signature,pin_title:e.metadata.pin_title,recipe_data:e.metadata.recipe_data,template_type:e.metadata.template_type},pages:(t=e.pages,t.map(e=>{var t;const n=e.blocks.map(e=>{switch(e.type){case"story_pin_paragraph_block":return{block_style:e.block_style,style:e.style,text:e.text,type:0};case"story_pin_heading_block":return{block_style:e.block_style,level:e.level,style:e.style,text:e.text,type:1};case"story_pin_image_block":return{block_style:e.block_style,image_signature:e.image_signature,tracking_id:e.tracking_id,type:2};case"story_pin_video_block":return{block_style:e.block_style,tracking_id:e.tracking_id,type:3,video_signature:e.video_signature};default:return null}}).filter(Boolean);return n.length>0?{blocks:n,layout:e.layout,style:(null===(t=e.style)||void 0===t?void 0:t.background_color)?{background_color:e.style.background_color}:void 0}:null}).filter(Boolean))};var t}(L),r={...t,metadata:{...t.metadata,basics:e}},i={pin_id:R.id,story_pin:JSON.stringify(r)};h.a.create("StoryPinEditResource",i).callUpdate().then(e=>{const{resource_response:t}=e;l(R.id),n(t.data),M()}).catch(e=>{q(e.message),W(!1)})}else M()},size:"lg",text:v.a._("Done","editModal.editStoryPinModal.doneButton","Done button to save edits to previously saved story pin")})})]})]}),heading:v.a._("Edit Pin","editModal.editStoryPinModal.heading","Edit a previously saved story pin"),onDismiss:S,size:"md",children:u||!I.isLoaded||K||p?Object(r.jsx)(w.e,{paddingX:12,paddingY:9,children:Object(r.jsx)(w.O,{accessibilityLabel:v.a._("Loading edit information","editPinModal.editStoryPinModal.spinner","Accessible label for the edit pin loading icon"),show:!0})}):Object(r.jsx)(w.e,{overflow:"hidden",children:Object(r.jsx)(w.e,{marginEnd:-4,marginStart:-4,children:Object(r.jsx)(Z.a,{name:"web_story_pin_limit_edits",children:({anyEnabled:e})=>{var n;return Object(r.jsxs)(w.e,{display:"flex",minHeight:300,overflow:"hidden",paddingX:8,children:[Object(r.jsxs)(w.e,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",paddingX:4,children:[Object(r.jsxs)(w.B,{wash:!0,rounding:4,width:120,children:[Object(r.jsx)(w.w,{alt:s,color:"#efefef",naturalHeight:N.height,naturalWidth:N.width,src:N.url}),Object(r.jsx)(w.e,{position:"absolute",left:!0,top:!0,padding:2,children:Object(r.jsxs)(w.e,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"center",opacity:.8,padding:2,rounding:"pill",children:[Object(r.jsx)(w.u,{accessibilityLabel:v.a._("Story Pin icon","editModal.editStoryPinModal.storyPinIndicator","Story Pin icon indicator"),color:"darkGray",icon:"story-pin",size:12}),Object(r.jsx)(w.e,{marginStart:1,children:Object(r.jsx)(w.U,{size:"md",weight:"bold",children:null===(n=R.story_pin_data)||void 0===n?void 0:n.page_count})})]})})]}),ae||!e?Object(r.jsx)(w.e,{"data-test-id":"edit-pages-button",paddingY:2,children:Object(r.jsx)(w.f,{inline:!0,onClick:O,text:v.a._("Edit Pages","editModal.editStoryPinModal.editPagesButton","Edit pages label for story pin creation entry point")})}):null]}),Object(r.jsx)(w.e,{direction:"column",display:"flex",flex:"grow",paddingX:4,children:Object(r.jsx)(w.e,{marginBottom:-2,marginTop:-2,children:Object(r.jsx)(w.e,{maxHeight:500,overflow:"auto",paddingX:1,children:Object(r.jsxs)(w.e,{maxWidth:504,children:[e&&oe&&Object(r.jsx)(w.e,{paddingY:2,children:ae?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(w.U,{size:"md",children:Object(ee.b)(v.a._("Edit until {{ editDate }}","editModal.editStoryPinModal.lastEditableDate","Let user know the last date this Pin can be edited on"),{editDate:Object(r.jsx)(te.b,{dateFormatType:te.a.NUMERIC,useUTC:!1,value:oe},"noEditsTwoWeeksAfter-"+R.created_at)})}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(w.U,{color:"gray",size:"md",children:ce})})]}):Object(r.jsx)(w.U,{color:"gray",size:"md",children:ce})}),Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Title","editModal.editStoryPinModal.titleLabel","Label for form input where users will input the title of their pin")}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsxs)(w.e,{alignItems:"center",color:"lightGray",display:"flex",justifyContent:"between",padding:4,rounding:4,children:[Object(r.jsx)(w.U,{color:"gray",truncate:!0,children:T||""}),Object(r.jsx)(w.u,{accessibilityLabel:v.a._("Lock","editModal.editStoryPinModal.lockIcon.accessibilityLabel","Label for the lock icon to show that editing a story pin title is locked"),color:"darkGray",icon:"lock"})]})})]}),Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Board","editModal.editStoryPinModal.boardLabel","Label for dropdown where users will choose their board")}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(k.a,{board:t,id:"BoardPicker",isStoryPin:!0,onBoardChosen:f,onBoardCreate:j})})]}),Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Section","editModal.editStoryPinModal.sectionLabel","Label for dropdown where users will choose their section")}),Object(r.jsx)(w.e,{paddingY:2,children:(null==t?void 0:t.id)&&Object(r.jsx)(H.b,{isStoryPin:!0,board:t,onSectionChange:m,onSectionCreate:x,selectedSectionId:E,selectedSectionName:D})})]}),e&&se&&ae&&Object(r.jsx)(Q,{keyValueBlocks:G,listBlocks:J,onUpdateKeyValueBlock:ne,onUpdateListBlocks:re,templateType:null==L?void 0:L.metadata.template_type}),R.can_delete_did_it_and_comments&&Object(r.jsxs)(w.e,{paddingY:2,children:[Object(r.jsx)(w.U,{size:"md",children:v.a._("Comments and Photos Permissions","editModal.editStoryPinModal.commentsAndPhotosPermissionsLabel","Label for dropdown where users can toggle off permissions for comments and photos")}),Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(d.a,{isNoTitle:!0,commentsDisabled:a,onCommentChange:b,onPhotoChange:g,photosDisabled:C})})]})]})})})})]})}})})})})}));function re({canEdit:e,onTitleChange:t,title:n,errorMessage:i}){return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(w.o,{}),Object(r.jsxs)(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(r.jsx)(w.e,{column:12,mdColumn:3,paddingY:2,children:Object(r.jsx)(w.x,{htmlFor:"TitleField",children:Object(r.jsx)(w.U,{size:"md",children:v.a._("Title","Label for editing title of pin","Label for editing title of pin")})})}),Object(r.jsx)(w.e,{column:12,mdColumn:8,children:e?Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(w.e,{children:Object(r.jsx)(w.W,{hasError:(i||"").length>0,id:"TitleField",onChange:t,size:"lg",value:n})}),!!i&&Object(r.jsx)(w.e,{justifyContent:"center",children:Object(r.jsx)(B.a,{errorMessage:i,htmlFor:"pin-edit-title"})})]}):Object(r.jsx)(w.e,{column:12,mdColumn:8,paddingY:2,children:Object(r.jsx)(w.U,{size:"md",weight:"bold",children:n})})})]})]})}function ie({onChangeWebsite:e,link:t,errorMessage:n}){return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(w.o,{}),Object(r.jsxs)(w.e,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[Object(r.jsx)(w.e,{column:12,mdColumn:3,paddingY:2,children:Object(r.jsx)(w.x,{htmlFor:"WebsiteField",children:Object(r.jsx)(w.U,{size:"md",children:v.a._("Website")})})}),Object(r.jsxs)(w.e,{column:12,mdColumn:8,children:[Object(r.jsx)(w.e,{children:Object(r.jsx)(w.W,{hasError:(n||"").length>0,id:"WebsiteField",onChange:e,size:"lg",value:t})}),!!n&&Object(r.jsx)(w.e,{justifyContent:"center",children:Object(r.jsx)(B.a,{errorMessage:n,htmlFor:"pin-edit-website"})})]})]})]})}var oe=n("TN0d"),ae=n("3DIk"),se=n("Wrea"),ce=n("sH+O"),le=n("OSge"),de=n("r8eU"),ue=n("NjDU"),he=n("C0mq"),pe=n("eIuQ"),fe=n("pLLR"),be=n("ANjH"),ge=n("guDk"),me=n("c50B"),ve=n("VqlB"),ye=n("w70y");function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){return Boolean(e&&e.trim().length)}function Oe(e,t){const n=_e(e),r=_e(t);return(n||r)&&e!==t}class xe extends i.Component{constructor(...e){super(...e),je(this,"state",{board:this.props.pinResource.data&&this.props.pinResource.data.board||null,commentsDisabled:this.props.pinResource.data&&this.props.pinResource.data.comments_disabled||!1,description:this.props.pinResource.data&&this.props.pinResource.data.description.trim()||"",apiErrorMessage:null,link:this.props.pinResource.data&&this.props.pinResource.data.link||"",photosDisabled:this.props.pinResource.data&&this.props.pinResource.data.did_it_disabled||!1,sectionId:this.props.pinResource.data&&this.props.pinResource.data.section&&this.props.pinResource.data.section.id||null,sectionName:this.props.pinResource.data&&this.props.pinResource.data.section&&this.props.pinResource.data.section.title||null,showDeleteConfirmation:!1,carousel_data:this.props.pinResource.data&&this.props.pinResource.data.carousel_data||null,title:this.props.pinResource.data&&this.props.pinResource.data.title||"",userNote:this.props.pinResource.data&&this.props.pinResource.data.unified_user_note&&this.props.pinResource.data.unified_user_note.trim()||"",isLoadingPin:!this.props.pinResource.isLoaded,isProcessing:!1,currentIndex:void 0!==this.props.carouselSlotCurrentIndex?this.props.carouselSlotCurrentIndex:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:this.props.pinResource.data&&this.props.pinResource.data.user_mention_tags||[]}),je(this,"onClickDeleteButton",()=>this.setState({showDeleteConfirmation:!0})),je(this,"onHideConfirmation",()=>this.setState({showDeleteConfirmation:!1})),je(this,"updateCarouselSlotIndex",()=>{const{carouselSlotCurrentIndex:e}=this.props;this.setState({currentIndex:void 0!==e?e:this.props.pinResource.data&&this.props.pinResource.data.carousel_data&&this.props.pinResource.data.carousel_data.index||0})}),je(this,"handleBoardChange",e=>{const{board:{id:t}}=this.state;e.id!==t&&this.setState({board:e,sectionId:null,sectionName:null})}),je(this,"createBoard",e=>{const{createBoard:t}=this.props,{board:n}=this.state;!n.id&&n.name&&e&&t(n.name,e).then(e=>{if(this._isMounted){const{sectionId:t,sectionName:n}=this.state;!t&&n?(this.setState({board:e}),this.createSection()):(this.handleBoardChange(e),this.handleSave())}})}),je(this,"handleBoardCreateClick",e=>{if(!e)return;const t={name:e,privacy:u.a.BoardPrivacy.PUBLIC,access:"write"};this.setState({board:t,sectionId:null,sectionName:null})}),je(this,"createSection",()=>{const{board:e,sectionName:t}=this.state;if(!t)return;if(!e.id)return void this.createBoard();const n={boardId:e.id,name:t},{createSection:r}=this.props;r(n).then(e=>{this._isMounted&&(this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null}),this.handleSave())}).catch(e=>{const t=Object(ge.c)(e);this.setState({shouldShowGenericUpdateError:!t,apiErrorMessage:t?e.message:null}),e&&Object(ge.c)(e)&&this.showErrorToast(Object(ge.b)(e)||e.message)})}),je(this,"handleSectionCreateClick",e=>{if(0===e.length)return;const{board:t}=this.state;t&&this.setState({sectionId:null,sectionName:e})}),je(this,"handleSectionChange",e=>this.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})),je(this,"handleDeletePin",()=>{const{pinResource:{data:e},pinId:t,onDelete:n,onHide:r,changeBoardPinCount:i,changeUserPinCount:o,advertiser_id:a}=this.props,s={...a?{advertiser_id:a}:{},id:t};return h.a.create("PinResource",s).callDelete().then(()=>{if(this._isMounted){if(!e)return;const{board:{id:a},pinner:{id:s},section:c}=e;i({boardId:a,sectionId:c&&c.id||void 0,increment:-1}),o({userId:s,increment:-1}),oe.a.instance.publish(a,"pinDeleted",t),oe.a.instance.publish(s,"pinDeleted"),oe.a.instance.publish(t,"pinDeleted"),r(),n&&n()}})}),je(this,"sanitizeCarouselData",e=>{let{carousel_data:t}=this.state;if(e&&(t=e),t){const{carousel_slots:e}=t;if(e){const t={carousel_slots:[]};return e.forEach(e=>{const n={};n.description=e.details||"",n.title=e.title||"",n.link=e.link||"",t.carousel_slots.push(n)}),t}}return null}),je(this,"triggerBoardAndSectionCreate",e=>()=>{const{board:t,sectionId:n,sectionName:r}=this.state;t&&!t.id&&t.name?this.createBoard(e):!n&&r?this.createSection():this.handleSave()}),je(this,"logPinEditEvent",(e,t,n,r,i)=>{const o={},{pinId:a,view:s,viewParameter:c}=this.props,{userMentionTags:l}=this.state;if(o.objectId=a,o.num_user_mention_tags=l.length,e&&(o.board_was_modified=!0),!e&&t&&(o.board_section_was_modified=!0),n){const{description:e}=this.state,{description:t}=i;o.original_pin_description=t,o.edited_pin_description=e}if(r){const{carousel_data:e}=this.state,{carousel_data:t}=i;o.original_carousel_data=JSON.stringify(this.sanitizeCarouselData(t)),o.edited_carousel_data=JSON.stringify(this.sanitizeCarouselData(e))}Object(A.b)(2,{component:208,view:s,viewParameter:c,...o})}),je(this,"handleSave",()=>{this.setState({apiErrorMessage:null,isProcessing:!0});const{advertiser_id:e,pinId:t,pinResource:{data:n},invalidatePinResource:r,completeResourceFetch:i,onHide:o}=this.props;if(!n)return;const{board:a,comments_disabled:s,did_it_disabled:c,title:l,description:d,link:u,section:p,carousel_data:f}=n,{carousel_data:b,shouldShowValidationLinkFormatError:g}=this.state;let v;if(b){const e=this.sanitizeCarouselData();e&&(v=JSON.stringify(e))}const{board:y,commentsDisabled:j,currentIndex:_,photosDisabled:O,title:x,description:w,sectionId:S,carousel_data:C,userMentionTags:I}=this.state,E=y||a,k=g?u:this.state.link,D={board_id:E.id,board_section_id:S,carousel_data_json:v,description:w,disable_comments:j,disable_did_it:O,id:t,link:k,title:x,user_mention_tags:JSON.stringify(I),...e?{advertiser_id:e}:{}},T=p&&p.id||null,M=E.id,P=a.id,B=P!==M,A=(Boolean(T)||Boolean(S))&&T!==S,R=Oe(l,x),L=Oe(d,w),N=Oe(u,k),z=Boolean(C)&&Boolean(f)&&!m()(C,f);B||A||R||L||N||z||(s!==j||c!==O)?h.a.create("PinResource",D).callUpdate().then(({resource_response:e})=>{if(this._isMounted){const{changeBoardPinCount:t,onSubmit:a,pinId:s,pinMoved:c}=this.props;(B||A)&&M&&P&&(c({selectedPinIds:[s],source:{boardId:P,sectionId:T},target:{boardId:M,sectionId:S}}),t({boardId:M,sectionId:S||void 0,increment:1}),t({boardId:P,sectionId:T||void 0,increment:-1})),a&&M&&E.url&&a({boardId:M,title:E.name,sectionId:S,url:E.url}),o(),r(s);const{data:l}=e;l.carousel_data&&(l.carousel_data.index=_),i(l),this.logPinEditEvent(B,A,L,z,n)}}).catch(e=>{const t=Object(ge.c)(e),{shouldShowValidationTitleError:n,shouldShowValidationDescriptionError:r,shouldShowValidationLinkFormatError:i}=this.state;this.setState({isProcessing:!1,shouldShowGenericUpdateError:!(t||n||r||i)}),t&&this.showErrorToast(Object(ge.b)(e)||e.message)}):(o(),r(t)),this.setState({isProcessing:!1})}),je(this,"handleTextChanges",(e,t)=>{const{carousel_data:n}=this.state;if(!n)return;const r=l()(n),{carousel_slots:i=[]}=r,{currentIndex:o,shouldApplyTextToAll:a,description:s,link:c,title:d}=this.state,u=this.valueIsValidForType(e,t);switch(a?i.forEach(n=>n[t]=e):i[o]&&(i[o][t]=e),t){case"details":const t=0===o?e:s;this.setState({description:t,carousel_data:r||null,shouldShowValidationDescriptionError:!u,shouldShowGenericUpdateError:!1});break;case"link":const n=0===o?e:c;this.setState({link:n,carousel_data:r||null,shouldShowValidationLinkFormatError:!u,shouldShowGenericUpdateError:!1});break;case"title":const i=0===o?e:d;this.setState({title:i,carousel_data:r||null,shouldShowValidationTitleError:!u,shouldShowGenericUpdateError:!1})}}),je(this,"handleDescriptionChange",({value:e,userMentionTags:t})=>{const n=this.valueIsValidForType(e,"description"),r=this.valueIsValidForType(t,"userMentionTags");t.length<this.state.userMentionTags.length&&Object(A.b)(8906,{element:116,tag_type:1}),this.setState({description:e,userMentionTags:t,userNote:e,shouldShowValidationDescriptionError:!n,shouldShowValidationUserMentionTagsError:!r,shouldShowGenericUpdateError:!1})}),je(this,"handleCarouselDetailsChange",({value:e})=>{this.handleTextChanges(e,"details")}),je(this,"handleTitleChange",({value:e})=>{const t=this.valueIsValidForType(e,"title");this.setState({title:e,shouldShowValidationTitleError:!t,shouldShowGenericUpdateError:!1})}),je(this,"handleCarouselTitleChange",({value:e})=>{this.handleTextChanges(e,"title")}),je(this,"valueIsValidForType",(e,t)=>{switch(t){case"details":case"description":return e.length<=500;case"link":return e.length>=0&&0===Object(me.r)([Object(me.q)({message:v.a._("Not a valid url.","Validation error for an improperly formated url","Validation error for an improperly formated url")})],e).length;case"title":return e.length<=100;case"userMentionTags":return e.length<=5;default:return!0}}),je(this,"handleWebsiteChange",({value:e})=>{const t=this.valueIsValidForType(e,"link");this.setState({link:e,shouldDisableSave:!t,shouldShowValidationLinkFormatError:!t,shouldShowGenericUpdateError:!1})}),je(this,"handleCarouselWebsiteChange",({value:e})=>{this.handleTextChanges(e,"link")}),je(this,"handleCommentChange",e=>this.setState({commentsDisabled:!e.value})),je(this,"handlePhotoChange",e=>this.setState({photosDisabled:!e.value})),je(this,"handleShouldApplyToAll",e=>{if(e){const{currentIndex:t,carousel_data:n}=this.state;if(!n)return;const r=l()(n),{carousel_slots:i}=r,{details:o,link:a,title:s}=i[t];i.forEach(e=>{e.details=o,e.title=s,e.link=a}),this.setState({carousel_data:r,shouldApplyTextToAll:e})}else this.setState({shouldApplyTextToAll:e})}),je(this,"handleCarouselSlider",e=>{const{carousel_data:t}=this.state,n=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<n&&this.setState({currentIndex:e})}),je(this,"handleClickStoryPinPages",()=>{const{pinResource:{data:e},history:t}=this.props;e&&t.push(`/story-pin-builder/${e.id}/edit`)}),je(this,"handleMouseEnter",()=>{this.setState({shouldShowCarouselSliders:!0})}),je(this,"handleMouseLeave",()=>{this.setState({shouldShowCarouselSliders:!1})})}componentDidMount(){this._isMounted=!0,this.updateCarouselSlotIndex()}componentDidUpdate(e){const{pinResource:{data:t,isLoaded:n},carouselSlotCurrentIndex:r}=this.props;t&&n!==e.pinResource.isLoaded&&this.setState({board:t.board,commentsDisabled:t.comments_disabled,description:t.description&&t.description.trim(),isLoadingPin:!1,link:t.link,photosDisabled:t.did_it_disabled,sectionId:(t.section||{}).id,sectionName:(t.section||{}).title,title:t.title,userNote:t.unified_user_note,carousel_data:t.carousel_data,currentIndex:void 0!==r?r:t.carousel_data&&t.carousel_data.index||0,shouldApplyTextToAll:!1,userMentionTags:t.user_mention_tags||[]})}componentWillUnmount(){this._isMounted=!1}showErrorToast(e){this.props.toastManagerContext.showOneToast(({onHide:t})=>Object(r.jsx)(O.a,{color:"red",duration:5e3,onHide:t,text:e})),this.props.onHide()}getCurrentUserId(e){const{adminModeInfo:t,advertiserOwnerUserId:n}=this.props;return t&&t.version===ae.a?n:e.isAuth?e.id:""}render(){const{disableDelete:e,onHide:t,pinResource:n,pinId:i,requestContext:o,adminModeInfo:a,viewer:c}=this.props,{apiErrorMessage:l,board:u,commentsDisabled:h,description:p,link:f,photosDisabled:b,sectionId:g,sectionName:m,showDeleteConfirmation:j,title:_,userNote:O,isLoadingPin:x,isProcessing:S,carousel_data:C,shouldApplyTextToAll:I,currentIndex:k,shouldDisableSave:T,shouldShowCarouselSliders:M,shouldShowValidationTitleError:P,shouldShowValidationDescriptionError:B,shouldShowValidationLinkFormatError:A,shouldShowGenericUpdateError:R,shouldShowValidationUserMentionTagsError:L,userMentionTags:z}=this.state;if(j)return Object(r.jsx)(E,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation});const F=new de.b(o,"web_pin_notes").enabledWithNoActivation(),U=n.data||{},H=!!(C&&C.carousel_slots&&C.carousel_slots.length>1),V=C&&C.carousel_slots&&C.carousel_slots.length>0&&C.carousel_slots[k]||{},{details:G="",link:Y="",title:J=""}=V,X=(null==a?void 0:a.version)===ae.a&&!(null==a?void 0:a.writeMode),Q=!!(U&&U.story_pin_data_id&&U.story_pin_data),Z=U&&(U.access||[]).includes("write")||this.props.canEdit||!!u&&Object(s.a)({action:4,board:u}),$=e=>{const t=this.getCurrentUserId(e),n=this.props.canEdit&&this.props.advertiserOwnerUserId?this.props.advertiserOwnerUserId:t;return Z&&!U.is_repin&&!X&&!(U.aggregated_pin_data&&U.aggregated_pin_data.is_shop_the_look)&&!Q&&(H||!C)&&(U.native_creator&&U.native_creator.id===n||H&&U.pinner&&U.pinner.id===n||U.link_domain&&U.link_domain.official_user&&U.link_domain.official_user.id===n||!!U.domain&&U.pinner&&U.pinner.id===n&&U.pinner.domain_url&&U.pinner.domain_url.includes(U.domain))},ee=e=>!$(e),te=U&&U.images&&U.images["474x"]||{},oe=new de.b(o,"web_story_pin_creator").enabledWithNoActivation(),se=U.story_pin_data&&U.story_pin_data.metadata&&U.story_pin_data.metadata.version?Object(ce.a)(U.story_pin_data.metadata.version,le.c):null,ue=null!=se&&se>=0,he=!!U.story_pin_data&&!!U.story_pin_data.metadata&&!!U.story_pin_data.metadata.is_editable&&U.native_creator&&U.native_creator.id===this.getCurrentUserId(c);if(Q&&oe&&ue&&he)return Object(r.jsx)(ne,{apiErrorMessage:l,board:u,commentsDisabled:h,description:p,disableDelete:e,isLoadingPin:x,isProcessing:S,onChangeBoard:this.handleBoardChange,onChangeComment:this.handleCommentChange,onChangePhoto:this.handlePhotoChange,onChangeSection:this.handleSectionChange,onClickBoardCreate:this.handleBoardCreateClick,onClickDeleteButton:this.onClickDeleteButton,onClickEditPages:this.handleClickStoryPinPages,onClickSectionCreate:this.handleSectionCreateClick,onHide:t,photosDisabled:b,pinResource:n,sectionId:g,sectionName:m,title:_,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(c)});const fe=ee(c)?null:Object(r.jsx)(re,{canEdit:Z,onTitleChange:H?this.handleCarouselTitleChange:this.handleTitleChange,title:H?J:_,errorMessage:P?Object(pe.b)(H):""}),be=(Z||c.isAuth&&(U.pinner||{}).id===c.id)&&!(F&&ee(c))?Object(r.jsx)(N,{canAddUserMentionTags:!ee(c),canEdit:Z,description:(e=>H?G:ee(e)?O:p)(c)||"",errorMessage:(e=>B?(e=>ee(e)?Object(pe.e)(H):Object(pe.a)(H))(e):L?Object(pe.d)(H):"")(c),initialMentions:z,label:ee(c)?v.a._("Note","Label for editing user note","Label for editing user note"):v.a._("Description","Label for editing description","Label for editing description"),placeholder:ee(c)?v.a._("Write a note about this Pin...","Placeholder for editing user note","Placeholder for editing user note"):v.a._("Tell us about this Pin...","Placeholder for editing description","Placeholder for editing description"),onDescriptionChange:H?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,ge=$(c)?Object(r.jsx)(ie,{link:H?Y:f,onChangeWebsite:H?this.handleCarouselWebsiteChange:this.handleWebsiteChange,errorMessage:A?Object(pe.c)(H):""}):null,me=H?Object(r.jsxs)(w.e,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end",children:[Object(r.jsx)(w.e,{paddingY:2,children:Object(r.jsx)(w.x,{htmlFor:"applyTextToAll",children:Object(r.jsx)(w.U,{children:v.a._("Apply text to all","Apply title, description, link to all cards","Apply title, description, link to all cards")})})}),Object(r.jsx)(w.e,{paddingX:2,paddingY:2,children:Object(r.jsx)(w.Q,{onChange:e=>this.handleShouldApplyToAll(e.value),id:"applyTextToAll",switched:I})})]}):null,ve=U.can_delete_did_it_and_comments?Object(r.jsx)(d.a,{commentsDisabled:h,onCommentChange:this.handleCommentChange,onPhotoChange:this.handlePhotoChange,photosDisabled:b}):null;return Object(r.jsx)(y.b,{heading:v.a._("Edit this Pin","EditPinModal.ModalHeading.EditThisPin","Edit a previously saved pin"),accessibilityModalLabel:v.a._("Edit your previously saved pin","EditPinModal.ModalHeading.AccessibleLabel","Accessible label for edit previously saved pin modal"),size:"lg",onDismiss:t,footer:Object(r.jsx)(K,{apiErrorMessage:l,shouldShowGenericUpdateError:R,onClickDeleteButton:this.onClickDeleteButton,disableDelete:e,onHide:t,shouldDisableSave:T,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(c)}),children:x||!n.isLoaded||S?Object(r.jsx)(w.e,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(w.O,{accessibilityLabel:v.a._("loading","EditPinModal.LoadingPin.Spinner","Accessible label for the edit pin loading icon"),show:!0})}):Object(r.jsxs)(w.e,{display:"flex",justifyContent:"between",minHeight:350,paddingX:4,children:[Object(r.jsxs)(w.e,{column:12,mdColumn:9,children:[Object(r.jsx)(D,{board:u||U.board,canEdit:Z,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick}),Object(r.jsx)(W,{board:u||U.board,canEdit:Z,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:g,sectionName:m,currentSection:U.section}),fe,be,ge,me,ve]}),Object(r.jsx)(q,{isCarousel:H,shouldShowCarouselSliders:M,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:i,description:p,image:te})]})})}}const we=(e,t)=>({field_set_key:"detailed",id:e,preserve_component_state:t});t.a=Object(be.compose)(he.a,Object(ye.b)({key:"pinResource",name:"PinResource",options:e=>we(e.pinId,!0)}),fe.e,x.c,Object(a.connect)((function(e,t){const{advertiser:n,viewer:r}=e;return r.isAuth&&n?{advertiser_id:n.id,...n.owner_user_id!==r.id?{advertiserOwnerUserId:n.owner_user_id,adminModeInfo:n.admin_mode_info}:{},viewer:r}:{viewer:r}}),e=>({changeBoardPinCount:t=>e(Object(se.d)(t)),changeUserPinCount:t=>e(Object(ue.b)(t)),completeResourceFetch:t=>e(Object(f.b)("PinResource",we(t.id,!1),t)),createBoard:(t,n)=>e(function(e,t){const n={name:e,privacy:u.a.BoardPrivacy.PUBLIC};return e=>h.a.create("BoardResource",n).callCreate().then(n=>{const r=n.resource_response.data;return e(t.username&&Object(f.f)("BoardsResource",Object(p.a)(t.username,!1))),r})}(t,n)),createSection:t=>e(Object(b.a)(t)),invalidatePinResource:t=>e(Object(f.f)("PinResource",we(t,!0))),pinMoved:Object(be.bindActionCreators)(ve.b,e)})))(xe)},"5Wuq":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("kGJw"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t?new RegExp((0,o.default)(e)+"("+n+"|\\s){0,}","g"):new RegExp("(\\s|^)"+(0,o.default)(e)+n,"g");return function(e,t){!function(e,t,n){var r=t.getText();t.findEntityRanges((function(e){return!e.getEntity()}),(function(t,i){for(var o=r.slice(t,i),a=void 0,s=void 0,c=e.lastIndex;null!==(a=e.exec(o))&&e.lastIndex!==c;)c=e.lastIndex,s=t+a.index,n(s,s+a[0].length)}))}(r,e,t)}}},"5b7f":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("zpPL"),i=n("t3tn");function o(e){const t=r.a.instance;if(t&&""===t.getState().ui.views.boardPinView&&e&&e.data){const{profile_pin_rep_view_type:n}=e.data;n?t.dispatch(Object(i.a)(n)):t.dispatch(Object(i.a)("regular"))}}},"6A0I":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("JW66"),c=n("Sihc"),l=n("Ye/N"),d=n("GBVV"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a.Component{constructor(e){super(e),h(this,"onCreateSection",()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:r}=this.props;return this.setState({isSaving:!0}),t(Object(c.a)({boardId:e.id,name:this.state.inputName.trim(),pinImport:r})).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),h(this,"handleKeyDown",({event:e,value:t})=>{const{createError:n,inputName:r}=this.state;[s.a.KeyCode.ENTER,s.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&r.trim()&&this.onCreateSection()}),h(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),h(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:r}=this.state;!r||t.inputRef&&!n||r.focus()}render(){const{onClearModal:e,showTitle:t,positionRelative:n}=this.props,{createError:i,inputName:o,isSaving:a}=this.state,s=!!o.trim()&&!i;return Object(r.jsxs)(u.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:n?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[t&&Object(r.jsx)(u.e,{marginTop:3,paddingX:6,paddingY:3,children:Object(r.jsx)(u.t,{size:"sm",children:l.a._("Add section","Title in the add section modal","Title in the add section modal")})}),Object(r.jsxs)(u.e,{padding:3,children:[Object(r.jsx)(u.e,{marginBottom:2,children:Object(r.jsx)(u.x,{htmlFor:"sectionEditName",children:Object(r.jsx)(u.U,{size:"md",color:i?"red":"gray",children:l.a._("Name","Board section name","Board section name")})})}),Object(r.jsx)(u.e,{children:Object(r.jsx)(u.e,{ref:this.handleInputRef,children:Object(r.jsx)(u.W,{errorMessage:i||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:l.a._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:o})})})]}),Object(r.jsx)(u.o,{}),Object(r.jsx)(u.e,{display:"flex",flex:"grow"}),Object(r.jsx)(u.o,{}),Object(r.jsx)(u.e,{padding:6,children:Object(r.jsxs)(u.e,{display:"flex",justifyContent:"between",children:[Object(r.jsx)(u.f,{onClick:e,text:l.a._("Cancel","cancel section add","cancel section add"),inline:!0}),Object(r.jsx)(d.b,{disabled:!s||a,onClick:this.onCreateSection,submitting:a,text:l.a._("Add","add a new section","add a new section")})]})})]})}}t.a=Object(a.connect)()(p)},"6G9P":function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=(n("JW66"),n("yaUg")),s=n("Ye/N"),c=n("n6mq");const l=(e,t)=>{if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const r=n.exec(t);if(r&&r.length){e=r[0]+e}}return e},d=(e,t)=>t?Object(a.a)(s.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:t.title,boardName:e}):Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(c.U,{color:"white",children:s.a._("Saved to")}),Object(r.jsx)(c.U,{color:"white",weight:"bold",children:e})]})},"6HHy":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("vvax"),a=n("n6mq");function s({onUpdate:e,showLabel:t=!0,value:n}){const s=[];for(let r=1;r<=50;r+=1)s.push({value:String(r),label:Object(o.b)(i.a.ngettext("{{ servings }} serving","{{ servings }} servings",r,"storyboard.detailsList.field.servings","Option for number of servings a story pin recipe will provide"),{servings:r}).join("")});return Object(r.jsx)(a.e,{width:"100%",display:"flex",children:Object(r.jsx)(a.e,{width:"100%",position:"relative",children:Object(r.jsx)(a.M,{size:"lg",id:"servings",name:"servings",label:t?i.a._("Servings","storyboard.detailsList.field.servings","Header title for serving count entry for story pin recipe"):void 0,placeholder:i.a._("Pick a serving size","storyboard.detailsList.recipe","Placeholder caption for servings count input in story pin recipe"),value:n,options:s,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})})})}},"6SCp":function(e,t,n){n.d(t,"a",(function(){return i}));function r(e){return"most_reactions"===e?"most_reactions":"default"}function i(e,t,n,i){const{owner:o,should_show_board_activity:a}=e,s=o.id===t.id;let c="react_grid_pin";return t.isPartner&&s&&a?c="partner_react_grid_pin_with_board_activity":t.isPartner&&s?c="partner_react_grid_pin":a&&(c="react_grid_pin_with_board_activity"),{board_id:e.id,board_url:e.url,currentFilter:i,field_set_key:c,filter_section_pins:!0,sort:r(n),layout:e.layout,page_size:25,redux_normalize_feed:!0}}},"6j0b":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("8A+h");function i({board:e,viewer:t}){return Object(r.a)(t,e)?3069:3070}},"6tyx":function(e,t,n){(function(t){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=n("rAV9"),d=n("0TRD"),u=n("jl1W"),h=n("Idtq"),p=n("ISR0"),f=n("1Jbx"),b=n("ubb0"),g=n("Hdlu"),m=n("m75S"),v=n("3sOJ"),y=n("q1tI"),j=n("sOsl"),_=n("bU3v"),O=n("4pIB"),x=n("pXmp"),w=n("rJY1"),S=n("AyB5"),C=n("GXbk"),I=n("cwFY"),E=n("mFyV"),k=n("OLzA"),D=n("qysv"),T=O.isBrowser("IE"),M=!T,P={edit:f,composite:u,drag:p,cut:null,render:null},B=!1,A=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(y.Component),R=function(e){function n(t){var n;return s(a(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),s(a(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),i=n.editor;if(i){var o=_.getScrollParent(i),a=e||C(o),s=a.x,c=a.y;k(i)||E(!1),i.focus(),o===window?window.scrollTo(s,c):j.setTop(o,c),r||n.update(v.forceSelection(t,t.getSelection()))}})),s(a(n),"blur",(function(){var e=n.editor;e&&(k(e)||E(!1),e.blur())})),s(a(n),"setMode",(function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,s=o({},P.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var c=o({},P,{edit:s});n._handler=c[e]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(a(n),"setClipboard",(function(e){n._clipboard=e})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||w(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}c(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(b?b((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:D(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return y.createElement(g,e)}return null},r._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,c=e.editorState,l=e.preventScroll,u=e.readOnly,p=e.textAlignment,f=e.textDirectionality,b=x({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),g=this.props.role||"textbox",m="combobox"===g?!!this.props.ariaExpanded:null,v={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:o({},d,s),customStyleFn:a,editorKey:this._editorKey,editorState:c,preventScroll:l,textDirectionality:f};return y.createElement("div",{className:b},this._renderPlaceholder(),y.createElement("div",{className:x("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},y.createElement("div",{"aria-activedescendant":u?null:this.props.ariaActiveDescendantID,"aria-autocomplete":u?null:this.props.ariaAutoComplete,"aria-controls":u?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":u?null:m,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":u?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:x({notranslate:!u,"public/DraftEditor/content":!0}),contentEditable:!u,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:u?null:g,spellCheck:M&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},y.createElement(A,{editor:this,editorState:c}),y.createElement(h,i({},v,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!B&&I("draft_ods_enabled")&&(B=!0,m.initODS()),this.setMode("edit"),T&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(y.Component);s(R,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:l,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:S,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=R}).call(this,n("yLpj"))},"6uti":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case h:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case p:case l:return e;default:return t}}case g:case b:case o:return t}}}function v(e){return m(e)===h}t.typeOf=m,t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=d,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=b,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===c||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===b||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||m(e)===u},t.isConcurrentMode=v,t.isContextConsumer=function(e){return m(e)===d},t.isContextProvider=function(e){return m(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===p},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===b},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===c},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===f}},"7/2Y":function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},"75Er":function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n("+NLT"),o=n("m2Wt"),a=n("h4v/");function s(e,t){Object(r.useEffect)(()=>{if(e){const t=o.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(i.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),a.a.getInstance().addEvent(t)}},[t])}function c(e){const{children:t,log:n}=e;return s(n),t||null}},"79tv":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("QAzJ");function i(e){const{anyEnabled:t}=Object(r.c)("web_board_tools");return t?e+"_tools/more-ideas/":e+"more_ideas/"}},"7IEp":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),o=s(i),a=s(n("N1c7"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseUp=function(){n.mouseDown&&(n.props.onMentionSelect(n.props.mention),n.mouseDown=!1)},n.onMouseDown=function(e){e.preventDefault(),n.mouseDown=!0},n.onMouseEnter=function(){n.props.onMentionFocus(n.props.index)},n.mouseDown=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(){this.mouseDown=!1}},{key:"render",value:function(){var e=this.props,t=e.theme,n=void 0===t?{}:t,r=e.mention,i=e.searchValue,a=e.isFocused,s=e.id,c=a?n.mentionSuggestionsEntryFocused:n.mentionSuggestionsEntry,l=this.props.entryComponent;return o.default.createElement(l,{className:c,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,role:"option",id:s,"aria-selected":a?"true":null,theme:n,mention:r,isFocused:a,searchValue:i})}}]),t}(i.Component);c.propTypes={entryComponent:a.default.any.isRequired,searchValue:a.default.string,onMentionSelect:a.default.func},t.default=c},"7Nlx":function(e,t,n){e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},"7Pus":function(e,t,n){},"7asU":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1];return function(){for(var e=r.apply(void 0,arguments),n=t.length-2;n>=0;n-=1){var i=t[n];e=i(e)}return e}}},"7nh8":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},"7pfs":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("q1tI");function i({children:e}){const[t,n]=Object(r.useState)(!1),[i,o]=Object(r.useState)(!1),[a,s]=Object(r.useState)(!1);return e({active:t,focused:i,hovered:a,onBlur:()=>{o(!1),n(!1)},onFocus:()=>o(!0),onMouseDown:()=>n(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),n(!1)},onMouseUp:()=>n(!1)})}},"7zq+":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("Q2/A");const i=/\{\s*(\w+)\s*\}/g;var o=(e,t)=>Object(r.a)(i,e,t);function a({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return o(t,n)}},"81KI":function(e,t,n){var r=n("zVay"),i=n("Zf/v"),o=n("mFyV"),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var c=e.getBlockMap(),l=t.getStartKey(),d=t.getStartOffset(),u=c.get(l),h=u.getText(),p=u.merge({text:h.slice(0,d)+n+h.slice(d,u.getLength()),characterList:i(u.getCharacterList(),a(r,s).toList(),d)}),f=d+s;return e.merge({blockMap:c.set(l,p),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},"83bQ":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default=function(e){return r.EditorState.createWithContent(r.ContentState.createFromText(e))}},"84lc":function(e,t,n){var r=n("zVay").List,i=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,i){var o=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+o),o++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=i},"88U9":function(e,t,n){n.d(t,"a",(function(){return r}));function r(e,t){const n=t.length>3;return{limitedCollaborators:t.slice(0,n?2:3),overflowNumber:n?e-3+1:0}}},"8BbR":function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("eBDd"),a=n("n6mq");function s({pinCount:e,height:t,size:n}){const s=Object(o.a)(i.a._("+{{ pinCount }}","+N count overlay on pin selections","+N count overlay on pin selections"),{pinCount:e});return Object(r.jsx)(a.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",justifyContent:"center",height:t,children:"sm"===n?Object(r.jsx)(a.U,{color:"white",size:"md",weight:"bold",children:s}):Object(r.jsx)(a.t,{color:"white",size:"md",children:s})})}function c({additionalPinCount:e,additionalPinCountSize:t="lg",pin:n,width:i,height:o,rounded:c}){return Object(r.jsx)(a.B,{height:o,width:i,rounding:c?4:0,wash:!0,children:n&&Object(r.jsx)(a.w,{alt:n.description,color:n.dominantColor,fit:"cover",naturalHeight:o,naturalWidth:i,src:n.imageUrl,children:!!e&&Object(r.jsx)(s,{pinCount:e,height:o,size:t})})})}},"8Enz":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("n6mq");function a({onUpdate:e,showLabel:t=!0,value:n}){const a=[{label:i.a._("Easy","storyboard.detailsList.field.difficulty","Easy difficulty rating for story pin"),value:String(1)},{label:i.a._("Intermediate","storyboard.detailsList.field.difficulty","Medium difficulty rating for story pin"),value:String(2)},{label:i.a._("Expert","storyboard.detailsList.field.difficulty","Hard difficulty rating for story pin"),value:String(3)},{label:i.a._("Not applicable","storyboard.detailsList.field.difficulty","Difficulty rating does not apply for story pin"),value:String(0)}];return Object(r.jsx)(o.e,{width:"100%",display:"flex",children:Object(r.jsx)(o.e,{width:"100%",children:Object(r.jsx)(o.M,{size:"lg",id:"servings",name:"servings",label:t?i.a._("Difficulty","storyboard.detailsList.field.difficulty","Header title for difficulty rating entry for story pin"):void 0,placeholder:i.a._("Pick a difficulty rating","storyboard.detailsList.field","Placeholder caption for difficulty rating input in story pin"),value:n,options:a,onChange:({value:t})=>{Number.isNaN(t)||e(t)}})})})}},"8Mj5":function(e,t,n){n.d(t,"a",(function(){return g}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o({children:e}){return Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:e})}var a=n("Ye/N");function s({onClick:e,overlap:t,size:n}){return Object(r.jsx)(i.e,{marginStart:t,children:Object(r.jsx)(o,{children:Object(r.jsx)(i.v,{accessibilityLabel:a.a._("Add","facePile.addButton","Accessibility label for button to add a collaborator"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:e,size:n})})})}function c({style:e}){return Object(r.jsx)(i.e,{bottom:!0,dangerouslySetInlineStyle:{__style:e||{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0})}function l({children:e,hovered:t}){return Object(r.jsxs)(i.e,{position:"relative",children:[Object(r.jsx)(c,{style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:null}),e]})}function d({addButtonRef:e,hovered:t,overlap:n}){return Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},children:Object(r.jsx)(i.e,{marginStart:n,children:Object(r.jsx)(l,{hovered:t,children:Object(r.jsx)(o,{children:Object(r.jsx)(i.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",ref:e,rounding:"circle",width:48,children:Object(r.jsx)(i.u,{accessibilityLabel:a.a._("Add","ui.Facepile","Accessibility label on icon"),icon:"add",color:"darkGray",size:20})})})})})},"addIcon")}const u={xs:24,sm:32,md:40,lg:48,xl:56};function h({count:e,size:t}){const n=u[t];return Object(r.jsx)(o,{children:Object(r.jsx)(i.e,{alignItems:"center",color:"lightGray",display:"flex",height:n,justifyContent:"center",position:"relative",rounding:"circle",width:n,children:Object(r.jsx)(i.U,{size:"lg",weight:"bold",children:e>99?"99+":e})})})}var p=n("7pfs"),f=n("FDmi");function b({isDim:e,name:t,size:n,src:o}){const a=u[n];return Object(r.jsx)(i.e,{color:"white",height:a,width:a,rounding:"circle",children:Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{opacity:e?.5:1}},children:Object(r.jsx)(f.a,{name:t,outline:!0,src:o})})})}function g({addButtonRef:e,additionalCount:t,faces:n,faceSize:o,onAddClick:a,onClick:c,oneClickTargetFacepile:u,overlap:f,pileRef:g,showAddButton:m}){const v=({apply:e,children:t})=>Object(r.jsx)(i.e,{marginStart:e?f:void 0,children:t});return Object(r.jsx)(p.a,{children:({hovered:p,onMouseEnter:y,onMouseLeave:j})=>{const _=n.map(({isDim:e,key:t,name:n,src:i},a)=>Object(r.jsx)(v,{apply:0!==a,children:Object(r.jsx)(l,{hovered:p&&!!c,children:Object(r.jsx)(b,{isDim:e,name:n,size:o,src:i},null!=t?t:n)})},"face-"+a));t&&_.push(Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},children:Object(r.jsx)(v,{apply:!0,children:Object(r.jsx)(l,{hovered:p&&!!c,children:Object(r.jsx)(h,{count:t,size:o})})})},"additionalCount")),u&&m&&_.push(Object(r.jsx)(d,{addButtonRef:e,hovered:p&&!!c,overlap:f}));const O=c?Object(r.jsx)(i.T,{ref:g,onTap:c,rounding:"pill",children:Object(r.jsx)(i.e,{alignItems:"center",display:"flex",children:_})}):_;return Object(r.jsxs)(i.e,{alignItems:"center",display:"flex",onMouseEnter:y,onMouseLeave:j,children:[O,!u&&m&&a&&Object(r.jsx)(i.e,{dangerouslySetInlineStyle:{__style:{zIndex:2}},ref:e,children:Object(r.jsx)(s,{onClick:a,overlap:f,size:o})})]})}})}},"8cMa":function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return Object(r.jsx)(o.e,{marginStart:1,children:Object(r.jsx)(o.e,{marginStart:2,children:"sections"===e||"sectionsInline"===e?Object(r.jsx)(o.u,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):Object(r.jsx)(o.u,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})})})}},"8d//":function(e,t,n){var r=n("fyOY"),i=n("cwFY")("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),s=o,c=o.getAnchorKey(),l=o.getFocusKey(),d=a.getBlockForKey(c);if(i&&"forward"===n&&c!==l)return a;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(c).getLength()){var u=a.getBlockForKey(d.nextSibling);if(!u||0===u.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===o)return a}return r.removeRange(a,s,n)}},"8uQm":function(e,t,n){var r=n("lFJn"),i=n("Taje"),o=n("zVay"),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,d=o.Repeat,u=c(),h=l({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),p=function(e){var t,n;function o(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(d(r.EMPTY,n.length))),e}(t))||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():u},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){i(this.getCharacterList(),f,e,t)},s.findEntityRanges=function(e,t){i(this.getCharacterList(),b,e,t)},o}(h);function f(e,t){return e.getStyle()===t.getStyle()}function b(e,t){return e.getEntity()===t.getEntity()}e.exports=p},"9EBm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("+k3R"),i=n("slCJ"),o=n("4vzw"),a=n("5ARb"),s=n("nrB0"),c=n("nwWm"),l=n("E3gc"),d=n("QWfI"),u=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),r.default("DragSource","type, spec, collect[, options]",e,t,n,h);var p=e;"function"!=typeof e&&(u(l.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),u(d.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var f=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),u(d.isPlainObject(h),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return i.default({containerDisplayName:"DragSource",createHandler:f,registerHandler:o.default,createConnector:function(e){return new c.default(e)},createMonitor:function(e){return new s.default(e)},DecoratedComponent:e,getType:p,collect:n,options:h})}}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return a}));const r={row:0,section:0},i={row:-1,section:-1},o=()=>{};class a{constructor(e){this.index=Object.assign({},r),this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===i.row&&t===i.section?this.index=Object.assign({},r):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===i.row&&t===i.section)this.index=Object.assign({},r);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},i),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},"9X5u":function(e,t,n){n("q1tI");var r=n("P9b8"),i=(n("rg+c"),n("aUfZ")),o=n("ANjH");t.a=e=>t=>Object(o.compose)(i.a,Object(r.DropTarget)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},"9b+k":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}},"9ip6":function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));function r(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function i({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:n}){const r=n?.5*t:0;return Math.abs(e)<r/2?"center":e<0?"left":"right"}function o({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:n}){if("center"===t||e===n)return e;const r="left"===t;return e<n===r?e:r?e-1:e+1}},"9qGe":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.toLowerCase(),r=t.filter((function(e){return!n||e.name.toLowerCase().indexOf(n)>-1})),i=r.length<5?r.length:5;return r.slice(0,i)}},A6Hx:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("TgLd"),s=n("n6mq"),c=n("U4JR");function l({children:e,objectId:t,onHide:n}){const l={component:13141,objectId:t};return Object(i.useEffect)(()=>{Object(c.b)(6359,l)},[t]),Object(r.jsx)(a.b,{accessibilityModalLabel:o.a._("Pincode","pincode.pincodemodal.label","Accessible label for a modal showing the pincode modal"),heading:o.a._("Pincode","pincode.pincodemodal.heading","Heading for a modal showing the pincode."),onDismiss:()=>{n(),Object(c.b)(6358,l)},size:"sm",children:Object(r.jsx)(s.e,{display:"flex",justifyContent:"center",children:e})})}},AKPT:function(e,t,n){e.exports=function(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat([[o,a.get(o)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},AlZN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.split("-"),n=r(t,3),i=n[0],o=n[1],a=n[2];return{blockKey:i,decoratorKey:parseInt(o,10),leafKey:parseInt(a,10)}}},AyB5:function(e,t,n){var r=n("s8ra"),i=n("pMlp"),o=n("4pIB"),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),c=r.hasCommandModifier,l=r.isCtrlKeyCommand;function d(e){return a&&e.altKey||l(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return l(e)?"delete":null;case 72:return l(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return a&&l(e)?"secondary-cut":null;case 77:case 79:return l(e)?"split-block":null;case 84:return a&&l(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return a&&l(e)?"backspace-word":null;case 89:return l(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function(e){return!a&&e.shiftKey?null:d(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function(e){return c(e)&&a?"backspace-to-start-of-line":d(e)?"backspace-word":"backspace"}(e);case i.LEFT:return s&&c(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},"B/xd":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("2S0S");function o(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return i("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?r.cloneElement(e,{ref:function(e){o(t,e),n&&o(n,e)}}):r.cloneElement(e,{ref:t})}},B0ab:function(e,t,n){var r=n("JL7T"),i=n("rJY1"),o=n("zVay"),a=n("mFyV"),s=n("Mh8y"),c=o.List,l=o.Map,d=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),u=o.get(n),h=u.getText();if(!h){var p=u.getType();if("unordered-list-item"===p||"ordered-list-item"===p)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var f=t.getAnchorOffset(),b=u.getCharacterList(),g=i(),m=u instanceof r,v=u.merge({text:h.slice(0,f),characterList:b.slice(0,f)}),y=v.merge({key:g,text:h.slice(f),characterList:b.slice(f),data:l()}),j=o.toSeq().takeUntil((function(e){return e===u})),_=o.toSeq().skipUntil((function(e){return e===u})).rest(),O=j.concat([[n,v],[g,y]],_).toOrderedMap();return m&&(u.getChildKeys().isEmpty()||a(!1),O=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();d(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,i),e.merge({children:c(o)})})),d(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),d(r,e,(function(e){return e.merge({nextSibling:i})})),d(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(O,v,y)),e.merge({blockMap:O,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})}},"B2N+":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("n6mq");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a.Component{constructor(...e){super(...e),s(this,"state",{anchorHeight:0,anchorWidth:0,horizontalOffset:0,verticalOffset:0}),s(this,"subjectRef",o.a.createRef()),s(this,"calculateAndSetOffsets",({anchorHeight:e,anchorWidth:t,subjectHeight:n,subjectWidth:r})=>{const i=-(r/2-t/2),o=-(n/2-e/2);this.setState({anchorHeight:e,anchorWidth:t,horizontalOffset:i,verticalOffset:o})}),s(this,"positionSubject",()=>{const e=this.subjectRef.current,{anchor:t}=this.props;if(t&&e){const{height:n,width:r}=t.getBoundingClientRect(),{height:i,width:o}=e.getBoundingClientRect();this.calculateAndSetOffsets({anchorHeight:n,anchorWidth:r,subjectHeight:i,subjectWidth:o})}})}componentDidMount(){this.positionSubject()}componentDidUpdate(e,t){const{anchor:n}=this.props,{height:r,width:i}=n.getBoundingClientRect();(r!==t.anchorHeight||i!==t.anchorWidth)&&this.positionSubject()}render(){const{children:e,zIndex:t}=this.props,{horizontalOffset:n,verticalOffset:i}=this.state,o=t?new a.p(t):void 0;return Object(r.jsx)(a.e,{ref:this.subjectRef,position:"absolute",dangerouslySetInlineStyle:{__style:{left:n,top:i}},zIndex:o,children:e})}}t.a=function(e){const{anchor:t,onTouch:n,paused:i,size:o,zIndex:s}=e;return t?Object(r.jsx)(c,{anchor:t,zIndex:s,children:Object(r.jsx)(a.T,{fullWidth:!1,onTap:({event:e})=>n(e),rounding:"circle",children:Object(r.jsx)(a.H,{paused:i,size:o})})}):null}},B6Tf:function(e,t,n){n.d(t,"a",(function(){return ce})),n.d(t,"c",(function(){return le})),n.d(t,"b",(function(){return de}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("b/K5"),s=n("/MKj"),c=n("JW66"),l=n("QoKk"),d=n("Ye/N"),u=n("GBVV"),h=n("/WHw"),p=n("fZbY"),f=n("oRM1"),b=n("FDmi"),g=n("yaUg"),m=n("n6mq");function v(e){const{body:t,img:n,onClick:i,selected:o,title:a,username:s,valid:c}=e,l=s||t;return Object(r.jsx)(m.e,{marginBottom:4,children:Object(r.jsx)(m.T,{onTap:i,children:Object(r.jsxs)(m.e,{alignItems:"center",direction:"row",display:"flex",width:"100%",children:[n,Object(r.jsxs)(m.e,{flex:"grow",marginEnd:2,marginStart:3,children:[Object(r.jsx)(m.e,{marginBottom:1,children:Object(r.jsx)(m.U,{truncate:!0,weight:"bold",children:a})}),Object(r.jsx)(m.U,{size:"sm",truncate:!0,children:l})]}),Object(r.jsx)(m.e,{marginStart:2,children:(u=o,h=c,s?u?Object(r.jsx)(m.u,{accessibilityLabel:d.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):Object(r.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):Object(r.jsx)(m.f,{color:"gray",disabled:!!u||Boolean(!h),inline:!0,size:"sm",text:u?d.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):d.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))})]})})});var u,h}var y=n("ZE2w"),j=n("w70y");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n){const{id:r}=e;return t===n.findIndex(e=>e.id===r)}class x extends i.Component{constructor(...e){super(...e),_(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),_(this,"isIdSelected",{}),_(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),_(this,"handleCollaboratorClick",e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:r}=this.state,i=r.concat([e]),o="email"===n?y.c:y.d;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:i})}),_(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const r="email"===n?y.c:y.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:r}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],i=(""===e?this.state.selectedCollaborators.concat(n).filter(O):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(p.a)(e)}).concat(n).filter(O)).map(e=>function(e,t,n){if("user_share_suggestion"===e.type||"user"===e.type){const i=Object(r.jsx)(b.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return Object(r.jsx)(v,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:i,valid:o}=e,a=Object(r.jsx)(m.e,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:Object(r.jsx)(m.u,{accessibilityLabel:d.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})}),s=Object(g.a)(d.a._("Email {{ email }}"),{email:i});let c,l;return t?(c=d.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),l=()=>{}):(c=o?d.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):d.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),l=()=>o?n(e):void 0),Object(r.jsx)(v,{body:c,img:a,onClick:l,selected:t,title:s,valid:o})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>Object(r.jsx)("li",{children:e},t));return Object(r.jsxs)(m.e,{direction:"column",display:"flex",height:"100%",children:[Object(r.jsx)(m.e,{paddingX:3,paddingY:2,children:Object(r.jsx)(m.U,{size:"sm",children:d.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create")})}),Object(r.jsx)(m.e,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:Object(r.jsx)(m.e,{flex:"grow",children:Object(r.jsx)(f.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:Object(r.jsx)(m.K,{accessibilityLabel:d.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:d.a._("Search by name or email"),size:"lg",value:e})})})}),Object(r.jsx)(m.e,{overflow:"scrollY",paddingX:3,children:Object(r.jsx)("ul",{children:i})})]})}}var w=Object(j.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",allowStale:!1})(x);var S=Object(h.a)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:i,onCancel:a,onChangeBoardDate:s,onChangeBoardName:h,onChangeBoardPrivacy:p,onInvite:f,onToggleFlyout:b,privacy:g,preselectedCollaborators:v,saving:y,showTitle:j,isAdAccountOwner:_}){const O=0===n.length,x=g===c.a.BoardPrivacy.SECRET;return Object(r.jsx)(m.e,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:Object(r.jsx)("form",{onSubmit:e=>{e.preventDefault(),i()},style:{height:"100%"},children:Object(r.jsxs)(m.e,{direction:"column",display:"flex",height:"100%",children:[j&&Object(r.jsx)(m.e,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:Object(r.jsx)(m.t,{size:"sm",children:d.a._("Create board")})}),Object(r.jsxs)(m.e,{padding:3,children:[Object(r.jsx)(m.e,{marginBottom:2,children:Object(r.jsx)(m.x,{htmlFor:"boardEditName",children:Object(r.jsx)(m.U,{size:"sm",children:d.a._("Name")})})}),Object(r.jsx)(m.e,{children:Object(r.jsx)(m.W,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>h(e),placeholder:d.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t})})]}),Object(r.jsxs)(m.e,{padding:3,children:[Object(r.jsx)(m.e,{marginBottom:2,children:Object(r.jsx)(m.x,{htmlFor:"boardEditDate",children:Object(r.jsx)(m.U,{size:"sm",children:d.a._("Add dates (optional—this can help you plan!)","pin-to-board.CreateBoardPane.CreateBoardPane","Label for date picker field on board create")})})}),Object(r.jsx)(m.e,{children:Object(r.jsx)(l.a,{onChange:s,onToggleFlyout:b})})]}),_&&Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsxs)(m.e,{padding:3,children:[Object(r.jsx)(m.e,{marginBottom:2,children:Object(r.jsx)(m.x,{htmlFor:"secret",children:Object(r.jsx)(m.U,{size:"sm",children:d.a._("Secret","secret board","secret board")})})}),Object(r.jsx)(m.e,{children:Object(r.jsx)(m.Q,{id:"secret",onChange:p,switched:x})})]}),Object(r.jsx)(m.e,{display:"flex",flex:"grow",overflow:"hidden",children:Object(r.jsx)(m.e,{width:"100%",children:Object(r.jsx)(w,{onSelectedCollaboratorsChange:f,preselectedCollaborators:v})})})]}),!_&&Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(m.e,{padding:3,children:[Object(r.jsx)(m.e,{marginBottom:2,children:Object(r.jsx)(m.x,{htmlFor:"protected",children:Object(r.jsx)(m.U,{size:"sm",children:d.a._("Protected board (not listed on user's profile)","protected board","protected board")})})}),Object(r.jsx)(m.e,{children:Object(r.jsx)(m.Q,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),Object(r.jsxs)(m.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px",marginLeft:"-288px"}},display:"flex",justifyContent:"between",paddingX:4,paddingY:2,position:"absolute",width:720,children:[Object(r.jsx)(m.f,{inline:!0,onClick:a,text:d.a._("Cancel","cancel board create","cancel board create")}),Object(r.jsxs)(m.e,{display:"flex",justifyContent:"end",children:[!!e&&Object(r.jsx)(m.e,{paddingX:2,children:Object(r.jsx)(m.U,{align:"center",color:"red",size:"md",weight:"bold",children:e})}),Object(r.jsx)(u.b,{disabled:!t.trim()||!O||!!e||y,submitting:y,text:d.a._("Create","create a new board","create a new board")})]})]})]})})})})),C=n("6A0I"),I=n("0BOE"),E=n("qyR9");class k extends i.Component{constructor(...e){var t,n,r;super(...e),r=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=E.a?[{items:Object(I.a)([t],e),customProps:{inSectionSelection:!0}},{items:Object(I.a)(n,e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:n}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:i,onSectionCreate:o,onSectionSelected:a,pinId:s}=this.props;return Object(r.jsx)(E.b,{isSelectMode:i,boardSavedTo:n,createButtonLabel:d.a._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:o,onSelected:a,pinId:s})}}var D=Object(j.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})})(k),T=n("Wer7"),M=n("U4JR"),P=n("ANjH");function B(e,t,n){return{...e?{pin_id:e}:{},...t?{username:t}:{},...n?{advertiser_id:n,filter:"protected"}:{},field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class A extends i.Component{constructor(...e){var t,n,r;super(...e),r=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:r}=t,i=(e=>{const t=[],n=[];return e.forEach(e=>{e.name.match(/^\d/)?n.push(e):t.push(e)}),[...t,...n]})(n);return i.length<=3?[{items:i}]:e.length>=E.a?[{items:Object(I.a)(i,e)}]:[r.length?{items:r,title:d.a._("Top choices")}:{items:[]},{items:i,title:d.a._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:i,isSelectMode:o,onBoardCreate:a,onBoardSelected:s,pinId:c}=this.props,l=n&&!!e&&e.all_boards.length<=3;return Object(r.jsx)(E.b,{isSelectMode:o,boardSavedTo:i,hasLoadError:!!t,hasLowBoardCount:l,isLoaded:n,getSections:this.getSections,onCreate:a,onSelected:s,pinId:c})}}var R=Object(P.compose)(Object(s.connect)((function(e){const{advertiser:t,viewer:n}=e;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}})),Object(j.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>B(e.pinId,e.username,e.advertiser_id)}))(A);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends o.a.Component{constructor(...e){super(...e),L(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),L(this,"close",()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()}),L(this,"sendInvites",e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach(n=>{t[n].resource(e.id,[n])})}),L(this,"handleInvite",e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}}),L(this,"handleBoardCreate",e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),L(this,"handleBoardSave",(e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:r,invalidatePinBetterSaveResource:i,invalidateResource:o}=this.props;if(o(),i(),n&&"board_section"===e.type){return r(n,e,t)}const a=e,{section_count:s=0}=a;!n&&s>0?this.setState({selectedSectionBoard:a},this.manageModalTitle):(this.sendInvites(e),r(a,void 0,t))}),L(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,r=e?10306:249;Object(M.b)(101,{component:n,element:r})}),L(this,"manageModalTitle",()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?d.a._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?d.a._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?d.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):d.a._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))})}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:i,pinId:o,preselectedCollaborators:a,setModalTitle:s,suggestedBoardTitle:c}=this.props,{newName:l,selectedSectionBoard:d,showCreate:u}=this.state,h=!!d,p=!s;return Object(r.jsxs)(m.e,{display:"flex",position:"relative",width:"100%",children:[!u&&Object(r.jsx)(m.e,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?Object(r.jsx)(D,{board:d,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(h),onSectionSelected:this.handleBoardSave}):Object(r.jsx)(R,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(h),onBoardSelected:this.handleBoardSave,pinId:o})}),u&&!d&&Object(r.jsx)(S,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:i,pinId:o,prefilledName:l||c,preselectedCollaborators:a,showTitle:p}),u&&d&&Object(r.jsx)(C.a,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:p})]})}}var z=Object(s.connect)(null,(function(e,t){return{invalidateResource:()=>{e(Object(T.f)("BoardPickerBoardsResource",B(t.pinId)))},invalidatePinBetterSaveResource:()=>{e(Object(T.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))(N),F=n("TgLd"),U=n("v+PR"),q=n("Ev07"),K=n("G35+"),H=n("mBfy");var W=Object(P.compose)(Object(s.connect)(({viewer:e})=>({viewer:e}),()=>({})),Object(j.b)({name:"UserResource",key:"userSocialResource",options:e=>({user_id:e.viewer&&e.viewer.isAuth?e.viewer.id:"",field_set_key:"social_connect"})}))((function({onSocialConnect:e,userSocialResource:{data:t,isLoaded:n}}){const[o,a]=Object(i.useState)(!!(n&&t&&t.facebook_publish_stream_enabled)),[s,c]=Object(i.useState)(!!(n&&t&&t.twitter_publish_enabled));if(Object(i.useEffect)(()=>{n&&t&&(a(!!t.facebook_publish_stream_enabled),c(!!t.twitter_publish_enabled))},[t,n]),!t)return null;const{connected_to_facebook:l,twitter_url:u}=t,h=t=>{a(t),H.default.set("facebook_publish_stream_enabled",t),e(K.a.FACEBOOK,t)};return!(!l&&!u)&&Object(r.jsxs)(m.e,{display:"flex",padding:2,children:[l&&Object(r.jsxs)(m.e,{display:"flex",alignItems:"center",marginStart:2,children:[Object(r.jsx)(m.j,{checked:o,id:"share_facebook",onChange:()=>{o?h(!1):q.a.maybeRequestFbTimelinePermission({success:()=>h(!0),error:()=>h(!1)})},size:"sm"}),Object(r.jsx)(m.x,{htmlFor:"share_facebook",children:Object(r.jsx)(m.e,{marginStart:2,children:Object(r.jsx)(m.U,{children:d.a._("Post to Facebook")})})})]}),u&&Object(r.jsxs)(m.e,{display:"flex",alignItems:"center",marginStart:5,children:[Object(r.jsx)(m.j,{checked:s,id:"share_twitter",onChange:()=>{const t=!s;c(t),e(K.a.TWITTER,t)},size:"sm"}),Object(r.jsx)(m.x,{htmlFor:"share_twitter",children:Object(r.jsx)(m.e,{marginStart:2,children:Object(r.jsx)(m.U,{children:d.a._("Post to Twitter")})})})]})]})})),V=n("Sihc");function G(){return Object(r.jsxs)(m.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:[Object(r.jsx)(m.O,{accessibilityLabel:d.a._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),Object(r.jsx)(m.e,{paddingY:2,children:Object(r.jsx)(m.t,{children:d.a._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins")})}),Object(r.jsx)(m.U,{children:d.a._("We're grouping these into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")})]})}var Y=n("82UD");function J({index:e,pin:t,sectionName:n}){const o=t.id,a=Object(i.useContext)(re),[s,c]=Object(i.useState)(!1),l=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),a({type:s?"unselect":"select",payload:{sectionName:n,pinId:o}}),c(!s)},[o,s]);return Object(r.jsx)(m.T,{onTap:l,rounding:4,children:Object(r.jsx)(Y.a,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:s?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}var X=Object(i.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=Object(i.useRef)(),o=Object(j.a)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map(e=>e.id)},allowStale:!1});return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(m.e,{display:"flex",justifyContent:"center",width:"100%",children:Object(r.jsx)(m.O,{accessibilityLabel:d.a._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&o.isFetching})}),o.data&&Object(r.jsx)(m.e,{paddingY:4,paddingX:8,children:Object(r.jsx)(m.t,{align:"left",size:"sm",children:e.name})}),Object(r.jsx)(m.e,{ref:n,children:o.data&&n&&n.current&&Object(r.jsx)(m.C,{columnWidth:152,comp:({data:t,itemIdx:n})=>Object(r.jsx)(J,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:o.data||[],loadItems:()=>{},scrollContainer:()=>n.current})})]})}),(e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id);function Q({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:o}){return Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(m.e,{width:"100%",children:[Object(r.jsx)(m.e,{minHeight:"100%",marginBottom:12,width:"100%",children:o.map((e,t)=>Object(r.jsx)(m.e,{marginBottom:4,children:Object(r.jsx)(X,{sectionSuggestion:e,showSpinner:0===t})},e.name))}),Object(r.jsx)(m.e,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",position:"sticky"}},display:"flex",justifyContent:"end",padding:4,width:720,children:Object(r.jsx)(m.f,{color:e?"red":"gray",inline:!0,size:"lg",text:e?d.a._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):d.a._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}})})]})})}function Z({handleClose:e,handleSubmit:t,suggestions:n}){const[o,a]=Object(i.useState)({}),s=!!Object.keys(o).length;return Object(r.jsxs)(m.e,{children:[Object(r.jsx)(m.e,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}},children:Object(r.jsx)(m.e,{display:"flex",wrap:!0,height:360,paddingX:6,children:n.map(e=>Object(r.jsx)(m.e,{paddingX:1,height:160,children:Object(r.jsx)(m.T,{onTap:()=>{const t={...o};t[e.name]?delete t[e.name]:t[e.name]=e,a(t)},rounding:6,children:Object(r.jsx)(m.e,{rounding:7,dangerouslySetInlineStyle:{__style:{border:o[e.name]?"2px solid #111":"2px solid white",padding:"2px"}},children:Object(r.jsxs)(m.e,{height:160,width:152,position:"relative",rounding:6,children:[Object(r.jsx)(m.B,{rounding:6,height:160,width:152,children:Object(r.jsx)(m.w,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})}),Object(r.jsx)(m.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152,children:Object(r.jsx)(m.t,{align:"center",color:"white",size:"sm",children:e.name})})]})})})},e.name))})}),Object(r.jsx)(m.e,{display:"flex",width:"100%",justifyContent:"end",padding:5,children:Object(r.jsx)(m.f,{color:s?"red":"gray",inline:!0,size:"lg",text:s?d.a._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):d.a._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{s?t(Object.values(o)):e()}})})]})}var $=n("M1Uz"),ee=n("6G9P"),te=n("EC67"),ne=n("nGHF");const re=Object(i.createContext)();function ie(e,t){const{sectionName:n,pinId:r}=t.payload,i=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...i,r]};case"unselect":const t=i.indexOf(r);if(i.splice(t,1),!i.length){const t={...e};return delete t[n],t}return{...e,[n]:i};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function oe({board:e,handleClose:t,setModalTitle:n,suggestions:o}){const[a,c]=Object(i.useState)("sections"),[l,u]=Object(i.useState)([]),[h,p]=Object(i.useReducer)(ie,{}),{showOneToast:f}=Object(ne.b)(),b=Object(s.useDispatch)(),g=Object(te.g)(),m=Object(i.useRef)(!1);Object(i.useEffect)(()=>()=>{m.current&&clearTimeout(m.current)});const v=()=>{Object(M.b)(101,{component:20,view:52})},y=()=>{t(),f(({onHide:t})=>Object(r.jsx)($.a,{duration:ce,onHide:t,text:Object(ee.a)(e.name),href:e.url,imageUrl:e.image_cover_url,onClick:v}))};return{sections:Object(r.jsx)(Z,{handleClose:y,handleSubmit:e=>{u(e),c("pins"),n&&n(d.a._("Great! Pick some ideas to start off your board.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board"))},suggestions:o}),pins:Object(r.jsx)(re.Provider,{value:p,children:Object(r.jsx)(Q,{canSubmit:!!Object.keys(h).length,handleClose:y,handleSubmit:()=>{let t=0;c("saving"),n&&n(null);const r=l.reduce((e,t)=>(e[t.name]=null,e),{});Object.entries({...r,...h}).forEach(([n,r])=>{b(Object(V.a)({boardId:e.id,initialPinIds:r,name:n})).then(()=>{t+=1,t===l.length&&(m.current=setTimeout(()=>{g.push(e.url)},1500))})})},sectionSuggestions:l})}),saving:Object(r.jsx)(G,{})}[a]}var ae=n("Yo6N");function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce=4e3,le={LOADING:"loading",SUCCESS:"success"};class de extends i.PureComponent{constructor(...e){super(...e),se(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),se(this,"pinImageRef",Object(i.createRef)()),se(this,"unmounted",!1),se(this,"handleSavePinToBoard",(e,t,n)=>{const{handleSaveToBoard:r,sectionSuggestions:i,setModalTitle:o}=this.props;r(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),i&&i.length>0&&o&&o(d.a._("Here are some popular topics related to your board. Choose any you like.","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board")))}),se(this,"handleToggleFlyout",()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})),se(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),se(this,"close",()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()}),se(this,"dismissModal",e=>{const{dismissModal:t}=this.props;t&&t()})}componentWillUnmount(){this.unmounted=!0}render(){const{boardSavedTo:e,boardWithSection:t,color:n,displaySuccessAnimation:o,handleNewBoardAnimationCompletion:s,handleSocialConnectSet:c,isInModal:l,newPin:u,pin:h,preselectedCollaborators:p,onBoardCreated:f,sectionSuggestions:b,sensitiveContentNotice:g,setModalTitle:v,showCreate:y,shouldRenderContent:j,suggestedBoardTitle:_,updateDescription:O}=this.props;if(!h||!h&&!h.resourceLoaded||!j)return null;const{isSavingPin:x,newBoard:w}=this.state;let S=null;u&&u.board&&(S=u.board.name);const C=g&&g.title||this.props.modalTitle,I=g?Object(r.jsx)(ae.a,{inModal:!0,notices:[g]}):Object(r.jsx)(m.e,{display:"flex",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:x&&w&&b&&b.length>0?Object(r.jsx)(oe,{board:w,handleClose:this.close,setModalTitle:v,suggestions:b}):Object(r.jsxs)(i.Fragment,{children:[Object(r.jsxs)(m.e,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[Object(r.jsxs)(m.e,{direction:"column",display:"flex",justifyContent:"between",width:"40%",children:[Object(r.jsx)(m.e,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:Object(r.jsx)(U.a,{color:n,pin:h,pinImageRef:this.pinImageRef,updateDescription:O})}),Object(r.jsx)(W,{onSocialConnect:c})]}),Object(r.jsx)(m.e,{display:"flex",width:"60%",children:Object(r.jsx)(z,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:f,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:h.id,preselectedCollaborators:p,setModalTitle:l?v:void 0,showCreate:y,suggestedBoardTitle:_})})]}),o&&Object(r.jsx)(a.a,{onDismiss:()=>{s(),this.dismissModal()},pin:h,pinImageRef:this.pinImageRef,selectedBoardName:S})]})});return l?Object(r.jsx)(F.b,{accessibilityModalLabel:C||d.a._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:C,onDismiss:this.close,size:"md",children:I}):I}}se(de,"defaultProps",{pwtAuxData:{}})},BEzM:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8"),o=n("LTlA"),a=n("QLaP");t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),s=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(c,l){var d=function(e,t,n,r){var i=n.getTarget(e),s=i?i.drop(r,e):void 0;(function(e){a(void 0===e||o.isObject(e),"Drop result must either be an object or undefined.")})(s),void 0===s&&(s=0===t?{}:r.getDropResult());return s}(c,l,s,n),u={type:i.DROP,payload:{dropResult:r({},t,d)}};e.dispatch(u)}))}}},"BWi/":function(e,t,n){var r=n("G3O9");function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},Bfq7:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n("QSJg"),o=n("9b+k");t.nativeTypesConfig=((r={})[i.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},r[i.URL]={exposeProperties:{urls:function(e,t){return o.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},r[i.TEXT]={exposeProperties:{text:function(e,t){return o.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},r)},BkRI:function(e,t,n){var r=n("OBhP");e.exports=function(e){return r(e,5)}},"Bn+j":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("c4Fo"),a=(n("17x9"),n("NrS9")),s=n("n6mq");const c=[500329,500410,500688];t.a=({placementId:e})=>{const[t,n]=Object(i.useState)(!0),l=()=>{n(!1)};return Object(r.jsx)(o.a,{placementId:e,experienceIds:c,children:({complete:e,dismiss:n})=>(a.a.instance().subscribe(e,n),t?Object(r.jsx)(s.T,{fullWidth:!1,onTap:l,children:Object(r.jsx)("div",{className:"experienceSystemPushOverlay"})}):null)})}},C0mq:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("EC67"));function o(e){function t(t){const n=Object(i.g)(),o=Object(i.h)(),a=Object(i.j)();return Object(r.jsx)(e,{...t,history:n,location:o,match:a})}return t.displayName=`withRouterShim(${e.displayName||e.name||""})`,t}},C8qk:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("y0lr"),l=n("Iq8E"),d=n("q1tI"),u=n("sOsl"),h=n("bU3v"),p=n("icWV"),f=n("GXbk"),b=n("yUGJ"),g=n("zVay"),m=n("mFyV"),v=n("OLzA"),y=(g.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),j=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},_=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},O=function(e,t,n,r,i,o){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:o},c=r(e);return c&&(s.className=c),void 0!==i.customEditable&&(s=a({},s,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),s},x=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(o(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",d.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=r.prototype;return g.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,i=t.tree,o=!n.getChildKeys().isEmpty(),a=n!==e.block||i!==e.tree||r!==e.direction||y(e.selection,e.block.getKey())&&e.forceSelection;return o||a},g.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,i=h.getScrollParent(n),o=f(i);if(i===window){var a=p(n);(r=a.y+a.height-b().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{v(n)||m(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&u.setTop(i,u.getTop(i)+r+10)}}}},g.render=function(){var e=this,t=this.props,n=t.block,o=t.blockRenderMap,s=t.blockRendererFn,u=t.blockStyleFn,h=t.contentState,p=t.decorator,f=t.editorKey,b=t.editorState,g=t.customStyleFn,m=t.customStyleMap,v=t.direction,x=t.forceSelection,w=t.selection,S=t.tree,C=null;n.children.size&&(C=n.children.reduce((function(t,n){var i=l.encode(n,0,0),c=h.getBlockForKey(n),p=_(c,s),g=p.CustomComponent||r,m=j(c,o),v=m.Element,y=m.wrapperTemplate,x=O(c,f,i,u,p,null),w=a({},e.props,{tree:b.getBlockTree(n),blockProps:p.customProps,offsetKey:i,block:c});return t.push(d.createElement(v,x,d.createElement(g,w))),!y||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(c,h)||function(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,c=n.reverse()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;if(u.type!==t)break;r.push(u)}}catch(f){o=!0,a=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var h=r.reverse(),p=h[0].key;n.push(d.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":l.encode(p,0,0)},h))}(y,v,t),t}),[]));var I=n.getKey(),E=l.encode(I,0,0),k=_(n,s),D=k.CustomComponent,T=null!=D?d.createElement(D,i({},this.props,{tree:b.getBlockTree(I),blockProps:k.customProps,offsetKey:E,block:n})):d.createElement(c,{block:n,children:C,contentState:h,customStyleFn:g,customStyleMap:m,decorator:p,direction:v,forceSelection:x,hasSelection:y(w,I),selection:w,tree:S});if(n.getParentKey())return T;var M=j(n,o).Element,P=O(n,f,E,u,k,this.wrapperRef);return d.createElement(M,P,T)},r}(d.Component);e.exports=x},C9ER:function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("s8ra"),a=n("pMlp"),s=n("Wkzk"),c=n("4pIB"),l=n("T401"),d=n("HEBY"),u=n("vcNX"),h=n("YUem"),p=n("MPKC"),f=n("0RQb"),b=n("ujuU"),g=n("3Br+"),m=n("tuJh"),v=n("ocgx"),y=n("SYhp"),j=o.isOptionKeyCommand,_=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,o=e._latestEditorState;function c(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,o)))return;break;case a.ESC:if(t.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:_&&j(t)&&t.preventDefault()}var O=e.props.keyBindingFn(t);if(null!=O&&""!==O)if("undo"!==O){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(O,o,t.timeStamp))){var x=function(e,t,n){switch(e){case"redo":return i.redo(t);case"delete":return m(t);case"delete-word":return h(t);case"backspace":return g(t);case"backspace-word":return u(t);case"backspace-to-start-of-line":return d(t,n);case"split-block":return p(t);case"transpose-characters":return v(t);case"move-selection-to-start-of-block":return b(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(O,o,t);x!==o&&e.update(x)}}else y(t,o,e.update);else if(n===a.SPACE&&_&&j(t)){var w=r.replaceText(o.getCurrentContent(),o.getSelection()," ");e.update(i.push(o,w,"insert-characters"))}}},CEq6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e.substr(0,t),i=0===n.length?0:r.lastIndexOf(n),o=0===n.length?r:r.slice(i+n.length);return{begin:i,end:r.length,matchingString:o}}},CJXx:function(e,t,n){var r=n("MgzW");function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("WLG0"),s=n("q1tI"),c=n("mFyV"),l=n("aB02"),d=n("O4zn").setDraftEditorSelection,u=function(e){var t,n;function u(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o(i(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=u.prototype;return h._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,o=n.getKey(),a=r+i.length;if(e.hasEdgeWithin(o,r,a)){var s=this.leaf;s||c(!1);var u,h=s.firstChild;h||c(!1),h.nodeType===Node.TEXT_NODE?u=h:l(h)?u=s:(u=h.firstChild)||c(!1),d(e,u,o,r,a)}}},h.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},h.componentDidUpdate=function(){this._setSelection()},h.componentDidMount=function(){this._setSelection()},h.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,c=i.customStyleFn,l=i.offsetKey,d=i.styleSet,u=d.reduce((function(e,t){var n={},i=o[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)}),{});if(c){var h=c(d,t);u=r(u,h)}return s.createElement("span",{"data-offset-key":l,ref:function(t){return e.leaf=t},style:u},s.createElement(a,null,n))},u}(s.Component);e.exports=u},CsLl:function(e,t,n){e.exports=n("BWi/")()},DBEV:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i);var a={backgroundColor:"transparent"},s={backgroundColor:"rgba(216, 216, 216, 0.37)"},c={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"},d=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1}),u(this,"handleMouseEnter",()=>this.setState({hovered:!0})),u(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t,accessibilityLabel:n}=this.props,i={height:e,width:e},o={border:0,display:"block",background:"transparent",cursor:"pointer",...l},u={...c,...a,...this.state.hovered?s:{}};return Object(r.jsx)("button",{"aria-label":n,type:"button",style:o,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:Object(r.jsx)("div",{style:{...i,...u},children:Object(r.jsx)(d.e,{rounding:"circle",children:Object(r.jsx)(d.u,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"})})})})}}t.a=h},DEWG:function(e,t,n){n("Z6/o");e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=e.getCurrentContent(),s=i;return t>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:s,focusOffset:n})}},DYKh:function(e,t,n){var r=n("V8dp"),i=n("bu5B");e.exports=function(e,t){var n=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=i(e,t).getBlockMap(),l=c.keySeq(),d=l.indexOf(n),u=l.indexOf(a)+1;return r(c.slice(d,u).map((function(e,t){var r=e.getText(),i=e.getCharacterList();return n===a?e.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):t===n?e.merge({text:r.slice(o),characterList:i.slice(o)}):t===a?e.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):e})))}},Dh3H:function(e,t,n){var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},DthY:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("CJXx"),c=n("Iq8E"),l=n("q1tI"),d=n("sOsl"),u=n("bU3v"),h=n("bSwZ"),p=n("Ey0E"),f=n("pXmp"),b=n("icWV"),g=n("GXbk"),m=n("yUGJ"),v=n("mFyV"),y=n("OLzA"),j=n("qysv"),_=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(o(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var O=r.prototype;return O.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||_(e.selection,e.block.getKey())&&e.forceSelection},O.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=u.getScrollParent(n),o=g(i);if(i===window){var a=b(n);(r=a.y+a.height-m().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{y(n)||v(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&d.setTop(i,d.getTop(i)+r+10)}}}}},O._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,a=_(this.props.selection,n);return this.props.tree.map((function(d,u){var f=d.get("leaves");if(0===f.size)return null;var b=f.size-1,g=f.map((function(i,d){var h=c.encode(n,u,d),p=i.get("start"),f=i.get("end");return l.createElement(s,{key:h,offsetKey:h,block:t,start:p,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(p,f),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:u===o&&d===b})})).toArray(),m=d.get("decoratorKey");if(null==m)return g;if(!e.props.decorator)return g;var v=j(e.props.decorator),y=v.getComponentForKey(m);if(!y)return g;var _=v.getPropsForKey(m),O=c.encode(n,u,0),x=f.first().get("start"),w=f.last().get("end"),S=r.slice(x,w),C=t.getEntityAt(d.get("start")),I=p.getHTMLDirIfDifferent(h.getDirection(S),e.props.direction),E={contentState:e.props.contentState,decoratedText:S,dir:I,start:x,end:w,blockKey:n,entityKey:C,offsetKey:O};return l.createElement(y,i({},_,E,{key:O}),g)})).toArray()},O.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,i=f({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return l.createElement("div",{"data-offset-key":r,className:i,ref:function(t){return e._node=t}},this._renderChildren())},r}(l.Component);e.exports=O},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");e.exports=function(e,t){return e&&r(t,i(t),e)}},E2hd:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o(e){const{accessibilityLabel:t,icon:n,onClick:o,selected:a}=e;return Object(r.jsx)(i.v,{accessibilityLabel:t,icon:n,iconColor:"darkGray",onClick:o,selected:a,size:"lg"})}},E3gc:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"==typeof t||!!n&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},E8d4:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=n("q1tI");class o extends i.Component{constructor(...e){var t,n,r;super(...e),r={errorIsCaught:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidCatch(){this.setState({errorIsCaught:!0})}render(){const{children:e}=this.props,{errorIsCaught:t}=this.state;return t?null:e}}function a({children:e,errorBoundaryName:t,fallback:n}){const a=n||null;return Object(r.jsx)(o,{...t?{name:t}:{},children:Object(r.jsx)(i.Suspense,{fallback:a,children:e})})}},EC51:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/QE7"),a=n("zwad"),s=n("n6mq");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,__dangerouslyDisableSpammyDomainCheck:c,externalData:l,hoverStyle:d,href:u,id:h,inline:p,onBlur:f,onClick:b,onFocus:g,onHistoryChange:m,target:v}=e,y=a.a.isOffsiteUrl(u);return Object(r.jsx)(o.a,{__dangerouslyDisableSpammyDomainCheck:y?c:void 0,href:u,isExternalLink:y,externalData:y?l:void 0,onClick:b,onHistoryChange:y?void 0:m,target:y?void 0:v,children:({handleClick:e})=>Object(r.jsx)(s.A,{accessibilityLabel:n,hoverStyle:d,href:u,id:h,inline:p,onBlur:f,onClick:e,onFocus:g,ref:t,rel:y?"nofollow":void 0,children:i})})});c.displayName="Link",t.a=c},EDqd:function(e,t,n){n.d(t,"a",(function(){return a}));const r=["236x","474x","564x","736x"];function i(e){function t(e,{imageKey:t,height:n,width:r}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:r}}}),e}const n=r.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),r=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:r}}));return e.map(e=>n.reduce(t,e))}function o(e,t){return e.push({images:t&&t.canonical_images,image_signature:t&&t.image_signature}),e}function a(e,t,n){const r=[{images:e}];return{carousel_slots:i((t&&t.additional_images).reduce(o,r)),index:n||0,id:t.id}}},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");e.exports=function(e,t){return r(e,i(e),t)}},EHEE:function(e,t,n){var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},ELJR:function(e,t,n){n.d(t,"a",(function(){return h}));var r=n("nKUr"),i=(n("q1tI"),n("KPZG")),o=n("7zq+"),a=n("gYog"),s=n("yjg8"),c=n("U4JR"),l=n("flQA"),d=n("n6mq");const u=s.e;function h({contextLogData:e,bubbles:t,id:n,referringSource:s,slotIndex:h,storyType:p,title:f,titleIcon:b,viewType:g,viewParameter:m}){const v=t.map(({type:e,id:t})=>e+":"+t).join("|");return Object(r.jsx)(a.a,{viewType:g,componentType:200,viewParameter:m,loggingId:n,contextLogData:{story_type:p,objectId:n,content_ids:v,...e},impressionType:"Story",slotIndex:h,children:Object(r.jsxs)(d.e,{children:[f&&Object(r.jsxs)(d.e,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof b&&b!==l.a&&Object(r.jsx)(d.e,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:Object(r.jsx)(d.u,{accessibilityLabel:"",color:"darkGray",icon:Object(l.b)(b),size:12})}),Object(r.jsx)(d.U,{children:Object(o.a)(f)})]}),t.map((e,t)=>Object(r.jsx)(d.e,{paddingY:1,flex:"none",children:Object(r.jsx)(i.a,{bubble:e,onClick:e=>{Object(c.b)(101,{objectId:e,view:g,viewParameter:m,component:200})},referringSource:s,height:103,width:u,storyId:n,viewType:g,viewParameter:m,slotIndex:t,contextLogData:{content_ids:v,story_type:p}})},"bubble-"+e.id))]})})}},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("0rqB")),o=n("pLLR");function a({activate:e,children:t,isEligible:n,name:a}){return Object(r.jsx)(o.b,{children:o=>Object(r.jsx)(i.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},EhF7:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr");n("q1tI"),n("lXCh");function i({children:e}){return Object(r.jsx)("div",{className:"withoutBoxShadow",children:e})}var o=n("n6mq");function a({children:e,onClick:t}){return Object(r.jsxs)("div",{className:"relative",children:[Object(r.jsx)(o.e,{bottom:!0,left:!0,right:!0,top:!0,position:"absolute",children:Object(r.jsx)(i,{children:Object(r.jsx)(o.T,{fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})})}),Object(r.jsx)("div",{style:{pointerEvents:"none"},children:e})]})}},Ev07:function(e,t,n){var r=n("1inl"),i=n("K316"),o=n("TvzZ"),a=n("Ye/N");const s="publish_actions",c={checkFbTimelinePermission:function(e){Object(o.default)((function(t){t.api("/me/permissions",t=>{const n=t.data;let r=!1;if(n){r=!!n.find(e=>e.permission===s&&"granted"===e.status)}r?e.success&&e.success():e.error&&e.error()})}),i.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t){Object(o.default)(n=>{if(!c.fbConnectedAccountMatchesLoggedInAccount(n,t))return r.a.showError(a.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());c.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){c.fbLogin(e)}})},i.a)},fbLogin:function(e){Object(o.default)(t=>{t.login(t=>{t.authResponse?c.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()},{scope:s})},i.a)}};t.a=c},EwHv:function(e,t,n){n.d(t,"a",(function(){return b}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("+wrf"),s=n("Ye/N"),c=n("3j7w"),l=n("n6mq");function d(e){const{fetchMore:t,invites:n,isAtEnd:i,isFetching:o,onBoardLeave:a,refreshData:d,scroll:u,renderInvite:h}=e;return Object(r.jsxs)("div",{children:[u&&Object(r.jsx)(c.a,{scrollBuffer:3*u.container.clientHeight,scrollHeight:u.container.scrollHeight,scrollTop:u.top,isAtEnd:i,isFetching:o,fetchMore:t}),n.map((e,t)=>e&&e.invited_user&&e.invited_user.id?Object(r.jsx)(l.e,{children:h(e,a,d)},t):null),o&&!i&&Object(r.jsx)(l.O,{accessibilityLabel:s.a._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0})]})}var u=n("ViqK"),h=n("mEMi"),p=n("w70y");class f extends o.a.Component{constructor(...e){var t,n,r;super(...e),r=()=>{const{invitesPendingApproval:e,invites:t}=this.props;e.refreshData(),t.refreshData()},(n="handleInvitesDidUpdate")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}shouldComponentUpdate(e){const{invites:{data:t}}=e,{invites:{data:n}}=this.props;return!n||!!t&&n.length!==t.length}render(){const{board:e,invites:t,invitesPendingApproval:n,scrollInfo:i,onBoardLeave:c,onModalOpen:p,renderInvite:f}=this.props,{full_name:b,image_medium_url:g,username:m}=e.owner,v=s.a._("Owner of this board","boardInviteSheet.CollaboratorList.boardOwner.subtitle","The subtext that identifies the owner of a board");return Object(r.jsx)(o.a.Fragment,{children:t.isLoaded||n.isLoaded?Object(r.jsx)(h.a,{fetchMore:t.fetchMore,children:({onScroll:o,setRef:s})=>Object(r.jsxs)(l.e,{width:"100%",onScroll:o,ref:s,children:[Object(r.jsx)(d,{boardId:e.id,fetchMore:n.fetchMore,invites:n.data||[],isAtEnd:n.isAtEnd,isFetching:n.isFetching,onBoardLeave:c,refreshData:this.handleInvitesDidUpdate,scroll:i,renderInvite:f}),(n.data||[]).length>0?Object(r.jsx)(l.e,{paddingY:3,children:Object(r.jsx)(l.o,{})}):null,Object(r.jsxs)(l.e,{paddingY:1,children:[Object(r.jsx)(u.a,{imageUrl:g,linkURL:`/${m}/`,name:b,subtitle:v,title:b}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?Object(r.jsx)(a.a,{invite:e,onBoardLeave:c,onModalOpen:p,onInviteDidUpdate:t.refreshData},e.invited_user.id):null)]})]})}):Object(r.jsx)(l.O,{show:!0,accessibilityLabel:s.a._("Loading","Loading state for showing board collaborators","Loading state for showing board collaborators")})})}}function b(e){const t=Object(p.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1}}),n=Object(p.a)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1}});return Object(r.jsx)(f,{...e,invites:t,invitesPendingApproval:n})}},EwI3:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("q1tI"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.mention,n=e.theme,r=void 0===n?{}:n;return t.avatar?o.default.createElement("img",{src:t.avatar,className:r.mentionSuggestionsEntryAvatar,role:"presentation"}):null}},Ey0E:function(e,t,n){var r=n("mFyV"),i="LTR",o=null;function a(e){return e===i||"RTL"===e}function s(e){return a(e)||r(!1),e===i?"ltr":"rtl"}function c(e){o=e}var l={NEUTRAL:"NEUTRAL",LTR:i,RTL:"RTL",isStrong:a,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return a(e)||r(!1),a(t)||r(!1),e===t?null:s(e)},setGlobalDir:c,initGlobalDir:function(){c(i)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};e.exports=l},F09w:function(e,t,n){e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},F8lS:function(e,t,n){n.d(t,"a",(function(){return b}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("0yL5"),c=n("s6a/"),l=n("GFC/"),d=n("QIf8"),u=n("Ye/N"),h=n("3oMh"),p=n("nGHF"),f=n("+qOO");function b(e){const{board:t,canCreatePincode:n,canEdit:b,handleCreatePincode:g,handleOpenSendBoardFlyout:m,onEditClick:v,showFollow:y,showShare:j}=e,{id:_,name:O,url:x,image_cover_url:w}=t,[S,C]=Object(i.useState)(t.followed_by_me),{showOneToast:I}=Object(p.b)(),E=Object(a.useDispatch)(),k=()=>{S?(E(Object(f.b)(_)),C(!1)):(E(Object(f.a)(_)),C(!0),I(({onHide:e})=>Object(r.jsx)(d.a,{boardImage:w,boardName:O,boardUrl:x,onHide:e})))};return Object(r.jsx)(s.a,{icon:"ellipsis",label:u.a._("Other actions","profileHeader.actionBar.overflow","Accessibility label for button to open other options flyout"),children:()=>Object(r.jsxs)(c.a,{label:u.a._("Board options","profileHeader.actionBar.overflow.header","Accessibility label header for board options flyout"),children:[b&&v&&Object(r.jsx)(l.a,{onClick:()=>{v()},children:u.a._("Edit","BoardPage.ActionBar.PartnerEdit","Clickable text to enter board editing mode")}),b&&n&&g&&Object(r.jsx)(l.a,{onClick:()=>{g()},children:u.a._("Create Pincode","BoardPage.ActionBar.PartnerPincode","Clickable text to trigger Pincode modal")}),j&&m&&Object(r.jsx)(h.a,{board:t,onCreatePincode:g,onOpen:m,children:({onClick:e})=>Object(r.jsx)(l.a,{onClick:e,children:u.a._("Share","BoardPage.ActionBar.EllipsisButton","Button caption to share board")})}),y&&Object(r.jsx)(o.a.Fragment,{children:S?Object(r.jsx)(l.a,{onClick:k,children:u.a._("Unfollow","BoardPage.ActionBar.EllipsisButton","Button caption to unfollow board")}):Object(r.jsx)(l.a,{onClick:k,children:u.a._("Follow","BoardPage.ActionBar.EllipsisButton","Button caption to follow board")})})]})})}},FDmi:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:c}){return Object(r.jsx)(i.b,{accessibilityLabel:e,name:t,outline:n,size:a,src:o(s,t)?void 0:s,verified:c})}},FF6m:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("nKUr");n("q1tI");function i(e){const{resourceDependencies:t=(()=>[])}=e;return function(e){function n(t){return Object(r.jsx)(e,{...t})}return n.WrappedComponent=e,n.displayName="StaticRouteData",n.getResourceDependencies=t,n}}},FcOR:function(e,t,n){e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},FeGr:function(e,t,n){(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s,c,l,d=void 0!==t?t:self,u=d.MutationObserver||d.WebKitMutationObserver;function h(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof u?(s=1,c=new u(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),r=function(){s=-s,l.data=s}):r=h(a),n.requestFlush=r,n.makeRequestCallFromTimer=h}).call(this,n("yLpj"))},FylZ:function(e,t,n){function r(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return r}))},G3O9:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},G6B4:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("JQRy"),o=n("+jF9"),a=n("jaOL"),s=n("pWuj"),c=n("lihF"),l=n("LTlA");t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:s.default(e.dirtyHandlerIds,{type:t.type,payload:r({},t.payload,{prevTargetIds:l.get(e,"dragOperation.targetIds",[])})}),dragOffset:i.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:o.default(e.dragOperation,t),stateId:c.default(e.stateId)}}},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),o=n("mTTR");e.exports=function(e){return r(e,o,i)}},G8fK:function(e,t,n){function r(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},GBVV:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));const o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return Object(r.jsx)(i.e,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:Object(r.jsx)(i.e,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s({disabled:e,name:t,onClick:n,size:o,submitting:s,text:c}){return Object(r.jsxs)(i.e,{display:"flex",position:"relative",children:[s&&Object(r.jsx)(a,{}),Object(r.jsx)(i.f,{color:"red",disabled:e||s,inline:!0,name:t,onClick:n,size:o,type:"submit",text:c})]})}},"GFC/":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("gmhe")),o=n("Ye/N"),a=n("n6mq");function s({children:e,dataTestId:t,icon:n,onClick:s,url:c}){let l;"selected"===n?l=Object(r.jsx)(a.u,{accessibilityLabel:o.a._("Selected option","flyoutMenu.selectedOptionCheckmark","Accessibility label for checkmark icon indicating which option is currently selected"),color:"darkGray",icon:"check",inline:!0}):"externalLink"===n&&(l=Object(r.jsx)(a.u,{accessibilityLabel:o.a._("External link","header.accountsOptionsMenu.externalLinkIcon","Accessibility label for icon indicating a menu item opens an external link"),color:"darkGray",icon:"arrow-up-right",inline:!0,size:12}));const d="string"==typeof e?Object(r.jsx)(a.e,{maxWidth:l?230:void 0,children:Object(r.jsx)(a.U,{weight:"bold",children:e})}):e;return Object(r.jsx)(a.e,{"data-test-id":t,role:"listitem",children:Object(r.jsx)(i.a,{target:"externalLink"===n?"blank":null,onClick:s,url:c,children:Object(r.jsxs)(a.e,{alignItems:"center",display:"flex",justifyContent:"between",minHeight:35,paddingX:2,rounding:2,children:[d,l&&Object(r.jsx)(a.e,{flex:"none",marginStart:"auto",children:l})]})})})}},GMIm:function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},GQ6P:function(e,t,n){var r=n("mFyV");e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(o){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},GXbk:function(e,t,n){var r=n("Dh3H"),i=n("nnOA");e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),o=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-o.clientWidth,s=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7");e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},Gn5D:function(e,t,n){e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},GyOf:function(e,t,n){e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},Gytx:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var d=e[l],u=t[l];if(!1===(i=n?n.call(r,d,u,l):void 0)||void 0===i&&d!==u)return!1}return!0}},H3Jb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("4vzw"),o=n("/acK"),a=n("nrB0"),s=n("nwWm"),c=n("2S0S");t.useDragSourceMonitor=function(){var e=o.useDragDropManager();return[r.useMemo((function(){return new a.default(e)}),[e]),r.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var a=o.useDragDropManager(),s=r.useMemo((function(){return{beginDrag:function(){var n=e.current,r=n.begin,i=n.item;if(r){var o=r(t);return c(null==o||"object"==typeof o,"dragSpec.begin() must either return an object, undefined, or null"),o||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);r.useEffect((function(){var r=i.default(e.current.item.type,s,a),o=r[0],c=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[])}},HCyo:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("mc7v"),i=n("QIuh"),o=n("YuQ1"),a=n("QLaP"),s=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var r=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===i||a===i+1&&!o.areDirty(t.dirtyHandlerIds,r)||e()}finally{i=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),i=this.getItemType();return r.default(n,i)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!r.default(i,o))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return i.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return i.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=s},HEBY:function(e,t,n){var r=n("3sOJ"),i=n("HezI"),o=n("ISee"),a=n("kWjT"),s=n("8d//");e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},HKS5:function(e,t,n){(function(t){var r=n("mFyV"),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var a=0,s=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in o))return void n("");if(""===e.type){var a="";return i.test(e.name)&&(a=e.name.replace(i,"")),void n(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!=typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(c,(function(t){a++,t&&s.push(t.slice(0,5e3)),a==e.length&&n(s.join("\r"))}))}))}}).call(this,n("yLpj"))},HLqC:function(e,t,n){var r=n("R5Y4"),i=n("mv/X"),o=n("ZCgT");e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},HNpt:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return r++}},Hdlu:function(e,t,n){var r=n("q1tI"),i=n("pXmp"),o=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);e.exports=o},HezI:function(e,t,n){var r=n("y5P+"),i=n("F09w"),o=n("158f"),a=n("mFyV");function s(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<t&&o-r<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=i(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(t),l=e.endContainer,d=e.endOffset;for(e.setStart(e.startContainer,0);s(o(e),n)&&(l=e.startContainer,d=e.startOffset,l.parentNode||a(!1),e.setStartBefore(l),1!==l.nodeType||"inline"===getComputedStyle(l).display););for(var u=l,h=d-1;;){for(var p=u.nodeValue,f=h;f>=0;f--)if(!(null!=p&&f>0&&r.isSurrogatePair(p,f-1))){if(e.setStart(u,f),!s(o(e),n))break;l=u,d=f}if(-1===f||0===u.childNodes.length)break;h=c(u=u.childNodes[f])}return e.setStart(l,d),e}},Hpvj:function(e,t,n){e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},HriT:function(e,t,n){var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},"Hz/G":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("U4JR");var i=n("eOdZ");var o=n("zpPL"),a=n("t3tn");function s({boardDensity:e,component:t,surface:n,viewType:s}){!function({boardDensity:e,component:t,viewType:n}){const i=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:n}),o=4===n?3106:3069;Object(r.b)(101,{component:t,element:i,...n?{view:n,viewParameter:o}:{}})}({boardDensity:e,component:t,viewType:s}),function({density:e,surface:t}){const n="board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e};i.a.create("UserMetadataResource",n).callUpdate()}({density:e,surface:n}),function({density:e,surface:t}){const n="board"===t?a.a:a.d;o.a.instance.dispatch(n(e))}({density:e,surface:n})}},I2Ug:function(e,t,n){var r=n("JL7T"),i=n("VTBg"),o=n("zVay"),a=n("mFyV"),s=o.OrderedMap,c=o.List,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},d=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),s=n.getKey(),d=t.getParentKey(),u=t.getNextSiblingKey(),h=t.getPrevSiblingKey(),p=n.getParentKey(),f=o?n.getNextSiblingKey():s,b=o?s:n.getPrevSiblingKey();return e.withMutations((function(e){l(d,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),l(h,e,(function(e){return e.merge({nextSibling:u})})),l(u,e,(function(e){return e.merge({prevSibling:h})})),l(f,e,(function(e){return e.merge({prevSibling:a})})),l(b,e,(function(e){return e.merge({nextSibling:a})})),l(p,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,a),e.merge({children:c(i)})})),l(a,e,(function(e){return e.merge({nextSibling:f,prevSibling:b,parent:p})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var c=n.getKey(),l=t.getKey();l===c&&a(!1);var u=e.getBlockMap(),h=t instanceof r,p=[t],f=u.delete(l);h&&(p=[],f=u.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===l})).takeWhile((function(e){var t=e.getKey(),i=t===l,o=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||a)})).forEach((function(t){p.push(t),e.delete(t.getKey())}))})));var b=f.toSeq().takeUntil((function(e){return e===n})),g=f.toSeq().skipUntil((function(e){return e===n})).skip(1),m=p.map((function(e){return[e.getKey(),e]})),v=s();if("before"===o){var y=e.getBlockBefore(c);y&&y.getKey()===t.getKey()&&a(!1),v=b.concat([].concat(m,[[c,n]]),g).toOrderedMap()}else if("after"===o){var j=e.getBlockAfter(c);j&&j.getKey()===l&&a(!1),v=b.concat([[c,n]].concat(m),g).toOrderedMap()}return e.merge({blockMap:d(v,t,n,o,h),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},IBrh:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("mEMi"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends o.a.Component{constructor(e){super(e),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)}),c(this,"handleMouseLeave",()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:o,section:a}=i||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:u=(e=>!1)}=c,h=t===a,p=d||n;return p&&l.map((e,n)=>{const i=u(e),a={section:t,row:n},l=h&&n===o;return Object(r.jsx)(s.e,{"data-test-id":"board-selection",ref:!i&&l?this.setSelectedItemRef:null,children:i?p({item:e,hovered:l,sectionProps:c}):Object(r.jsx)(s.T,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(a),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:p({item:e,hovered:l,sectionProps:c})})},n)})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>Object(r.jsxs)(s.e,{children:[e&&e(t,n),this.renderItems(t,n)]},n))});const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),r=n.top,i=n.bottom,o=t.getBoundingClientRect(),a=o.top;i>=o.bottom?e.scrollIntoView(!1):r<=a&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return Object(r.jsx)(a.a,{fetchMore:n,children:({setRef:n,onScroll:i})=>Object(r.jsx)(s.e,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)},children:this.renderSections()})})}}},"IEa/":function(e,t,n){var r=n("FeGr"),i=[],o=[],a=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=i.length?i.pop():new c).task=e,r(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},IRZy:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWk2"),i=n("TT16"),o=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dropTarget:function(e,n){t.dropTargetOptions=n,i.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!o(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},ISR0:function(e,t,n){var r=n("grng"),i=n("fyOY"),o=n("3sOJ"),a=n("kc9Y"),s=n("F09w"),c=n("HKS5"),l=n("5RSi"),d=n("WaGC"),u=n("T401"),h=n("qysv");var p={onDragEnd:function(e){e.exitCurrentMode(),f(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),d=e._latestEditorState,p=function(e,t){var n=null,r=null,i=s(e.currentTarget);if("function"==typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=h(n),r=h(r);var c=h(a(n));return l(t,c,r,c,r)}(t.nativeEvent,d);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=p){var g=n.getFiles();if(g.length>0){if(e.props.handleDroppedFiles&&u(e.props.handleDroppedFiles(p,g)))return;c(g,(function(t){t&&e.update(b(d,p,t))}))}else{var m=e._internalDrag?"internal":"external";e.props.handleDrop&&u(e.props.handleDrop(p,n,m))||(e._internalDrag?e.update(function(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(d,p)):e.update(b(d,p,n.getText()))),f(e)}}}};function f(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:d(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function b(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=p},ISee:function(e,t,n){var r=n("kc9Y"),i=n("zORg"),o=n("5RSi"),a=n("mFyV"),s=n("GyOf"),c=n("qysv");function l(e,t,n){var o=t,l=r(o);(null!=l||e&&(e===o||e.firstChild===o)||a(!1),e===o)&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),n>0&&(n=o.childNodes.length));if(0===n){var u=null;if(null!=l)u=l;else{var h=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(o);u=c(i(h))}return{key:u,offset:0}}var p=o.childNodes[n-1],f=null,b=null;if(i(p)){var g=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(p);f=c(i(g)),b=d(g)}else f=c(l),b=d(p);return{key:f,offset:b}}function d(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,a,s){var d=n.nodeType===Node.TEXT_NODE,u=a.nodeType===Node.TEXT_NODE;if(d&&u)return{selectionState:o(e,c(r(n)),i,c(r(a)),s),needsRecovery:!1};var h=null,p=null,f=!0;return d?(h={key:c(r(n)),offset:i},p=l(t,a,s)):u?(p={key:c(r(a)),offset:s},h=l(t,n,i)):(h=l(t,n,i),p=l(t,a,s),n===a&&i===s&&(f=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,h.key,h.offset,p.key,p.offset),needsRecovery:f}}},Idtq:function(e,t,n){var r=n("cwFY")("draft_tree_data_support");e.exports=n(r?"YrFj":"Y3PQ")},IeEU:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("/MKj");const i=[1000069,1000075],o={};function a(e){return Object(r.connect)(e=>{return{lfvExperiences:(t=e.experiences.eligibleExperiences,i.forEach(e=>{!t[e]||void 0!==o[e]&&o[e].id===t[e].id||(o[e]=t[e])}),o)};var t})(e)}},Iq8E:function(e,t,n){var r="-",i={encode:function(e,t,n){return e+r+t+r+n},decode:function(e){var t=e.split(r).reverse(),n=t[0],i=t[1];return{blockKey:t.slice(2).reverse().join(r),decoratorKey:parseInt(i,10),leafKey:parseInt(n,10)}}};e.exports=i},IqbG:function(e,t,n){e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},"J/d7":function(e,t,n){n.d(t,"a",(function(){return m}));var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("YGxj"),s=n("Ye/N"),c=n("n6mq");function l(e){const{anchor:t,experienceType:n,hideAddSectionTooltip:i}=e,o="addSectionTooltip"===n?Object(r.jsx)(c.r,{anchor:t,color:"blue",idealDirection:"down",onDismiss:i,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:Object(r.jsx)(c.e,{padding:4,children:Object(r.jsx)(c.U,{color:"white",weight:"bold",children:s.a._("Tap + to add a section any time","boardActionsButton.addIconButton.addSectionFlyout","Flyout to point out where you can find add section")})})}):Object(r.jsx)(a.a,{anchor:t,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0});return Object(r.jsx)(c.y,{children:Object(r.jsx)(c.e,{dangerouslySetInlineStyle:{__style:{zIndex:5e3}},position:"absolute",top:!0,children:o})})}var d=n("+nTX"),u=n("s6a/"),h=n("GFC/"),p=n("4cpq"),f=n("QAzJ");function b({anchor:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:o,onAddSection:a,onClose:l,onCreateBoard:b,onCreatePin:g,onCreateStoryPin:m,surface:v}){const{anyEnabled:y}=Object(f.a)("web_story_pin_creator");return Object(r.jsx)(d.a,{anchor:e,idealDirection:t,onDismiss:l,children:Object(r.jsxs)(i.Fragment,{children:[Object(r.jsxs)(u.a,{label:s.a._("Create","BoardActionsButton.LegoFlyout.Create","Label for a list of options to create a pin or a section"),children:[Object(r.jsx)(h.a,{dataTestId:"Create Pin",onClick:()=>{g(),l()},children:s.a._("Pin","BoardActionsButton.LegoFlyout.Pin","Option to create a pin")}),y&&Object(r.jsx)(h.a,{dataTestId:"Create Story Pin",onClick:()=>{m(),l()},children:s.a._("Story Pin","BoardActionsButton.LegoFlyout.StoryPin","Option to create a Story Pin")}),"profileBoards"===v&&b&&Object(r.jsx)(h.a,{dataTestId:"Create board",onClick:()=>{b(),l()},children:s.a._("Board","profileHeader.actionBar.board","Option to create a board")})]}),"board"===v&&Object(r.jsxs)(u.a,{label:s.a._("Add","BoardActionsButton.LegoFlyout.Add","Label for a list of options to add board sections or a board date"),children:["board"===v&&n&&Object(r.jsx)(p.a,{id:"addBoardNote",children:Object(r.jsx)(h.a,{onClick:()=>{n(),l()},children:Object(r.jsxs)(c.e,{display:"flex",alignItems:"center",children:[Object(r.jsx)(c.U,{weight:"bold",children:s.a._("Note","BoardActionsButton.LegoFlyout.Note","Option to create a board note")}),Object(r.jsx)(c.e,{color:"blue",marginStart:2,padding:1,rounding:1,children:Object(r.jsx)(c.U,{color:"white",size:"sm",weight:"bold",children:s.a._("New","BoardActionsButton.LegoFlyout.New","New option indicator")})})]})})}),"board"===v&&a&&Object(r.jsx)(p.a,{id:"addSection",children:Object(r.jsx)(h.a,{onClick:()=>{a(),l()},children:s.a._("Section","BoardActionsButton.LegoFlyout.Section","Option to create a board section")})}),"board"===v&&!!o&&Object(r.jsx)(h.a,{onClick:()=>{o(),l()},children:s.a._("Date","BoardActionsButton.LegoFlyout.Date","Option to add a date to a board")})]})]})})}var g=n("shej");function m({children:e,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:a,onAddSection:d,onCreateBoard:u,onCreatePin:h,onCreateStoryPin:p,onOpen:f=(()=>{}),surface:m}){const v=Object(o.useDispatch)(),y=()=>v(Object(g.a)()),j=Object(o.useSelector)(({createSectionTooltip:e})=>Boolean(null==e?void 0:e.showCreateSectionTooltip)),_=Object(i.useRef)(),[O,x]=Object(i.useState)(!1),w=()=>{f(),j&&y(),x(!0)},S={board:s.a._("Board Actions","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget","button that allows user view actions on a board such as add section, create pin, create pincode, and create widget"),profileBoards:s.a._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),profilePins:s.a._("Profile Actions","profileHeader.actionBar.createButton","Button on user's profile to open flyout with options to create a pin or a board"),section:s.a._("Create Pin","Button to begin pin creation flow","Button to begin pin creation flow")},C=e&&e({active:O,openFlyout:w})||Object(r.jsx)(c.v,{accessibilityLabel:S[m],icon:"add",onClick:"section"===m?h:w,size:"lg"});let I;return O||"board"!==m||(j?I="addSectionTooltip":a&&(I="planningActionsExperience")),Object(r.jsxs)(c.e,{"data-test-id":"boardActionsButton",children:[Object(r.jsx)(c.e,{ref:_,children:C}),O&&Object(r.jsx)(b,{anchor:_.current,idealDirection:t,onAddBoardNote:n,onAddOrEditDate:a,onAddSection:d,onClose:()=>x(!1),onCreateBoard:u,onCreatePin:h,onCreateStoryPin:p,surface:m}),I&&Object(r.jsx)(l,{anchor:_.current,experienceType:I,hideAddSectionTooltip:y})]})}},J8Pj:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s}));const r=350,i=316,o=134,a=2,s=235},JBUN:function(e,t,n){var r={"./":["dH2W"],"./CZ":["B5Bz",376],"./CZ.js":["B5Bz",376],"./DA":["Gi0d",377],"./DA.js":["Gi0d",377],"./DE":["gu28",378],"./DE.js":["gu28",378],"./ENUK":["XnQI",379],"./ENUK.js":["XnQI",379],"./ENUS":["AWLv",380],"./ENUS.js":["AWLv",380],"./ESAR":["REmk",381],"./ESAR.js":["REmk",381],"./ESES":["wsSg",382],"./ESES.js":["wsSg",382],"./ESMX":["1BwC",383],"./ESMX.js":["1BwC",383],"./FI":["2A7Q",384],"./FI.js":["2A7Q",384],"./FR":["cYI+",385],"./FR.js":["cYI+",385],"./GR":["GRYs",386],"./GR.js":["GRYs",386],"./HI":["VJRD",387],"./HI.js":["VJRD",387],"./HU":["ruI3",388],"./HU.js":["ruI3",388],"./ID":["qOEt",389],"./ID.js":["qOEt",389],"./IT":["Bq0h",390],"./IT.js":["Bq0h",390],"./JP":["zJe/",391],"./JP.js":["zJe/",391],"./KR":["8fMJ",392],"./KR.js":["8fMJ",392],"./MS":["BOEg",393],"./MS.js":["BOEg",393],"./NL":["0gKe",394],"./NL.js":["0gKe",394],"./NO":["PiZp",395],"./NO.js":["PiZp",395],"./PL":["+Fv7",396],"./PL.js":["+Fv7",396],"./PTBR":["Ortd",397],"./PTBR.js":["Ortd",397],"./PTPT":["Yqrn",398],"./PTPT.js":["Yqrn",398],"./RO":["6YHy",399],"./RO.js":["6YHy",399],"./RU":["Pvfl",400],"./RU.js":["Pvfl",400],"./SK":["Lc4P",401],"./SK.js":["Lc4P",401],"./SV":["JVoV",402],"./SV.js":["JVoV",402],"./TH":["7T3W",403],"./TH.js":["7T3W",403],"./TL":["2ndg",404],"./TL.js":["2ndg",404],"./TR":["3+7V",405],"./TR.js":["3+7V",405],"./UA":["0Qy6",406],"./UA.js":["0Qy6",406],"./VT":["gfny",407],"./VT.js":["gfny",407],"./ZHCN":["lT6v",408],"./ZHCN.js":["lT6v",408],"./ZHTW":["yMH2",409],"./ZHTW.js":["yMH2",409],"./index":["dH2W"],"./index.js":["dH2W"]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="JBUN",e.exports=i},"JI+E":function(e,t,n){var r=n("3sOJ"),i=n("W5AS"),o=n("7Nlx");e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&o(n)===n.body){var a=n.defaultView.getSelection(),s=e.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var d=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,d))}}},JKZO:function(e,t,n){n.d(t,"a",(function(){return y}));var r=n("nKUr"),i=n("q1tI"),o=n("nokP"),a=n.n(o),s=n("yeYm"),c=n.n(s),l=n("clxp"),d=n("FDmi"),u=n("Ye/N"),h=n("n6mq");var p=e=>{const{id:t,isFocused:n,onMouseDown:i,onMouseEnter:o,onMouseUp:a,mention:s,role:c,searchValue:l}=e;return Object(r.jsx)("div",{id:t,onMouseDown:i,onMouseEnter:o,onMouseUp:a,searchvalue:l,role:c,children:Object(r.jsxs)(h.e,{display:"flex",alignItems:"center",color:n?"lightGray":"transparent",rounding:4,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},children:[Object(r.jsx)(h.e,{padding:1,children:Object(r.jsx)(d.a,{accessibilityLabel:"",name:s.full_name,size:"sm",src:s.image_medium_url,verified:s.verified_identity&&s.verified_identity.verified})}),Object(r.jsxs)(h.e,{marginStart:2,marginEnd:2,overflow:"hidden",children:[Object(r.jsx)(h.U,{truncate:!0,weight:"bold",color:"darkGray",children:s.full_name}),Object(r.jsx)(h.e,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:Object(r.jsxs)(h.U,{size:"sm",color:"darkGray",children:[s.username,s.explicitly_followed_by_me&&" • "+u.a._("Following","mentions.mentionsFlyout.following","Label to tell the user that they are viewing a user they follow")]})})]})]})})},f=n("eOdZ"),b=n("Sbkd"),g=n("hM3f"),m=n("v83y");const v=e=>Object(r.jsx)(h.U,{inline:!0,color:"blue",weight:"bold",children:e.children});function y({focusOnMount:e,initialMentions:t=[],initialText:n="",instanceId:o,maxSuggestions:s=g.a,onAddMention:d,onBlur:u,onChange:y,onFocus:j,onSearchMentionCancel:_,onSuggestionsPopoverClose:O,onSuggestionsPopoverOpen:x,placeholder:w,readOnly:S,spellCheck:C}){const I=Object(i.useRef)(null),[E,k]=Object(i.useState)(!1),[D,T]=Object(i.useState)(!1),[M,P]=Object(i.useState)([]),[{plugins:B,MentionSuggestions:A}]=Object(i.useState)(()=>(()=>{const e=a()({entityMutability:"IMMUTABLE",mentionComponent:v,mentionPrefix:"@",mentionTrigger:"@",positionSuggestions:g.f,supportWhitespace:!1}),{MentionSuggestions:t}=e;return{plugins:[e],MentionSuggestions:t}})()),R=Object(b.a)(),[L,N]=Object(i.useState)();Object(i.useEffect)(()=>{N(m.EditorState.createWithContent(Object(g.c)({text:n,mentions:t})))},[o]),Object(i.useEffect)(()=>{k(!0)},[]),Object(i.useEffect)(()=>{e&&I.current&&setTimeout(I.current.focus,50)},[E]);const z=Object(i.useCallback)(e=>{P([]),d&&d(e)},[]),F=Object(i.useCallback)(e=>{u&&u(e)},[]),U=Object(i.useCallback)(e=>{const t=e.getCurrentContent(),n=t.getPlainText(""),r=Object(g.e)(t);N(e),y({text:n,mentions:r})},[]),q=Object(i.useCallback)(e=>{j&&j(e)},[]),K=Object(i.useCallback)(()=>{T(!1),O&&O()},[]),H=Object(i.useCallback)(()=>{T(!0),x&&x()},[]),W=Object(i.useCallback)((e,t)=>{if(_&&" "===e&&D&&_(),M.length>0)return"not-handled";const n=t.getCurrentContent(),r=t.getSelection();return U(m.EditorState.push(t,m.Modifier.replaceText(n,r,e),"adjust-depth")),"handled"},[M]),V=Object(i.useCallback)(({value:e})=>{R(f.a.create("UserMentionTypeaheadResource",{query:e,num_people:s}).callGet(),"userMentionTypeahead").then(e=>{const t=Object(g.d)({suggestions:e.resource_response.data});P(t)}).catch(()=>{})},[]);return Object(r.jsx)(l.a,{name:"EditorWithMentions",children:E&&Object(r.jsxs)(h.e,{"data-test-id":"editor-with-mentions",width:"100%",children:[Object(r.jsx)(c.a,{editorState:L,onBlur:F,onChange:U,onFocus:q,handleBeforeInput:W,placeholder:w,plugins:B,readOnly:S,ref:I,spellCheck:C,stripPastedStyles:!0}),Object(r.jsx)(A,{onAddMention:z,onClose:K,onOpen:H,onSearchChange:V,suggestions:M,entryComponent:p})]})})}},JL7T:function(e,t,n){var r=n("lFJn"),i=n("Taje"),o=n("zVay"),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,d=o.Repeat,u=c(),h={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},p=function(e,t){return e.getStyle()===t.getStyle()},f=function(e,t){return e.getEntity()===t.getEntity()},b=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(d(r.EMPTY,n.length))),e},g=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return e.call(this,b(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():u},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){i(this.getCharacterList(),p,e,t)},o.findEntityRanges=function(e,t){i(this.getCharacterList(),f,e,t)},r}(l(h));e.exports=g},JQRy:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("pYMm"),o=n("N4T/"),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case i.INIT_COORDS:case i.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case i.HOVER:return o.areCoordsEqual(e.clientOffset,n.clientOffset)?e:r({},e,{clientOffset:n.clientOffset});case i.END_DRAG:case i.DROP:return a;default:return e}}},JiWI:function(e,t,n){n.d(t,"a",(function(){return r}));const r={"424605139807765557":!0,"487022215893335585":!0,"681802899776795712":!0,"605945393553266792":!0,"394065104834583533":!0,"681802899776795712":!0,"458452505757193282":!0,"568509221651063083":!0,"842314005246059316":!0,"684547280799527239":!0,"407294428740033573":!0,"681802899776805483":!0,"618119186295994269":!0,"424605139807777368":!0,"681802899776839770":!0,"487022215893349902":!0,"394065104834663920":!0,"842314005246096517":!0,"568509221651073933":!0,"458452505757203385":!0,"684547280799786717":!0,"605945393553311206":!0,"406238897577381755":!0,"618119186296081237":!0,"424605139807777372":!0,"424605139807777369":!0,"487022215893349904":!0,"568509221651073934":!0,"407294428740048526":!0,"424605139807777374":!0,"646125946478825462":!0,"646125946478866602":!0,"646125946478883676":!0,"646125946478883661":!0,"646125946478879471":!0,"394065104834692263":!0,"394065104834692264":!0,"394065104834692261":!0,"618119186296089811":!0,"487022215892656630":!0}},Jld5:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("ANjH"),i=n("G6B4"),o=n("pYMm"),a=n("HCyo"),s=n("54t5");var c=function(){function e(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=o.store.getState().refCount>0;e&&!o.isSetUp?(o.backend.setup(),o.isSetUp=!0):!e&&o.isSetUp&&(o.backend.teardown(),o.isSetUp=!1)};var c=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return r.createStore(i.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=c,this.monitor=new a.default(c,new s.default(c)),this.backend=e(this),c.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=o.default(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=o.apply(e,n);void 0!==i&&t(i)}),r}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=c},Joxa:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));const r=[0,2,1];function i(e){const{list_blocks:t,key_value_blocks:n}=e,r=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,blocks:n.map(e=>({text:e.text,type:9})),type:7}}):[];return{key_value_blocks:n&&n.length>0?n.map(e=>({category_type:e.category_type,type:8,value:e.value})):[],list_blocks:r}}function o(e){const{list_blocks:t,key_value_blocks:n}=e,r=t&&t.length>0?t.map(e=>{const{heading:t,blocks:n}=e;return{heading:t,items:n.map(e=>e.text)}}):[];return{keyValueBlocks:n&&n.length>0?n.reduce((e,t)=>{const{category_type:n,value:r}=t;return e[n]=r,e},{}):{},listBlocks:r}}function a(e){const{keyValueBlocks:t,listBlocks:n}=e;if(!t&&!n)return null;return{list_blocks:n?n.map(e=>{const{heading:t,items:n}=e;let r=[];return n&&(r=n.map(e=>({text:e,type:9}))),{blocks:r,heading:t,type:7}}):[],key_value_blocks:(t?Object.keys(t).map(e=>{const n=t[e],i=Number.parseInt(e,10),o=r.indexOf(i)>-1&&n===Number.parseInt(n,10).toString();return n&&o?{value:n,category_type:i,type:8}:null}):[]).filter(Boolean)}}},KEt0:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o({size:e}){return Object(r.jsx)("span",{style:{padding:"0 4px"},children:Object(r.jsx)(i.U,{inline:!0,size:null!=e?e:"md",children:"·"})})}},KPZG:function(e,t,n){n.d(t,"b",(function(){return C}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("FDmi"),c=n("T0g9"),l=n("Ye/N"),d=n("gYog"),u=n("qD10"),h=n("eBDd"),p=n("DBEV"),f=n("TgLd"),b=n("xjqW");var g=({id:e,viewParameter:t,viewType:n})=>Object(b.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),m=n("eOdZ"),v=n("M1Uz"),y=n("nGHF"),j=n("n6mq");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends o.a.PureComponent{constructor(...e){var t;super(...e),t=this,_(this,"state",{showModal:!1,reportType:null}),_(this,"handleDismiss",()=>this.setState({showModal:!1})),_(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),_(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await m.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),_(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>Object(r.jsx)(v.a,{onHide:e,text:l.a._("Thanks for your report! This will be reviewed by our Trust and Safety Team","Toast after reporting a trending search suggestion","Toast after reporting a trending search suggestion")})),this.handleDismiss())}),_(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(p.a,{accessibilityLabel:l.a._("Report","Accessibility label for report icon for trending search suggestion","Accessibility label for report icon for trending search suggestion"),onClick:this.showModal,backgroundHaloSize:24}),e&&Object(r.jsx)(f.b,{accessibilityModalLabel:l.a._("Report search term","accessible label for report trending suggestion modal","accessible label for report trending suggestion modal"),heading:l.a._("Report search term","Heading for report trending suggestion modal","Heading for report trending suggestion modal"),onDismiss:this.handleDismiss,size:"sm",children:Object(r.jsxs)(j.e,{children:[Object(r.jsx)(j.e,{padding:5,children:Object(r.jsx)(j.U,{children:l.a._("When you flag this, our Trust and Safety team will review it. If it doesnt meet our Community Guidelines, it will be blocked.","What will happen when you report a trending suggestion","What will happen when you report a trending suggestion")})}),Object(r.jsxs)(j.e,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[Object(r.jsxs)(j.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(r.jsx)(j.I,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report trending search text"}),Object(r.jsx)(j.e,{flex:"grow",children:Object(r.jsx)(j.x,{htmlFor:"textType",children:Object(r.jsx)(j.e,{paddingX:2,children:Object(r.jsx)(j.U,{children:"Report trending search text"})})})})]}),Object(r.jsxs)(j.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[Object(r.jsx)(j.I,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report trending search image"}),Object(r.jsx)(j.e,{flex:"grow",children:Object(r.jsx)(j.x,{htmlFor:"imageType",children:Object(r.jsx)(j.e,{paddingX:2,children:Object(r.jsx)(j.U,{children:"Report trending search image"})})})})]})]}),Object(r.jsx)(j.o,{}),Object(r.jsxs)(j.e,{display:"flex",justifyContent:"end",padding:2,children:[Object(r.jsx)(j.e,{margin:2,children:Object(r.jsx)(j.f,{onClick:this.handleDismiss,text:l.a._("Cancel","Text for cancel button when reporting trending search suggestion","Text for cancel button when reporting trending search suggestion")})}),Object(r.jsx)(j.e,{margin:2,children:Object(r.jsx)(j.f,{color:"red",onClick:this.handleClick,text:l.a._("Report","Button label to report trending search suggestion","Button label to report trending search suggestion"),disabled:!this.state.reportType})})]})]})})]})}}var x=Object(a.connect)(null,(e,t)=>({reportImage:n=>e(g({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(y.c)(O)),w=n("flQA");const S={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},C=({storyCategory:e,query:t,referringSource:n,bubbleId:r,storyId:i})=>{const o=[0,24,21,25,26].includes(e),a=Object(c.a)({q:t,rs:n||void 0,b_id:r,source_id:i});return o?"/discover/article/"+r:"/search/pins/"+(a?"?"+a:"")};t.a=Object(a.connect)((function({viewer:e}){return{viewer:e}}),()=>({}))((function({bubble:e,height:t,storyId:n,width:o,onClick:a,referringSource:c,contextLogData:p,viewType:f,viewParameter:b,slotIndex:g,handleReport:m,showFlag:v,imgSignature:y,onMouseEnter:_,onMouseLeave:O,isHovered:I,viewer:E}){const[k,D]=Object(i.useState)(!1),{id:T,action:M,cover_images:P,dominant_colors:B,identifier_icon_type:A,title:R,story_category:L,curator:N}=e,z=P[0]&&(P[0]["280x280"]||P[0]["236x"]),F=Object(h.a)(R&&R.format||"",R&&R.args||{}),U=B&&B.length?B[0]:"gray",q=(null==M?void 0:M.url)||C({storyCategory:L,query:F,referringSource:c,bubbleId:T,storyId:n});return Object(r.jsx)(d.a,{impressionAuxFields:{storyCategory:L,storyIdStr:n},impressionType:"Article",loggingId:T,viewType:f,viewParameter:b,slotIndex:g,contextLogData:{story_id:n,...p},children:Object(r.jsx)(j.e,{children:Object(r.jsx)("div",{onMouseEnter:()=>{_?_():D(!0)},onMouseLeave:()=>{O?O():D(!1)},children:Object(r.jsx)(u.a,{to:q,onClick:()=>{a&&a(T)},children:Object(r.jsxs)(j.B,{rounding:4,children:[Object(r.jsx)(j.e,{width:o||"100%",height:t,dangerouslySetInlineStyle:{__style:{backgroundColor:U}},children:z&&Object(r.jsx)(j.w,{alt:F,color:U,fit:"cover",naturalHeight:z.height,naturalWidth:z.width,src:z.url})}),Object(r.jsx)(j.e,{height:t,width:o||"100%",dangerouslySetInlineStyle:{__style:I||k?S.hoverOverlay:z&&S.bubbleOverlay},position:"absolute",top:!0,left:!0}),N&&26!==L&&Object(r.jsx)(j.e,{position:"absolute",top:!0,left:!0,padding:2,children:Object(r.jsx)(s.a,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),A&&A!==w.a&&Object(r.jsx)(j.e,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:Object(r.jsx)(j.u,{icon:Object(w.b)(A),accessibilityLabel:l.a._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})}),Object(r.jsx)(j.e,{display:"flex",height:t,width:o||"100%",position:"absolute",top:!0,padding:3,alignItems:26===L?"end":"center",justifyContent:"center",children:Object(r.jsxs)(j.e,{display:"flex",direction:"column",children:[t>200?Object(r.jsx)(j.t,{size:"md",align:"center",color:"white",children:F}):Object(r.jsx)(j.U,{align:"center",color:"white",weight:"bold",children:F}),N&&26===L&&Object(r.jsxs)(j.e,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[Object(r.jsx)(j.e,{marginEnd:2,children:Object(r.jsx)(s.a,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),Object(r.jsx)(j.U,{size:"sm",color:"white",children:N.full_name})]})]})}),E.isAuth&&E.isEmployee&&v&&(I||k)?Object(r.jsx)(j.e,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:Object(r.jsx)(x,{handleReport:m,viewType:f,viewParameter:b,imgSignature:y||""})}):null]})})})})})}))},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},L0q3:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("Taje"),o=n("UevE"),a=n("zVay"),s=a.List,c=a.Repeat,l=a.Record,d=function(){return!0},u=l({start:null,end:null}),h=l({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(e,t,n){var r=t.getLength();if(!r)return s.of(new h({start:0,end:0,decoratorKey:null,leaves:s.of(new u({start:0,end:0}))}));var o=[],a=n?n.getDecorations(t,e):s(c(null,r)),l=t.getCharacterList();return i(a,b,d,(function(e,t){o.push(new h({start:e,end:t,decoratorKey:a.get(e),leaves:f(l.slice(e,t).toList(),e)}))})),s(o)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["leaves"]);return new h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?s(Array.isArray(t)?t:o(t)).map((function(e){return u(e)})):null}))}};function f(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return i(r,b,d,(function(e,r){n.push(new u({start:e+t,end:r+t}))})),s(n)}function b(e,t){return e===t}e.exports=p},L2EA:function(e,t,n){var r=n("YeVe"),i=n("JL7T"),o=n("zVay"),a=n("Zf/v"),s=n("mFyV"),c=n("V8dp"),l=o.List,d=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),l=c.getText(),d=c.getCharacterList(),u=i,h=o+r.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var f=c.getType();l&&"unstyled"===f&&(f=r.getType());var b=c.merge({text:l.slice(0,o)+r.getText()+l.slice(o),characterList:a(d,r.getCharacterList(),o),type:f,data:p});return e.merge({blockMap:n.set(i,b),selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:h,focusKey:u,focusOffset:h,isBackward:!1})})},u=function(e,t,n,o,a,s){var c=n.first()instanceof i,d=[],u=o.size,h=n.get(a),p=o.first(),f=o.last(),b=f.getLength(),g=f.getKey(),m=c&&(!h.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(m?d.push(e):d.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.slice(0,t),a=i.slice(0,t),s=n.first();return e.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?e.getType():s.getType(),data:s.getData()})}(e,s,o)),o.slice(m?0:1,u-1).forEach((function(e){return d.push(e)})),d.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.length,a=r.slice(t,o),s=i.slice(t,o),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,o))):d.push(e)}));var v=r.createFromArray(d);return c&&(v=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i}(r,e),d=c[c.length-1];if(t.get(o)?(t.setIn([i,"nextSibling"],o),t.setIn([o,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([d,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],d),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var u=e.get(s).getChildKeys(),h=u.indexOf(i)+1,p=u.toArray();p.splice.apply(p,[h,0].concat(c)),t.setIn([s,"children"],l(p))}}))}(v,0,h,p)),e.merge({blockMap:v,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:b,focusKey:g,focusOffset:b,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var o=e.getBlockMap(),a=c(n),l=t.getStartKey(),h=t.getStartOffset(),p=o.get(l);return p instanceof i&&(p.getChildKeys().isEmpty()||s(!1)),1===a.size?d(e,t,o,a.first(),l,h,r):u(e,t,o,a,l,h)}},L2iP:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return h}));const r=64,i=80,o=22,a="HeaderContent",s="unauthEuCookieBar",c=4,l=24,d=671,u={marginBottom:c},h={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},LTlA:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"==typeof e},t.xor=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},LWPz:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("nKUr"),i=n("q1tI"),o=(n("3qQZ"),n("WjpJ")),a=n.n(o),s=n("n6mq");const c=80,l=1.2;function d({layoutType:e,thumbnails:t}){switch(e){case 4:const e=t&&t[0]&&t[0]["236x"];return Object(r.jsx)(s.B,{rounding:4,width:c,height:80,children:e?Object(r.jsx)(s.w,{alt:"",color:"gray",fit:"cover",naturalHeight:e.height,naturalWidth:e.width,src:e.url||""}):Object(r.jsxs)(s.e,{display:"flex",children:[Object(r.jsx)(s.e,{color:"lightGray",height:c,width:39.4}),Object(r.jsxs)("div",{style:{paddingLeft:l},children:[Object(r.jsx)(s.e,{color:"lightGray",height:39.4,width:39.4}),Object(r.jsx)(s.e,{color:"lightGray",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return Object(r.jsx)(s.B,{rounding:4,width:c,height:80,children:Object(r.jsx)(s.e,{display:"flex",children:a()(0,2).map(e=>{const n=!!t&&t.length>0&&t[e];return Object(r.jsx)("div",{style:{paddingRight:l},children:Object(r.jsx)(s.e,{height:c,width:39.4,children:n&&Object(r.jsx)(s.w,{alt:"",color:"gray",fit:"cover",naturalHeight:c,naturalWidth:39.4,src:n["236x"].url||""})})},e)})})});default:return null}}var u=n("c4Fo"),h=n("U4JR");const p=[502043,502085,502419];function f({boardId:e,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n}){return Object(r.jsx)(u.a,{placementId:18,experienceIds:p,children:({display_data:i,complete:o,dismiss:a})=>Object(r.jsx)(b,{boardId:e,displayData:i,complete:o,dismiss:a,handleShowArchiveConfirmation:t,handleShowGroupPinsModal:n})})}function b({boardId:e,displayData:t,complete:n,dismiss:o,handleShowArchiveConfirmation:a,handleShowGroupPinsModal:c}){const l=t.custom_properties,[u,p]=Object(i.useState)(null);Object(i.useEffect)(()=>()=>clearTimeout(u),[u]);const f={2:a,3:()=>{l&&c(l.cluster_id,l.section_name)}};return Object(i.useEffect)(()=>{(e=>{if(!u){const t=setTimeout(()=>{e()},2e4);p(t)}})(o),Object(h.b)(13,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e})},[]),Object(r.jsx)(s.y,{children:Object(r.jsxs)("div",{className:"BoardActionUpsellCard",children:[Object(r.jsx)(s.e,{flex:"none",children:Object(r.jsx)(d,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),Object(r.jsxs)(s.e,{marginStart:4,children:[Object(r.jsx)(s.U,{inline:!0,children:Object(r.jsx)(s.t,{size:"sm",children:t.text})}),Object(r.jsxs)(s.e,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[Object(r.jsx)(s.f,{color:"gray",inline:!0,onClick:()=>{Object(h.b)(123,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),o()},text:t.dismiss_button.text}),Object(r.jsx)(s.e,{paddingX:2,children:Object(r.jsx)(s.f,{color:"red",inline:!0,onClick:()=>{f[t.complete_button.action_type](),Object(h.b)(101,{view:5,viewParameter:3069,element:11758,objectId:JSON.stringify(t.experience.experience_id),board_id:e}),n()},text:t.complete_button.text})})]})]})]})})}},Lakr:function(e,t,n){var r=n("W5AS");e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},LpQA:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("YeVe"),a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("TzU/"),d=n("hMpd"),u=n("rJY1"),h=n("UevE"),p=n("cwFY"),f=n("zVay"),b=n("HriT"),g=f.List,m=f.Record,v=f.Repeat,y=f.Map,j=f.OrderedMap,_=m({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),O=p("draft_tree_data_support")?c:s,x=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getEntityMap=function(){return l},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,n){return l.__create(e,t,n),this},s.mergeEntityData=function(e,t){return l.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return l.__replaceData(e,t),this},s.addEntity=function(e){return l.__add(e),this},s.getEntity=function(e){return l.__get(e)},s.getAllEntities=function(){return l.__getAll()},s.loadWithEntities=function(e){return l.__loadWithEntities(e)},i.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=o.createFromArray(n),a=r.isEmpty()?new d:d.createEmpty(r.first().getKey());return new i({blockMap:r,entityMap:t||l,selectionBefore:a,selectionAfter:a})},i.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=b(e),new O({key:u(),text:e,type:"unstyled",characterList:g(v(a.EMPTY,e.length))})}));return i.createFromBlockArray(r)},i.fromJS=function(e){return new i(r({},e,{blockMap:j(e.blockMap).map(i.createContentBlockFromJS),selectionBefore:new d(e.selectionBefore),selectionAfter:new d(e.selectionAfter)}))},i.createContentBlockFromJS=function(e){var t=e.characterList;return new O(r({},e,{data:y(e.data),characterList:null!=t?g((Array.isArray(t)?t:h(t)).map((function(e){return a.fromJS(e)}))):void 0}))},i}(_);e.exports=x},M6rc:function(e,t,n){var r=n("lFJn"),i=n("zVay").Map,o={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,o){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),d=t.getEndOffset(),u=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).concat(i([[l,a.get(l)]])).map((function(e,t){var i,a;s===l?(i=c,a=d):(i=t===s?c:0,a=t===l?d:e.getLength());for(var u,h=e.getCharacterList();i<a;)u=h.get(i),h=h.set(i,o?r.applyStyle(u,n):r.removeStyle(u,n)),i++;return e.set("characterList",h)}));return e.merge({blockMap:a.merge(u),selectionBefore:t,selectionAfter:t})}e.exports=o},MCs0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},"MD/U":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const r=1,i=1,o=2,a={Default:"default",MoreIdeas:"moreIdeas",Pins:"pins",Places:"places",Shop:"shop"}},MNxV:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("XRfM")),o=n("pLLR");const a=i.b.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>Object(r.jsx)(o.b,{children:r=>i.b.formatDate(r.locale,n,e,t)})},MOLB:function(e,t,n){n.d(t,"a",(function(){return g}));var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("v2I7"),s=n("vvax"),c=n("n6mq");function l({isViewPolishEnabled:e,selectedPinCount:t}){const n=e?o.a._("Select Pins to start","board.selectedPinCountText.selectPinsText","Description telling user to select Pins to begin organization"):o.a._("Pick Pins to move or copy","board.selectedPinCountText.pickPinsText","Description telling user to select Pins to begin organization"),i=0===t?n:Object(s.b)(o.a.ngettext("{{ pinCount }} Pin selected","{{ pinCount }} Pins selected",t,"Number of pins selected when performing bulk action on the board page","Number of pins selected when performing bulk action on the board page"),{pinCount:t});return Object(r.jsx)(c.U,{children:i})}var d=n("U4JR"),u=n("JW66"),h=n("tKdP");const p=()=>{};function f({hideDone:e,inSelectAll:t,isCollaborative:n,isViewPolishEnabled:s,onDeselectAll:f,onDone:b,onSelectAll:g,onShowBulkEditBoardPicker:m,removeIsDisabled:v,selectedPinCount:y}){const j=Object(i.useRef)(null),_=e=>{const t=h.a[e];t&&Object(d.b)(101,{component:69,element:t}),m(e)},O=0===y||!t&&y>h.c,x=y>h.c&&!t;return s?Object(r.jsxs)(c.e,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:12,children:[Object(r.jsx)(c.e,{children:Object(r.jsx)(l,{isViewPolishEnabled:!0,selectedPinCount:y})}),Object(r.jsx)(c.e,{children:Object(r.jsx)(a.a,{isCollaborative:n,isViewPolishEnabled:!0,noSelection:!y,onDeselectAll:f,onSelectAll:g})})]}):Object(r.jsxs)(c.e,{children:[Object(r.jsxs)(c.e,{alignItems:"center",display:"flex",justifyContent:"between",children:[Object(r.jsxs)(c.e,{display:"flex",marginEnd:-4,marginStart:-4,children:[Object(r.jsx)(c.e,{paddingX:4,children:Object(r.jsx)(l,{selectedPinCount:y})}),Object(r.jsx)(c.e,{paddingX:4,children:Object(r.jsx)(a.a,{isCollaborative:n,noSelection:!y,onDeselectAll:f,onSelectAll:g})})]}),Object(r.jsxs)(c.e,{display:"flex",marginEnd:-1,marginStart:-1,children:[Object(r.jsx)(c.e,{paddingX:1,children:Object(r.jsx)(c.f,{disabled:O,onClick:()=>_(u.a.BulkAction.MOVE),text:o.a._("Move")})}),Object(r.jsx)(c.e,{paddingX:1,children:Object(r.jsx)(c.f,{disabled:O||t,onClick:()=>_(u.a.BulkAction.COPY),ref:j,text:o.a._("Copy")})}),Object(r.jsx)(c.e,{paddingX:1,children:Object(r.jsx)(c.f,{disabled:O||v,onClick:()=>_(u.a.BulkAction.DELETE),text:o.a._("Delete")})}),!e&&Object(r.jsx)(c.e,{paddingX:1,children:Object(r.jsx)(c.f,{color:"red",onClick:()=>{Object(d.b)(101,{component:69,element:404}),b&&b()},text:o.a._("Done")})})]})]}),x?Object(r.jsx)(c.r,{anchor:j.current,color:"red",idealDirection:"down",onDismiss:p,shouldFocus:!1,children:Object(r.jsx)(c.e,{padding:3,children:Object(r.jsx)(c.U,{color:"white",weight:"bold",children:o.a._('To organize more than 1000 Pins, click "Select all" and try again.',"BoardInfoBar.OrganizationBar.BoardOrganizationBar.ErrorMessage","warning tooltip for bulk action on board page")})})}):null]})}var b=n("k9Pu");function g(e){const{board:t,hideDone:n,inSelectAll:i,isViewPolishEnabled:o,onDeselectAll:a,onDone:s,onSelectAll:c,onShowBulkEditBoardPicker:l,selectedPinCount:d,selectedPinIds:u}=e;return Object(r.jsx)(b.a,{board:t,paddingY:4,selectedPinIds:u,children:({removeIsDisabled:e})=>Object(r.jsx)(f,{hideDone:n,inSelectAll:i,isCollaborative:t.is_collaborative,isViewPolishEnabled:o,onDeselectAll:a,onDone:s,onSelectAll:c,onShowBulkEditBoardPicker:l,removeIsDisabled:e,selectedPinCount:d})})}},MPKC:function(e,t,n){var r=n("fyOY"),i=n("3sOJ");e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},MaRn:function(e,t,n){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}n.d(t,"a",(function(){return r}))},MbRH:function(e,t,n){e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},Mh8y:function(e,t,n){var r=n("zVay").Map;e.exports=function(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat(r([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},MhBu:function(e,t,n){function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return r}))},"N/FO":function(e,t,n){const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();t.a=({window:e,duration:t,run:n})=>{const i=r();let o=0,a=null;const s=()=>{const c=r()-i,l=c-o;if(t===1/0)n(0,c,l);else{const e=c/t;if(e>=1)return void n(1,c,l);n(e,c,l)}o=c,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},N1c7:function(e,t,n){e.exports=n("j+6V")()},"N4T/":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,r){if(void 0===r&&(r=t.strictEquality),e.length!==n.length)return!1;for(var i=0;i<e.length;++i)if(!r(e[i],n[i]))return!1;return!0}},N8u9:function(e,t,n){function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NFjV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=r},NVsV:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("q1tI");const i="__ALL__",o="__NONE__",a={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:o,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},s=n.n(r).a.createContext(a);t.c=s},NXrh:function(e,t,n){n.d(t,"a",(function(){return y}));var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("Sihc"),s=n("Ye/N"),c=n("rrvb"),l=n("ANjH"),d=n("0BOE"),u=n("jdx6"),h=n("qyR9"),p=n("n6mq"),f=n("w70y");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="NO_SECTION_VALUE";function m({section:e,hovered:t,searchQuery:n}){return Object(r.jsxs)(p.e,{children:[Object(r.jsx)(p.e,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2,children:Object(r.jsx)(p.e,{flex:"grow",children:Object(r.jsx)(p.U,{weight:"bold",children:Object(u.b)(n,e.title)})})}),e.id===g&&Object(r.jsx)(p.o,{})]})}class v extends i.Component{constructor(...e){super(...e),b(this,"state",{searchQuery:""}),b(this,"getPickerSections",()=>{const{searchQuery:e}=this.state,{sectionsResource:t,mergingFromSectionId:n}=this.props;let r=t&&t.data||[];return r=n?r.filter(e=>e.id!==n):[{id:g,title:s.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit")},...r],e.length>=h.a&&(r=Object(d.a)(r,e,"title")),[{items:r}]}),b(this,"createBtnDisabled",()=>{const{sectionsResource:e}=this.props,{searchQuery:t}=this.state;return!(!e||!e.data)&&e.data.some(e=>e.title.toLowerCase()===t.toLocaleLowerCase())}),b(this,"handleSectionCreate",()=>{const{board:e,onSectionChange:t,sectionsResource:n,dispatch:r,onSectionCreate:i}=this.props,{searchQuery:o}=this.state;i?i(o):r&&e.id&&r(Object(a.a)({boardId:e.id,name:o})).then(e=>{n&&n.refreshData(),this.setState({searchQuery:""}),t(e)})}),b(this,"handleSectionSelected",e=>{const{onSectionChange:t}=this.props;e.id===g?(t(null),this.setState({searchQuery:""})):(t(e),this.setState({searchQuery:""}))}),b(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),b(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return Object(r.jsx)(m,{hovered:t,searchQuery:n,section:e})})}componentDidUpdate(e){const t=e.selectedSectionId,{selectedSectionId:n}=this.props;if(n!==t){const{sectionsResource:e}=this.props;e&&e.refreshData()}}render(){const{isStoryPin:e,sectionsResource:t,selectedSectionId:n,mergingFromSectionId:i,selectedSectionName:o}=this.props,{searchQuery:a}=this.state;let l=i?s.a._("Pick a section","default dropdown option for selecting a board section to merge to","default dropdown option for selecting a board section to merge to"):s.a._("No section","default dropdown option for selecting a board section on pin edit","default dropdown option for selecting a board section on pin edit");if(n){let e;t&&t.data&&(e=t.data.find(e=>e.id===n)),l=e&&e.title||l}else o&&(l=o);return Object(r.jsxs)(p.e,{children:[Object(r.jsx)(p.O,{accessibilityLabel:s.a._("loading section picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!!t&&!t.isLoaded}),(!t||t&&t.isLoaded)&&Object(r.jsx)(c.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:l,isStoryPin:e,onCreate:i?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:a,sections:this.getPickerSections()})]})}}const y=v;t.b=Object(l.compose)(Object(o.connect)(),Object(f.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id}),allowStale:!1}))(y)},NdQN:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("JW66"),a=n("Ye/N"),s=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),c(this,"setInputRef",e=>{e&&(this._input=e)}),c(this,"handleKeyDown",e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case o.a.KeyCode.ENTER:case o.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case o.a.KeyCode.UP:e.preventDefault(),n.prev();break;case o.a.KeyCode.DOWN:e.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return Object(r.jsx)("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"},children:Object(r.jsx)(s.K,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:a.a._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}t.a=l},NdXn:function(e,t,n){function r(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return r}))},NrS9:function(e,t,n){n.d(t,"b",(function(){return c}));var r=n("gxu6"),i=n("7w6Q"),o=n("eOdZ"),a=n("mBfy");const s=function(){};Object.assign(s.prototype,{sendSubscriptionToServer(e,t,n){r.b("cm_sub","allowed",8760,"/"),t&&t(),i.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:n});let a=e.subscriptionId;if(!a){const t=e.endpoint.split("/");a=t[t.length-1]}return o.a.create("WebPushDeviceResource",{}).callGet({showError:!1}).then(t=>{const n=t.resource_response.data;if(!(a in n)){const t={registration_id:a,subscription_endpoint:e.endpoint};return o.a.create("WebPushDeviceResource",t).callCreate()}})},subscribe(e,t,n){return i.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:n}),navigator.serviceWorker.ready.then(o=>{var a;null==o||null===(a=o.pushManager)||void 0===a||a.subscribe({userVisibleOnly:!0}).then(t=>this.sendSubscriptionToServer(t,e,n),o=>{"Notification"in window&&"denied"!==Notification.permission?(r.b("cm_sub","dismissed",8760,"/"),t&&t(),i.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:n})):(r.b("cm_sub","denied",8760,"/"),e&&e(),i.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:n}))})})},initializeState(){if(a.default.isLimitedLogin())r.b("cm_sub","denied",8760,"/");else if(a.default.isAuthenticated())if("showNotification"in ServiceWorkerRegistration.prototype)if("Notification"in window&&"denied"!==Notification.permission){if("PushManager"in window)return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{if(e)return this.sendSubscriptionToServer(e);throw r.b("cm_sub","none",8760,"/"),new Error}).catch(e=>{});r.b("cm_sub","denied",8760,"/")}else r.b("cm_sub","denied",8760,"/");else r.b("cm_sub","denied",8760,"/");else r.b("cm_sub","denied",8760,"/")}}),s.instance=function(){return s._instance||(s._instance=new s),s._instance},"undefined"!=typeof window&&window.addEventListener("load",()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(()=>{s.instance().initializeState()}).catch(()=>{})});const c=()=>{if("serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}};t.a=s},NwjN:function(e,t,n){var r=n("q1tI");t.a=Object(r.createContext)(0)},"Nx4+":function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("AKPT"),a=n("qysv"),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),c=n.merge({blockMap:a,selectionAfter:t});if(c!==n)return i.push(e,c,"remove-range")}var l=s.tryToRemoveBlockStyle(e);return l?i.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),a=n.getBlockForKey(o).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?i.push(e,l,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var d=c.getDepth();if(!e.shiftKey&&d===n)return t;var u=o(s,r,e.shiftKey?-1:1,n);return i.push(t,u,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),o=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),l=n;if(o!==s&&0===n.getEndOffset()){var d=a(c.getBlockBefore(s));s=d.getKey(),l=l.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:d.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==o})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var u=c.getBlockForKey(o).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(c,l,u),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var a,s=e.getCurrentContent();return a=o.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),i.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),o=e.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=s},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),o=n("KfNM"),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},O3d3:function(e,t,n){n.d(t,"a",(function(){return r}));function r(e){return{facebook:{connected:e.connected_to_facebook||!1},google:{connected:e.connected_to_google||!1},youtube:{connected:e.connected_to_youtube||!1},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:e.connected_to_microsoft||!1},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:e.connected_to_etsy||!1},instagram:{connected:e.connected_to_instagram||!1},dropbox:{connected:e.connected_to_dropbox||!1}}}},O4zn:function(e,t,n){var r=n("m75S"),i=n("FcOR"),o=n("4pIB"),a=n("W5AS"),s=n("7Nlx"),c=n("F09w"),l=n("mFyV"),d=n("GyOf"),u=o.isBrowser("IE");function h(e,t){if(!e)return"[empty]";var n=p(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(d(n)||l(!1),n.outerHTML)}function p(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return c(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=e.childNodes,a=0;a<o.length;a++)i.appendChild(p(o[a],t));return i}function f(e,t){for(var n=e,r=n;n;){if(d(n)&&r.hasAttribute("contenteditable"))return h(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function b(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function g(e,t,n,r){var o=s();if(e.extend&&null!=t&&a(o,t)){n>b(t)&&i.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(d){throw i.logSelectionStateFailure({anonymizedDom:f(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:d?""+d:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),d}}else if(t&&e.rangeCount>0){var l=e.getRangeAt(0);l.setEnd(t,n),e.addRange(l.cloneRange())}}function m(e,t,n,o){var a=c(t).createRange();if(n>b(t)&&(i.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),u)try{e.addRange(a)}catch(s){0}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var o=c(t);if(a(o.documentElement,t)){var s=o.defaultView.getSelection(),l=e.getAnchorKey(),d=e.getAnchorOffset(),u=e.getFocusKey(),h=e.getFocusOffset(),p=e.getIsBackward();if(!s.extend&&p){var f=l,b=d;l=u,d=h,u=f,h=b,p=!1}var v=l===n&&r<=d&&i>=d,y=u===n&&r<=h&&i>=h;if(v&&y)return s.removeAllRanges(),m(s,t,d-r,e),void g(s,t,h-r,e);if(p){if(y&&(s.removeAllRanges(),m(s,t,h-r,e)),v){var j=s.focusNode,_=s.focusOffset;s.removeAllRanges(),m(s,t,d-r,e),g(s,j,_,e)}}else v&&(s.removeAllRanges(),m(s,t,d-r,e)),y&&g(s,t,h-r,e)}},addFocusToSelection:g}},OBhP:function(e,t,n){var r=n("fmRc"),i=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),d=n("VOtZ"),u=n("EEGq"),h=n("qZTm"),p=n("G6z8"),f=n("QqLw"),b=n("yHx3"),g=n("wrZu"),m=n("+iFO"),v=n("Z0cm"),y=n("DSRE"),j=n("zEVN"),_=n("GoyQ"),O=n("1+5i"),x=n("7GkX"),w=n("mTTR"),S="[object Arguments]",C="[object Function]",I="[object Object]",E={};E[S]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[I]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[C]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,k,D,T,M){var P,B=1&n,A=2&n,R=4&n;if(k&&(P=T?k(t,D,T,M):k(t)),void 0!==P)return P;if(!_(t))return t;var L=v(t);if(L){if(P=b(t),!B)return l(t,P)}else{var N=f(t),z=N==C||"[object GeneratorFunction]"==N;if(y(t))return c(t,B);if(N==I||N==S||z&&!T){if(P=A||z?{}:m(t),!B)return A?u(t,s(P,t)):d(t,a(P,t))}else{if(!E[N])return T?t:{};P=g(t,N,B)}}M||(M=new r);var F=M.get(t);if(F)return F;M.set(t,P),O(t)?t.forEach((function(r){P.add(e(r,n,k,r,t,M))})):j(t)&&t.forEach((function(r,i){P.set(i,e(r,n,k,i,t,M))}));var U=L?void 0:(R?A?p:h:A?w:x)(t);return i(U||t,(function(r,i){U&&(r=t[i=r]),o(P,i,e(r,n,k,i,t,M))})),P}},OLzA:function(e,t,n){e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},OQKm:function(e,t,n){n.d(t,"a",(function(){return S}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/5qN"),s=n("+wrf"),c=n("rxSY"),l=n("Ye/N");const d="INVITE_SETTING",u="REQUEST_TO_JOIN_SETTING";var h=n("n6mq");function p({boldHeading:e,setting:t,viewerIsOwner:n}){const i={0:{name:l.a._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l.a._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:l.a._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:n?l.a._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):l.a._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab","Text explaining collaborator permission setting")},[d]:{name:l.a._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l.a._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},[u]:{name:l.a._("Board requests","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l.a._("People can request to join this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}},a=e?h.t:h.U;return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(a,{color:"darkGray",size:e?"sm":"lg",children:i[t].name}),Object(r.jsx)(h.e,{paddingY:1,children:Object(r.jsx)(h.U,{color:"gray",size:"lg",children:i[t].description})})]})}var f=n("EwHv"),b=n("TgLd"),g=n("v/Q4"),m=n("EC67");function v({board:e,currentPermissionLevel:t,navigateToPermissions:n,onDismiss:o}){const d=e.collaborator_count>0,[u,v]=Object(i.useState)(!d),y=Object(g.a)(),j=Object(m.g)(),_=y.isAuth&&e.owner.id===y.id,O=_||e.collaborator_invites_enabled,x=u&&!d||!u;return Object(r.jsx)(b.b,{accessibilityModalLabel:u?l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"):l.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),footer:O&&!u?Object(r.jsx)(h.T,{onTap:()=>v(!0),rounding:8,children:Object(r.jsxs)(h.e,{display:"flex",alignItems:"center",children:[Object(r.jsx)(h.v,{accessibilityLabel:l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","accessibility label on icon button"),icon:"add",bgColor:"red",iconColor:"white"}),Object(r.jsx)(h.e,{paddingX:3,children:Object(r.jsx)(h.U,{size:"lg",weight:"bold",children:l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Clickable text to show invite form")})})]})}):null,heading:Object(r.jsx)(h.e,{padding:8,children:Object(r.jsx)(h.t,{align:"center",size:"md",children:u?l.a._("Invite collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal"):l.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")})}),onDismiss:o,children:Object(r.jsxs)(h.e,{marginBottom:5,children:[x&&Object(r.jsxs)(h.e,{paddingX:6,children:[Object(r.jsx)(h.e,{paddingY:3,children:Object(r.jsx)(h.U,{size:"sm",children:_?l.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting"):l.a._("You can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Text before explaining current collaborator permission setting")})}),Object(r.jsxs)(h.e,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[Object(r.jsx)(h.e,{width:"60%",children:Object(r.jsx)(p,{boldHeading:!0,viewerIsOwner:_,setting:t})}),_&&Object(r.jsx)(h.v,{accessibilityLabel:l.a._("Edit board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on icon button"),icon:"arrow-forward",onClick:n})]})]}),u?Object(r.jsxs)(h.e,{paddingX:2,children:[Object(r.jsx)(a.a,{boardId:e.id}),Object(r.jsx)(c.a,{boardId:e.id})]}):Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(h.e,{paddingX:6,paddingY:5,children:Object(r.jsx)(h.U,{size:"sm",children:l.a._("Collaborators","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Header before listing collaborators on a group board")})}),Object(r.jsx)(f.a,{board:e,scrollInfo:null,onBoardLeave:()=>{const e=y.isAuth?"/"+y.username:"/";j.replace(e)},renderInvite:(e,t,n)=>{const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(r.jsx)(s.a,{...i})}})]})]})})}var y=n("/MKj"),j=n("U4JR"),_=n("QAzJ"),O=n("pLLR"),x=n("oN2T");function w({board:{collaborator_invites_enabled:e,collaborator_requests_enabled:t,id:n},currentPermissionLevel:o,navigateToCollaborators:a,onDismiss:s}){const[c,f]=Object(i.useState)(o),[g,m]=Object(i.useState)(e),[v,w]=Object(i.useState)(t),[S,C]=Object(i.useState)(!1),I=Object(O.d)(),E=Object(y.useDispatch)(),{anyEnabled:k}=Object(_.a)("web_board_modal");return Object(r.jsx)(b.b,{accessibilityModalLabel:l.a._("Board permissions","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a modal"),heading:Object(r.jsxs)(h.e,{paddingY:8,position:"relative",children:[Object(r.jsx)(h.e,{position:"absolute",top:!0,left:!I.isRTL,right:I.isRTL,paddingY:8,paddingX:6,children:Object(r.jsx)(h.v,{accessibilityLabel:l.a._("Back","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"arrow-back",iconColor:"darkGray",onClick:a})}),Object(r.jsx)(h.t,{align:"center",size:"md",children:l.a._("Collaborators can...","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Heading for a modal")}),k&&Object(r.jsx)(h.e,{position:"absolute",top:!0,left:I.isRTL,right:!I.isRTL,paddingY:8,paddingX:6,children:Object(r.jsx)(h.v,{accessibilityLabel:l.a._("Close","save.board.BoardPage.ModalContents.BoardCollaboratorsModal","Accessibility label on a button"),icon:"cancel",iconColor:"darkGray",onClick:s})})]}),footer:Object(r.jsx)(h.e,{display:"flex",justifyContent:"end",children:Object(r.jsx)(h.f,{color:"red",disabled:S||c===o&&g===e&&v===t,inline:!0,onClick:()=>{C(!0);const r={id:n},i={view:5,viewParameter:3472};g!==e&&(r.collaborator_invites_enabled=g,Object(j.b)(g?106:107,{element:11896,...i})),c!==o&&(r.collaborator_permissions_setting=c,Object(j.b)(8841,{...i})),v!==t&&(r.collaborator_requests_enabled=v),E(Object(x.m)(r)).then(()=>s())},size:"lg",text:l.a._("Done","save.board.BoardPage.ModalContents.PermissionsModal","Submit button on a form")})}),onDismiss:s,children:Object(r.jsxs)(h.e,{paddingX:12,children:[Object(r.jsx)(h.e,{paddingY:3,children:Object(r.jsx)(h.U,{size:"sm",children:l.a._("Permissions","save.board.BoardPage.ModalContents.PermissionsModal","Heading before listing possible board permissions")})}),Object(r.jsxs)(h.e,{alignItems:"center",display:"flex",children:[Object(r.jsx)(h.I,{checked:0===c,id:"ALL",onChange:()=>f(0),value:0}),Object(r.jsx)(h.e,{marginEnd:12,paddingX:2,children:Object(r.jsx)(p,{setting:0})})]}),Object(r.jsxs)(h.e,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[Object(r.jsx)(h.I,{checked:1===c,id:"SAVE_ONLY",onChange:()=>f(1),value:1}),Object(r.jsx)(h.e,{marginEnd:12,paddingX:2,children:Object(r.jsx)(p,{setting:1})})]}),Object(r.jsx)(h.e,{paddingY:3,children:Object(r.jsx)(h.U,{size:"sm",children:l.a._("Invitations","save.board.BoardPage.ModalContents.PermissionsModal","Heading before group board invitation permission form setting")})}),Object(r.jsxs)(h.e,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[Object(r.jsx)(h.j,{checked:g,id:"inviteSetting",onChange:({checked:e})=>m(e)}),Object(r.jsx)(h.e,{marginEnd:12,paddingX:2,children:Object(r.jsx)(p,{setting:d})})]}),Object(r.jsxs)(h.q,{alignItems:"center",justifyContent:"start",children:[Object(r.jsx)(h.j,{checked:v,id:"inviteSetting",onChange:({checked:e})=>w(e)}),Object(r.jsx)(h.e,{marginEnd:12,paddingX:2,children:Object(r.jsx)(p,{setting:u})})]})]})})}function S({board:e,onDismiss:t}){const[n,o]=Object(i.useState)("collaboratorsView"),{collaborator_permissions_setting:a}=e;return"collaboratorsView"===n?Object(r.jsx)(v,{board:e,currentPermissionLevel:a,navigateToPermissions:()=>o("permissionsView"),onDismiss:t}):Object(r.jsx)(w,{board:e,currentPermissionLevel:a,navigateToCollaborators:()=>o("collaboratorsView"),onDismiss:t})}},OSge:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));const r="0.8.0",i=9/16;function o(e,t=1){return{x:e/5,y:e*(t-1)}}const a={HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",MENTION_STICKER:"story_pin_mention_sticker_block"},s={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},c={...s,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},OWXb:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("eOdZ");function i(e){return t=>function(e){return r.a.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then(e=>new Promise((t,n)=>{const r=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;r?t(r):n(new Error("No blocking actions found in the response"))}))}(e).then(n=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:n}}),n))}},Oz7m:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=n("q1tI"),o=n("KEt0"),a=n("n6mq");function s(e){return null!=e}function c({additionalPadding:e,inline:t,items:n}){const c=e?Object(r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:Object(r.jsx)(o.a,{})}):Object(r.jsx)(o.a,{}),l=n.filter(s).reduce((e,t,n)=>[...e,0!==n?c:null,t],[]).filter(s).map((e,t)=>Object(r.jsx)(i.Fragment,{children:e},t));return 0===l.length?null:t?Object(r.jsx)(a.e,{children:l}):Object(r.jsx)(a.q,{alignItems:"center",justifyContent:"start",children:l})}},P1kZ:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"@"===e?"mention":e+"mention"}},P2Et:function(e,t,n){n.d(t,"b",(function(){return W}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("ks/r"),c=n("d7JY"),l=n("Ye/N"),d=n("n6mq");function u({isSection:e}){const t=e?l.a._("There aren’t any Pins in this section yet","EmptyBoard.EmptyText.section","Statement that there are no pins in the section"):l.a._("There aren’t any Pins on this board yet","EmptyBoard.EmptyText.board","Statement that there are no pins on the board");return Object(r.jsx)(c.a,{children:Object(r.jsx)(d.e,{paddingY:8,children:Object(r.jsx)(d.U,{color:"darkGray",size:"lg",children:t})})})}function h({hasSections:e,isSection:t}){return Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(d.e,{width:"100%",display:"flex",justifyContent:"center",children:!t&&e?null:Object(r.jsx)(u,{isSection:t})})})}var p=n("3z7j"),f=n("mmKv"),b=n("dKiF");const g=e=>null===e,m=e=>e?164:5,v=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),y=(e,t)=>e+(e>=t?1:0),j=Object(b.b)(0,b.a)(e=>e);function _(e){const{boardSectionId:t,gridItem:n,index:i,paddingBottom:o,renderPinItem:a,viewParameter:s}=e,{itemKey:c}=n;let l=null;switch(c.type){case"story":l=Object(r.jsx)(f.a,{slot:i,storyId:c.id,viewType:m(t),viewParameter:s});break;case"pin":l=Object(r.jsx)("div",{style:{paddingBottom:o},children:a(n,i)});break;default:l=null}return Object(r.jsx)("div",{children:l},`${c.type}:${c.id}`)}var O=n("MaRn"),x=n("MhBu"),w=n("R0ru"),S=n("9X5u"),C=n("rg+c");const I=-1;var E=Object(S.a)(C.a.Pin)((function(e){const{allowReordering:t,children:n,connectDropTarget:i,index:o,isDragWithinBounds:a}=e;return t&&i?i(Object(r.jsx)("div",{style:{opacity:o===I||a?1:.5},children:n})):n})),k=n("EhF7"),D=n("82UD"),T=n("0S8y");function M(e){const{allowReordering:t,boardSectionId:n,gridItem:i,handlePinDragBegin:o,handlePinDragEnd:a,handlePinDragHover:s,index:c,lfvExperiences:l,onBulkEditPinClick:d,source:u,target:h,viewParameter:p}=e,{inBulkEditMode:f,isCollaborator:b,isGroupBoard:g,isOwnBoard:v,isSelected:y,itemKey:{id:j}}=i,_=u!==I,O=h===c,x={pinId:j,imageOnlyOption:!v&&Object(T.b)(l)?"image-only":"default",attributionOption:g?"show":"hide",pinImageCrop:"none",surface:f?"BulkEditMode":"BaseBoardPinGrid",trackingParameters:{slotIndex:c,viewParameter:p,viewType:m(n)}};if(!v&&!b)return Object(r.jsx)(D.a,{...x});let w="no-selection";f&&(w=y?"selected":"deselected");let S=Object(r.jsx)(D.a,{...x,disableHover:_||f,selectionState:w});return f&&(S=Object(r.jsx)(k.a,{onClick:()=>d(j),children:S})),t&&(S=Object(r.jsx)(C.b,{index:c,isDragging:O,onDragBegin:o,onDragHover:s,onDragEnd:a,type:C.a.Pin,children:S})),S}var P=n("eOdZ"),B=n("IeEU"),A=n("2qKt"),R=n("ANjH"),L=n("TN0d"),N=n("U4JR"),z=n("Wrea"),F=n("yjg8"),U=n("KFEb"),q=n("w70y");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o.a.Component{constructor(...e){super(...e),K(this,"state",{reorderSource:I,reorderTarget:I,prevFeed:[]}),K(this,"handlePinDeleted",(e,t,n)=>{const r=n,{board:i,boardSectionId:o,dispatch:a,onPinDelete:s}=this.props;a(Object(z.f)(i.id)),a(Object(x.a)({feedId:o||i.id,feedType:o?U.a.SECTION_PINS:U.a.BOARD_PINS,itemIds:[r],itemType:"pin"})),o&&a(Object(p.a)(o)),s()}),K(this,"handlePinAdded",(e,t,n)=>{const{board:r,boardSectionId:i,dispatch:o}=this.props;o(Object(z.f)(r.id)),i&&o(Object(p.a)(i)),this.props.resource.refreshData()}),K(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),K(this,"handlePinDragHover",e=>{const{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),K(this,"handlePinDragEnd",e=>{const{board:t,boardSectionId:n,dispatch:r,feed:i,viewParameter:o}=this.props,{reorderSource:a,reorderTarget:s}=this.state;if(i&&e&&s!==I&&a!==I&&s!==a){const e=this.hiddenItemIndex,[c,l]=-1===e?[a,s]:[y(a,e),y(s,e)],d=Object(U.c)(i,c,l),u=i[c].id;r(Object(O.a)({feedType:n?U.a.SECTION_PINS:U.a.BOARD_PINS,feedId:n||t.id,itemType:"pin",targetItemId:i[l].id,sourceItemId:i[c].id}));const h={board_id:t.id,pin_id:u},p=d.filter(e=>"pin"===e.type).map(e=>e.id),f=p.indexOf(u),b=f-1;b>=0&&b<p.length&&(h.pin_id_before=p[b]);const g=f+1;g>=0&&g<p.length&&(h.pin_id_after=p[g]);const v={objectId:u,view:m(n),viewParameter:o};P.a.create("BoardPinsReorderResource",h).callUpdate({showError:!1}).then(()=>Object(N.b)(7122,v))}this.setState({reorderSource:I,reorderTarget:I})}),K(this,"handleFetchMore",()=>{const{resource:{fetchMore:e,isAtEnd:t,isFetching:n}}=this.props;t||n||e(),this.setState({prevFeed:this.props.feed||[]})}),K(this,"renderPinItem",(e,t)=>{const{lfvExperiences:n,onBulkEditPinClick:i,viewer:o,viewParameter:a,boardSectionId:s}=this.props,{reorderSource:c,reorderTarget:l}=this.state;return Object(r.jsx)(M,{allowReordering:this.allowReordering,boardSectionId:s,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,lfvExperiences:n,onBulkEditPinClick:i,source:c,target:l,viewer:o,viewParameter:a})}),K(this,"renderGridItem",({data:e,itemIdx:t})=>{const{boardSectionId:n,viewParameter:i}=this.props;return Object(r.jsx)(_,{boardSectionId:n,gridItem:e,index:t,paddingBottom:this.props.denseViewSelected?6:0,renderPinItem:this.renderPinItem,viewParameter:i})})}componentDidMount(){const{board:{id:e},feed:t,resource:{isFetching:n,refreshData:r}}=this.props;this.subscribers=[L.b.subscribe(e,"pinDeleted",this.handlePinDeleted),L.b.subscribe(e,"pinCreated",this.handlePinAdded)],g(t)&&!n&&r()}componentDidUpdate(e){const{feed:t,resource:{isFetching:n,refreshData:r}}=this.props;g(t)&&!g(e.feed)&&!n&&r()}componentWillUnmount(){this.subscribers.forEach(e=>e.unsubscribe()),delete this.subscribers}get allowReordering(){const{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:n}=this.props;return!n&&(t||e)}get hiddenItemIndex(){const{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(v):-1}render(){const{bulkEditSelectedPins:e,board:t,boardSectionId:n,commentsResource:o,feed:a,footerStoryId:c,denseViewSelected:u,inBoardOrganizationMode:p,inSectionOrganizationMode:f,isDragWithinBounds:b,inSelectAll:g,renderFooterStory:m,resource:{isAtEnd:v,isFetching:y,isLoaded:_},isOwnBoard:O,scrollContainer:x}=this.props,{access:S,collaborated_by_me:C=!1,collaborator_count:k=0,section_count:D}=t,{reorderSource:T,reorderTarget:M}=this.state;if(!a||!a.find(e=>"pin"===e.type))return y?Object(r.jsx)(d.O,{accessibilityLabel:l.a._("Board Pins grid"),show:!0}):Object(r.jsxs)(i.Fragment,{children:[_&&a&&0===a.length&&Object(r.jsx)(h,{hasSections:!!D,isSection:!!n}),m&&c&&m(c)]});if(!this.state.prevFeed.length&&o.isFetching)return Object(r.jsx)(d.O,{accessibilityLabel:l.a._("Board Pins grid","Accessibility label for spinner waiting for Board pin grid","Accessibility label for spinner waiting for Board pin grid"),show:!0});const P=this.allowReordering,B=P&&T!==M&&T!==I&&M!==I;let A=o.isFetching?this.state.prevFeed:a||[];const R=this.hiddenItemIndex;if(-1!==R&&(A=[...A.slice(0,R),...A.slice(R+1)]),B&&(A=Object(U.c)(A,T,M)),!A.length)return Object(r.jsx)(d.O,{accessibilityLabel:l.a._("Board Pins grid"),show:!0});const L={inBulkEditMode:p||f,inDenseView:u||!1,isGroupBoard:k>0,userCanEdit:(S||[]).includes("write"),isOwnBoard:O,isCollaborator:C},N=A.map((t,n)=>{const{inBulkEditMode:r}=L,i="pin"===t.type&&!!(null==e?void 0:e.includes(t.id));return j({...L,isSelected:r&&(g?!i:i),itemKey:t})});return Object(r.jsxs)(d.e,{minHeight:u?800:"",children:[Object(r.jsx)(E,{allowReordering:P,index:M,isDragWithinBounds:b,children:Object(r.jsx)(w.default,{columnWidth:u?F.f:F.e,comp:this.renderGridItem,gutterWidth:u?2*F.b/3:F.b,isAtEnd:v,isFetching:y||o.isFetching,isLoaded:_&&o.isLoaded,items:N,layout:"basicCentered",loadItems:this.handleFetchMore,paddingStyle:u?"dense":"simplified",scrollContainer:x,virtualize:!0},`${String(u)}-${String(p)}-${String(f)}`)}),P&&T!==I&&Object(r.jsx)(s.a,{}),y&&Object(r.jsx)(d.e,{position:"relative",paddingY:3,children:Object(r.jsx)(d.O,{accessibilityLabel:l.a._("Loading Board Feed"),show:!0})}),v&&c&&m&&m(c)]})}}const W=e=>e?e.reduce(({feed:e,footerStoryId:t},n)=>{const r="story"===n.type&&"board_ideas_preview_detailed"===n.story_type;return{feed:e.concat(r?[]:[n]),footerStoryId:r?n.id:t}},{feed:[],footerStoryId:void 0}):{feed:e,footerStoryId:void 0},V=Object(R.compose)(Object(a.connect)((e,t)=>{const{feed:n}=t,{activityItems:r,pins:i}=e;return{boardActivityIdsToFetch:n?n.filter(e=>"pin"===e.type).reduce((e,t)=>{const n=i[t.id],o=n&&n.board_activity,a=o&&o.id,s=a&&r[a];return a&&s&&s.comment_count?[...e,a]:e},[]):[]}}),Object(A.a)(1000182),B.a,Object(q.b)({name:"BoardActivityPinsGridCommentsResource",key:"commentsResource",options:e=>({activityIds:e.boardActivityIdsToFetch||[]})}))(H);V.displayName="BaseBoardPinGrid";t.a=V},P6AF:function(e,t,n){var r=n("/MKj"),i=n("ANjH"),o=n("KFEb");var a=n("5FNA"),s=n("w70y"),c=n("P2Et");const l=Object(i.compose)(Object(r.connect)((e,t)=>Object(c.b)(e.feeds[o.a.SECTION_PINS][t.boardSectionId])),Object(s.b)({name:"BoardsResource",key:"boardsResource",options:e=>Object(a.a)(e.viewer.username,!0)}),Object(s.b)({name:"BoardSectionPinsResource",key:"resource",options:e=>{return t=e.boardSectionId,n=e.isOwnBoard,r=e.board.should_show_board_activity,{currentFilter:e.currentFilter,field_set_key:r?"react_grid_pin_with_board_activity":"react_grid_pin",is_own_profile_pins:n,page_size:25,redux_normalize_feed:!0,section_id:t};var t,n,r}}))(c.a);l.displayName="BoardSectionPinGrid";t.a=l},P6kd:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("Ye/N"),s=n("oRao"),c=n("eOdZ"),l=n("Sbkd"),d=n("vvax"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a.Component{constructor(...e){super(...e),h(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),h(this,"onDismiss",()=>{}),h(this,"mounted",!1),h(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),h(this,"handleKeyDown",e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)}),h(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),h(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),h(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),h(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),h(this,"callResource",e=>{const{makeCancelablePromise:t}=this.props;t(c.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:o}=this.props,c=e.filter(e=>e.query),l=o||"down",h="flyout_"+c.length;return t&&c.length>0?Object(r.jsx)("div",{className:"HashtagFlyout",children:Object(r.jsx)(u.r,{anchor:i,idealDirection:l,onDismiss:this.onDismiss,size:"sm",children:Object(r.jsx)("div",{className:"HashtagRecommendations",children:c.length>0?c.map((e,t)=>Object(r.jsx)("div",{className:"HashtagItem",children:Object(r.jsx)(u.T,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:Object(r.jsxs)(u.e,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[Object(r.jsx)(u.e,{flex:"grow",children:Object(r.jsx)(u.U,{inline:!0,size:"md",weight:"bold",children:e.query})}),Object(r.jsx)(u.e,{flex:"none",children:Object(r.jsx)(u.U,{inline:!0,size:"sm",children:Object(d.b)(a.a.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:Object(r.jsx)(s.a,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query)):null})},h)}):null}}function f(e){const t=Object(l.a)();return Object(r.jsx)(p,{...e,makeCancelablePromise:t})}},P79d:function(e,t,n){n.d(t,"a",(function(){return P}));var r=n("nKUr"),i=n("q1tI"),o=n("E2hd"),a=n("Ye/N");function s({onClick:e}){return Object(r.jsx)(o.a,{accessibilityLabel:a.a._("Edit board","BoardPage.ActionBar.EditBoard","button that allows a user to edit a board"),icon:"edit",onClick:e})}var c=n("hBSE"),l=n("0yL5"),d=n("s6a/"),u=n("GFC/");function h(e){const{label:t,onClose:n,onCreatePincode:i,onEditClick:o}=e;return Object(r.jsxs)(d.a,{label:t,children:[Object(r.jsx)(u.a,{onClick:()=>{o(),n()},children:a.a._("Edit","BoardPage.ActionBar.PartnerEdit","Clickable text to enter board editing mode")}),i&&Object(r.jsx)(u.a,{onClick:()=>{i(),n()},children:a.a._("Create Pincode","BoardPage.ActionBar.PartnerPincode","Clickable text to trigger Pincode modal")})]})}function p({isSection:e,onCreatePincode:t,onEditClick:n}){const i=e?a.a._("Section options","ActionBar.PartnerEditBtn.section","Label for a button that open the edit flyout for partners on a board section"):a.a._("Board options","ActionBar.PartnerEditBtn.board","Label for button that opens a flyout with partner options on boards");return Object(r.jsx)(l.a,{icon:"ellipsis",label:i,children:({handleClose:e})=>Object(r.jsx)(h,{label:i,onClose:e,onCreatePincode:t,onEditClick:n})})}var f=n("J/d7"),b=n("n6mq");function g({activeTabIndex:e,onChange:t,tabs:n}){return Object(r.jsx)(b.e,{display:"flex",flex:"grow",justifyContent:"center",children:Object(r.jsx)(b.S,{activeTabIndex:e,onChange:t,size:"lg",tabs:n.map(({href:e,title:t})=>({href:e,text:t}))})})}var m=n("JW66"),v=n("8A+h"),y=n("F8lS"),j=n("qUzp"),_=n("/MKj"),O=n("2r8n");function x({handleClose:e,handleOrganizeClick:t,showDensitySelector:n,showOrganize:o,surface:s}){const c=Object(_.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),l=[];return o&&l.push(function({handleClose:e,handleOrganizeClick:t}){return{items:[{text:a.a._("Select Pins to move or delete","BoardPage.ActionBar.MoveDelete","Clickable text to enter board organization mode"),onClick:()=>{e(),t()}}],label:a.a._("Organize","BoardHeader.ActionBar.Organize","List of options for organizing a board")}}({handleClose:e,handleOrganizeClick:t})),n&&l.push(Object(O.a)({handleClose:e,selectedDensity:c,surface:s})),Object(r.jsx)(i.Fragment,{children:l.map(({items:e,label:t})=>Object(r.jsx)(d.a,{label:t,children:e.map(({isSelected:e,onClick:t,text:n})=>Object(r.jsx)(u.a,{icon:e?"selected":void 0,onClick:t,children:n},n))},t))})}function w({handleOrganizeClick:e,showDensitySelector:t,showOrganize:n,surface:i}){return Object(r.jsx)(l.a,{icon:"filter",label:a.a._("Options","BoardPage.ActionBar.Options","button triggering organization and view tools"),children:({handleClose:o})=>Object(r.jsx)(x,{handleClose:o,handleOrganizeClick:e,showDensitySelector:t,showOrganize:n,surface:i})})}var S=n("3oMh");function C(e){const{board:t,handleCreatePincode:n,handleOpenSendBoardFlyout:i}=e;return Object(r.jsx)(S.a,{board:t,onCreatePincode:n,onOpen:i,children:({active:e,onClick:t})=>Object(r.jsx)(o.a,{accessibilityLabel:a.a._("Send Board","BoardPage.ActionBar.ShareBtn","Accessible label for button to send board"),icon:"share",onClick:t,selected:e})})}var I=n("4cpq"),E=n("iTI2"),k=n("v/Q4"),D=n("ZdPf"),T=n("MD/U"),M=n("QAzJ");function P(e){const{board:t,handleAddSection:n,handleBoardEdit:i,handleCreatePin:l,handleCreatePincode:d,handleCreateStoryPin:u,handleOpenSendBoardFlyout:h,handleOrganizeClick:b,handleShowDateModal:_,handleTabChange:O,headerHeight:x,shouldStick:S,showDensitySelector:P,showOrganize:B,showTabs:A,surface:R,tabKey:L,tabs:N}=e,{access:z,privacy:F,sensitivity:U}=t,q=Object(k.a)(),{anyEnabled:K}=Object(M.c)("web_board_tools"),{anyEnabled:H}=Object(M.c)("web_hide_board_follow"),W=Math.max((null==N?void 0:N.findIndex(e=>e.key===L))||0,0),V=N&&N[W],G=K||L===T.d.Default,Y=z.includes("write"),J=Object(v.a)(q,t),X=!!t.archived_by_me_at,Q=F===m.a.BoardPrivacy.SECRET,Z=Object(D.d)(U),$="section"===R,ee=[],te=[],ne=!Q&&!Z&&q.isAuth&&q.isPartner;if(H)ee.push(Object(r.jsx)(y.a,{board:t,canCreatePincode:Y&&ne,canEdit:Y,handleCreatePincode:d,handleOpenSendBoardFlyout:h,onEditClick:i,showFollow:!J,showShare:!Q&&!Z}));else{if(Y){const e=ne?Object(r.jsx)(p,{isSection:$,onCreatePincode:d,onEditClick:i},"actionBarEditButton-Partner"):Object(r.jsx)(s,{onClick:i},"actionBarEditButton");ee.push(Object(r.jsx)(I.a,{id:"editBoardButton",children:e}))}Q||Z||ee.push(Object(r.jsx)(C,{board:t,handleCreatePincode:d,handleOpenSendBoardFlyout:h},"sendButton"))}return G&&Object(j.a)({board:t,viewer:q})&&(B||P)&&te.push(Object(r.jsx)(w,{handleOrganizeClick:b,showDensitySelector:P,showOrganize:B,surface:R},"organizeButton")),G&&Y&&!X&&te.push(Object(r.jsx)(f.a,{onAddOrEditDate:"board"===R&&J&&_?_:null,onAddSection:n,onCreatePin:l,onCreateStoryPin:u,onOpen:E.a,surface:$?"section":"board",children:({active:e,openFlyout:t})=>Object(r.jsx)(o.a,{accessibilityLabel:$?a.a._("Create a Pin","BoardPage.ActionBar.AddPin","button to add a pin to a board section"):a.a._("Create a Pin or add a Section","BoardPage.ActionBar.AddPinOrSection","button triggering a flyout to create a pin or add a section"),icon:"add",onClick:t,selected:e})},"boardActionsButton")),Object(r.jsx)(c.a,{buttonsLeft:ee,buttonsRight:te,headerHeight:x,shouldStick:S,children:!K&&N&&V&&A&&Object(r.jsx)(g,{activeTabIndex:N.findIndex(e=>e.key===V.key),onChange:O,tabs:N})})}},P9b8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("SFi7");t.DragDropContext=r.DragDropContext,t.DragDropContextProvider=r.DragDropContextProvider,t.DragDropContextConsumer=r.Consumer;var i=n("QNmZ");t.DragLayer=i.default;var o=n("9EBm");t.DragSource=o.default;var a=n("tvWU");t.DropTarget=a.default;var s=n("fpRd");t.DragPreviewImage=s.default;var c=n("sGxw");t.useDrag=c.useDrag,t.useDragLayer=c.useDragLayer,t.useDrop=c.useDrop},PFU8:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("rJY1"),a=n("mFyV"),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var i=r.children;Array.isArray(i)||a(!1),n=n.concat([].concat(i.reverse()))}}(t,(function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var i=s(e),a=e.depth||0,c=r({},e,{children:[]});if(i){var l=n[0];if(null==l&&0===a)t.push(c);else if(null==l||l.depth<a-1){var d={key:o(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(d),1===a?t.push(d):null!=l&&l.children.push(d),d.children.push(c)}else if(l.depth===a-1)l.children.push(c);else{for(;null!=l&&l.depth>=a;)n.shift(),l=n[0];a>0?l.children.push(c):t.push(c)}}else t.push(c)})),r({},e,{blocks:t})}};e.exports=c},PNKV:function(e,t,n){},PQhE:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("8uQm"),o=n("JL7T"),a=n("1qq2"),s=n("rJY1"),c=n("xocI"),l=n("cwFY"),d=n("zVay"),u=n("HriT"),h=d.List,p=d.Repeat,f=l("draft_tree_data_support"),b=f?o:i,g={processHTML:function(e,t){return a(e,c,t)},processText:function(e,t,n){return e.reduce((function(e,i,o){i=u(i);var a=s(),c={key:a,type:n,text:i,characterList:h(p(t,i.length))};if(f&&0!==o){var l=o-1;c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},c,{prevSibling:(e[l]=e[l].merge({nextSibling:a})).getKey()})}return e.push(new b(c)),e}),[])}};e.exports=g},PRGv:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}},PnD8:function(e,t,n){e.exports=n("6uti")},"Pv/+":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("MhBu"),i=n("eOdZ"),o=n("oN2T"),a=n("KFEb"),s=n("Wer7");function c(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function l(e,t){return n=>i.a.create("BoardSectionEditResource",{section_id:t}).callDelete({showError:!1}).then(()=>Promise.all([n(c(e,t)),n(Object(r.a)({feedId:e,feedType:a.a.BOARD_SECTIONS,itemIds:[t],itemType:"board_section"})),n(Object(o.c)(e,"pin_count")),n(Object(s.f)("BoardSectionsRepinResource",{board_id:e}))]))}},PxjJ:function(e,t,n){e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(t=(t?t+" ":"")+i)}return t}},Q59z:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("LWPz"),s=n("lnQP"),c=n("zUcL"),l=n("P6AF"),d=n("VVkO"),u=n("2r8n"),h=n("+nTX"),p=n("s6a/"),f=n("GFC/"),b=n("Ye/N"),g=n("U4JR"),m=n("n6mq");function v({board:e,currentFilter:t,eligibleFilters:n,isOwnBoard:a,surface:s,setCurrentFilter:c,setTitle:l}){const d=Object(i.useRef)(null),v=Object(o.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),[y,j]=Object(i.useState)(!1),_=()=>{j(!1)},O=[];if(n){const r={items:n.map(n=>({isSelected:n.pin_type===t,onClick:()=>{Object(g.b)(101,{component:13475,element:n.pin_type===k?12111:12110,objectId:e.id,view:5,viewParameter:a?3069:3070}),c(n.pin_type),l(n.pin_type===k?null:n.text),_()},text:n.text})),label:b.a._("Filter by type","board.experimentalBoardActionBar.filterOptions","List of board filter options")};O.push(r)}return O.push(Object(u.a)({handleClose:_,selectedDensity:v,surface:s})),Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(m.e,{ref:d,children:Object(r.jsx)(m.v,{accessibilityLabel:b.a._("Board Filter","board.experimentalBoardActionBar.boardFilter","Filter to select specific Pins on board"),icon:"filter",iconColor:"darkGray",onClick:()=>{Object(g.b)(101,{element:12020,objectId:e.id,view:5,viewParameter:a?3069:3070}),j(!y)},selected:y,size:"lg"})}),y&&Object(r.jsx)(h.a,{anchor:d.current,onDismiss:_,size:"lg",children:O.map(({items:e,label:t})=>Object(r.jsx)(p.a,{label:t,children:e.map(({isSelected:e,onClick:t,text:n})=>Object(r.jsx)(f.a,{icon:e?"selected":null,onClick:t,children:n},n))},t))})]})}var y=n("vvax");function j({board:e,currentFilter:t,isOwnBoard:n,section:o,setCurrentFilter:a}){const{eligible_pin_type_filters:s}=e,[c,l]=Object(i.useState)(null),d=o?o.pin_count:e.pin_count;return Object(r.jsxs)(m.e,{alignItems:"center",direction:"row",display:"flex",paddingX:8,children:[Object(r.jsx)(m.e,{flex:"grow",children:Object(r.jsx)(m.t,{size:"sm",children:null!=c?c:Object(y.b)(b.a.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",d,"board.experimentalBoardActionBar.pinCount","Number of Pins on board or section"),{pinCount:d})})}),Object(r.jsx)(m.e,{children:Object(r.jsx)(v,{board:e,isOwnBoard:n,currentFilter:t,eligibleFilters:s,setCurrentFilter:a,setTitle:l,surface:o?"section":"board"})})]})}var _=n("6j0b"),O=n("qUzp"),x=n("i/p3"),w=n("79tv"),S=n("v/Q4"),C=n("QAzJ"),I=n("juW8");const E=()=>{},k=-1;function D({board:e,currentView:t,handleContentViewChange:n,handleSetCurrentModal:a,handleShowEditSectionModal:u,handleShowMergeSectionsConfirmationModal:h,isOwnerOrCollaborator:p,isOwnBoard:f,isPinGridSorted:b,section:g}){const v=Object(S.a)(),y=Object(_.a)({board:e,viewer:v}),D=(e.access||[]).includes("write"),T=Object(o.useSelector)(e=>e.ui.views.boardPinView),M=Object(w.a)(g?Object(d.a)(e,g):""),{anyEnabled:P}=Object(C.c)("web_pin_notes"),[B,A]=Object(i.useState)(k);return g?Object(r.jsxs)(i.Fragment,{children:[P&&p&&Object(r.jsx)(j,{board:e,currentFilter:B,isOwnBoard:f,section:g,setCurrentFilter:A}),Object(r.jsx)(l.a,{board:e,boardSectionId:g.id,currentFilter:B,denseViewSelected:D&&"dense"===T,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:f,renderFooterStory:t=>!e.archived_by_me_at&&Object(r.jsx)(m.e,{marginBottom:12,children:Object(r.jsx)(c.a,{children:Object(r.jsx)(x.a,{collection:g,storyId:t,url:M})})}),viewer:v,viewParameter:y})]}):Object(r.jsxs)(i.Fragment,{children:[P&&p&&Object(r.jsx)(j,{board:e,currentFilter:B,isOwnBoard:f,setCurrentFilter:A}),Object(r.jsx)(s.a,{actions:{onBoardOrganizeClick:E},board:e,currentFilter:B,currentView:t,enableReordering:Object(O.a)({board:e,viewer:v}),isOwnBoard:f,isPinGridSorted:b,onContentViewChange:n,onPinDelete:E,onShowEditSectionModal:u,onShowMergeSectionsConfirmationModal:(e,t)=>{a(I.a.sectionMergeConfirm),h(e,t)},viewParameter:y})]})}var T=n("yJZD"),M=n("+HMQ"),P=n("PioT"),B=n("bbVO");function A({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:r,onEditClick:i,onMergeClick:o,onUnarchiveClick:a,setFlyoutType:s,showCreatePinCodeOption:c}){const l=[{dataTestId:"editBoardButton",text:b.a._("Edit board","BoardHeader.BoardOptionsFlyout.EditOption","Clickable text to enter board editing mode"),onClick:()=>{i(),e()}},{text:b.a._("Share","BoardHeader.BoardOptionsFlyout.ShareOption","Clickable text to show share options"),onClick:()=>{Object(B.a)(),s("boardShare")}},{text:b.a._("Merge","BoardHeader.BoardOptionsFlyout.MergeOption","Clickable text to open merge board modal"),onClick:()=>{o(),e()}}];t?l.push({text:b.a._("Unarchive","BoardHeader.BoardOptionsFlyout.UnarchiveOption","Clickable text to open unarchive modal"),onClick:()=>{a(),e()}}):l.push({text:b.a._("Archive","BoardHeader.BoardOptionsFlyout.ArchiveOption","Clickable text to open archive modal"),onClick:()=>{n(),e()}}),c&&l.push({text:b.a._("Create Pincode","BoardHeader.BoardOptionsFlyout.PincodeOption","Clickable text to trigger Pincode modal"),onClick:()=>{r(),e()}});return{items:l,label:b.a._("Board options","BoardHeader.BoardOptionsFlyout.OptionsCategory","Category of board options in board flyout")}}function R({handleClose:e,onEditClick:t,setFlyoutType:n}){return{items:[{text:b.a._("Edit Section","BoardHeader.getSectionOptionsCategory.EditOption","Clickable text to enter board editing mode"),onClick:()=>{t(),e()}},{text:b.a._("Share","BoardHeader.getSectionOptionsCategory.ShareOption","Clickable text to show share options"),onClick:()=>{Object(B.a)(),n("boardShare")}}],label:b.a._("Section options","BoardHeader.getSectionOptionsCategory.OptionsCategory","Category of section options in section flyout")}}var L=n("3Qy3");function N({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditBoardClick:a,onEditSectionClick:s,onMergeClick:c,onUnarchiveClick:l,setFlyoutType:d,showCreatePinCodeOption:h,showDensitySelector:b,surface:g}){const v=Object(o.useSelector)(({ui:e})=>{var t;return null==e||null===(t=e.views)||void 0===t?void 0:t.boardPinView}),y=P.b.getBrowser()===L.a.IE,j="section"===g?[R({handleClose:e,onEditClick:s,setFlyoutType:d})]:[A({handleClose:e,isArchived:t,onArchiveClick:n,onCreatePincode:i,onEditClick:a,onMergeClick:c,onUnarchiveClick:l,setFlyoutType:d,showCreatePinCodeOption:h})];b&&j.push(Object(u.a)({handleClose:e,selectedDensity:v,surface:"board"}));const _=()=>Object(r.jsx)(m.e,{width:206,children:j.map(({items:e,label:t})=>Object(r.jsx)(p.a,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:n,text:i})=>Object(r.jsx)(f.a,{dataTestId:e,icon:t?"selected":null,onClick:n,children:i},i))},t))});return y?Object(r.jsx)(m.e,{color:"white",dangerouslySetInlineStyle:{__style:{zIndex:10}},rounding:4,marginStart:-2,marginEnd:-2,paddingX:2,children:_()}):_()}var z=n("0ZL5"),F=n("fevN"),U=n("oVol");function q({board:e,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:o,onEditSectionClick:a,onMergeClick:s,onUnarchiveClick:c,showDensitySelector:l,showCreatePinCodeOption:d,surface:u}){const p=Object(i.useRef)(null),[f,g]=Object(i.useState)(!1),[v,y]=Object(i.useState)("boardOptions"),j=()=>{g(!1),y("boardOptions")},_={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:U.a.BOARD,url:e.url},O=()=>{g(e=>!e),y("boardOptions")},x=!!e.archived_by_me_at;return Object(r.jsx)(i.Fragment,{children:Object(r.jsx)(z.a,{anchors:{3001:p.current},onCompleteByAnchor:{3001:O},placementId:18,children:Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(m.e,{ref:p,children:Object(r.jsx)(m.v,{accessibilityLabel:b.a._("More Board options","BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel","Accessibility label on icon button"),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:O,selected:f,size:"sm"})}),f&&Object(r.jsx)(h.a,{anchor:p.current,onDismiss:j,size:"boardOptions"===v?"lg":"xl",children:"boardOptions"===v?Object(r.jsx)(N,{handleClose:j,isArchived:x,onArchiveClick:t,onCreatePincode:n,onEditBoardClick:o,onEditSectionClick:a,onMergeClick:s,onUnarchiveClick:c,setFlyoutType:y,showDensitySelector:l,showCreatePinCodeOption:d,surface:u}):Object(r.jsx)(F.a,{classNames:"SendBoard",isFlyout:!0,onCreatePincodeClick:n,onHide:j,sendType:U.a.BOARD,sharedObject:_})})]})})})}var K=n("a0OY"),H=n("d7JY"),W=n("8A+h"),V=n("F8lS"),G=n("wj9o"),Y=n("Yo6N"),J=n("MD/U"),X=n("ZdPf");function Q({board:e,handleBoardEditClick:t,handleFollowersClick:n,handleSectionEditClick:i,handleShowBoardArchiveConfirmation:o,handleShowBoardUnarchiveConfirmation:a,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:c,handleShowDateModal:l,handleShowMergeModal:d,section:u,showPulsar:h}){const{name:p,sensitivity:f,url:b}=e,{access:g,pin_count:v}=e,y=Object(S.a)(),j=g&&g.includes("write")?M.a:T.a,_=Object(X.d)(f),x=Object(W.a)(y,e),w=Object(O.a)({viewer:y,board:e}),{anyEnabled:I}=Object(C.c)("web_hide_board_follow"),{anyEnabled:E}=Object(C.c)("web_pin_notes");let k=null;return w?k=Object(r.jsx)(q,{board:e,onArchiveClick:o,showDensitySelector:v>=J.a&&!E,onCreatePincode:c,onEditBoardClick:t,onEditSectionClick:i,onMergeClick:d,onUnarchiveClick:a,showCreatePinCodeOption:y.isAuth&&y.isPartner,surface:u?"section":"board"}):I&&(k=Object(r.jsx)(V.a,{board:e,showFollow:!0})),u?Object(r.jsx)(G.a,{boardName:p,boardUrl:b,overFlowActionsButton:k,sectionName:u.title,children:_&&Object(X.c)(f)&&Object(r.jsx)(H.a,{children:Object(r.jsx)(m.e,{maxWidth:800,paddingY:10,children:f&&Object(r.jsx)(Y.a,{notices:f.notices})})})}):Object(r.jsx)(m.e,{"data-test-id":"board-header",children:Object(r.jsx)(j,{board:e,children:t=>Object(r.jsx)(K.a,{board:e,collaborators:t,handleCreatePincode:c,handleShowCollabAndPermissionsModal:s,handleShowDateModal:l,hideFollowers:x,isToolsBoard:!0,onFollowersClick:n,overFlowActionsButton:k,showPulsar:h,userBlocked:!!e.owner.blocked_by_me})})})}var Z=n("fNcP"),$=n("qD10");function ee({boardTool:{icon:e,link:t,text:n},forwardedRef:o}){const[a,s]=Object(i.useState)(!1);return Object(r.jsx)(m.T,{accessibilityLabel:n,onFocus:()=>s(!0),onBlur:()=>s(!1),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),rounding:6,children:Object(r.jsx)($.a,{tabIndex:"-1",to:t,children:Object(r.jsxs)(m.e,{display:"flex",direction:"column",justifyContent:"center",ref:o,dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},children:[Object(r.jsx)(m.e,{alignItems:"center",color:a?"lightWash":"lightGray",display:"flex",height:72,justifyContent:"center",rounding:6,width:72,children:Object(r.jsx)(m.u,{accessibilityLabel:n,color:"darkGray",icon:e,size:24})}),Object(r.jsx)(m.e,{paddingY:1,children:Object(r.jsx)(m.U,{align:"center",size:"sm",weight:"bold",children:n})})]})})})}var te=n("w70y");function ne({boardId:e,sectionId:t}){const n=Object(i.useRef)(),o=Object(i.useRef)(),a=Object(i.useRef)(),s=Object(i.useRef)(),c=!!t,l=c?{sectionId:t}:{boardId:e},{data:d,isLoaded:u}=Object(te.a)({name:c?"SectionToolsFeedResource":"BoardToolsFeedResource",options:l});if(u&&(!d||!d.length))return null;const h=[n,o,a,s],p=null==d?void 0:d.map(({id:e})=>{const t=e.split("-");return t&&t.length>1?Number(t[1]):-1});return u&&(null==d?void 0:d.length)?Object(r.jsx)(m.q,{alignItems:"center",justifyContent:"center",width:"100%",children:Object(r.jsx)(z.a,{anchors:{3003:n.current,3004:o.current,3005:a.current,3007:s.current},onCompleteByAnchor:{3003:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},3004:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},3005:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},3007:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()}},placementId:18,positionRelativeToAnchor:!1,children:Object(r.jsx)(m.e,{display:"flex",children:d.map((e,t)=>{const n=p?p[t]:-1;return Object(r.jsx)(m.e,{padding:1,children:Object(r.jsx)(ee,{boardTool:e,forwardedRef:h[n]})},e.id)})})})}):null}var re=n("Bn+j"),ie=n("1YNZ"),oe=n("J/d7"),ae=n("iTI2");function se({handleAddBoardNote:e,handleAddSection:t,handleCreatePin:n,handleCreateStoryPin:o,handleShowDateModal:a,surface:s}){const c=Object(i.useRef)();return Object(r.jsx)(m.e,{bottom:!0,marginBottom:4,position:"fixed",rounding:"circle",width:56,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",right:"50%",transform:"translate(-50%)"}},children:Object(r.jsx)(oe.a,{idealDirection:"up",onAddBoardNote:e,onAddOrEditDate:a,onAddSection:t,onCreatePin:n,onCreateStoryPin:o,onOpen:ae.a,surface:s,children:({active:e,openFlyout:t})=>Object(r.jsx)(m.e,{color:"white",display:"inlineBlock",rounding:"circle",children:Object(r.jsx)(z.a,{anchors:{3006:c.current},onCompleteByAnchor:{3006:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()}},idealDirection:"up",placementId:18,children:Object(r.jsx)(m.v,{accessibilityLabel:b.a._("Create a Pin or add a Section","BoardPage.ActionBar.AddPinOrSection","button triggering a flyout to create a pin or add a section"),bgColor:"white",icon:"add",iconColor:"darkGray",onClick:t,ref:c,selected:e,size:"xl"})})})})})}var ce=n("eOdZ"),le=n("4uqU"),de=n("q8wg"),ue=n("QBTH"),he=n("Scz5"),pe=n("VmTC"),fe=n("1inl"),be=n("i6L0"),ge=n("oN2T");var me=n("Sp3T"),ve=n("i97C"),ye=n("5b7f");var je=n("2qKt"),_e=n("ANjH"),Oe=n("NrS9"),xe=n("nGHF"),we=n("sxkF"),Se=n("mHb8"),Ce=n("EC67");const Ie=()=>{};t.a=Object(_e.compose)(Ce.k,Object(je.a)(18,e=>{var t;return{board_id:e.board.id,pin_count:null!==(t=e.board.sectionless_pin_count)&&void 0!==t?t:0,chrome_push_subscription:Object(Oe.b)()}}))((function({board:e,experience:t,initialModalType:n,match:{params:{slug:s}},refreshBoardData:c=Ie,setPlacementExtraContext:l,section:d,showPulsar:u}){const h=Object(o.useDispatch)(),p=Object(me.a)(),f=Object(S.a)(),{anyEnabled:v}=Object(C.c)("web_board_notes");Object(i.useEffect)(()=>{let t="other";Object(Se.c)(f,e)?t="own":Object(Se.b)(f,e)&&(t="collaborator"),l({board_ownership:t})},[t]);const{showOneToast:y}=Object(xe.b)(),j=Object(Ce.g)();!function(){const e=Object(S.a)(),t=Object(te.a)({name:"UserMetadataResource",options:{user:e}});Object(i.useEffect)(()=>Object(ye.a)(t))}();const{handleShowMergeSectionsConfirmationModal:x,mergeConfirmationModalProps:w,onConfirm:E}=Object(ve.a)({board:e}),k=function(){const e=Object(o.useDispatch)(),{showBlockingActionToast:t}=Object(be.a)();return({board:n,targetBoard:r})=>{Object(g.b)(7172,{objectId:n.id,merge_flow:"menu"}),e(Object(ge.j)(n.id,r.id)).then(()=>{t({actionType:"merge",board:r})}).catch(e=>{fe.a.showError(e.message||b.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))})}}(),[T,M]=Object(i.useState)(null),[P,B]=Object(i.useState)(n||null),[A,R]=Object(i.useState)(null),[L,N]=Object(i.useState)(e&&Object(we.b)(f,e)||"custom"),z=()=>B(I.a.boardArchiveConfirmation),F=()=>{const e=f.isAuth?"/"+f.username:"/";j.replace(e)},U=e=>p(()=>{B(I.a.editSection),M(e)}),q=()=>B(I.a.collaboratorsAndPermissions),K=()=>p(()=>{B(I.a.addOrEditDate)}),H="custom"!==L,V=Object(W.a)(f,e),G=Object(O.a)({board:e,viewer:f});return Object(r.jsx)(de.a,{view:5,viewParameter:Object(_.a)({board:e,viewer:f}),objectId:e.id,children:Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(Q,{board:e,handleBoardEditClick:()=>{Object(g.b)(101,{element:10845,component:13216,view:5,viewParameter:3069}),B(I.a.boardEdit)},handleFollowersClick:()=>{B(I.a.followers)},handleSectionEditClick:()=>U(),handleShowBoardArchiveConfirmation:z,handleShowBoardUnarchiveConfirmation:()=>B(I.a.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:q,handleShowCreatePincodeModal:()=>p(()=>{Object(he.a)(),B(I.a.pincode)}),handleShowDateModal:K,handleShowMergeModal:()=>p(()=>{B(I.a.mergeBoard)}),section:d,showPulsar:u}),G&&Object(r.jsx)(m.e,{marginBottom:6,children:Object(r.jsx)(ne,{boardId:e.id,sectionId:null==d?void 0:d.id})}),P!==I.a.jumpstartBoard&&Object(r.jsx)(D,{board:e,currentView:L,handleContentViewChange:e=>N(e),handleSetCurrentModal:B,handleShowEditSectionModal:U,handleShowMergeSectionsConfirmationModal:x,isOwnBoard:V,isOwnerOrCollaborator:G,isPinGridSorted:H,section:d}),Object(r.jsx)(a.a,{boardId:e.id,handleShowArchiveConfirmation:z,handleShowGroupPinsModal:(e,t)=>{B(I.a.groupPins),R({clusterId:e,suggestedSectionName:t})}}),G&&Object(r.jsx)(se,{handleAddBoardNote:v&&!d?()=>{(async()=>{const t=f.isAuth&&f.username;if(t){const n=(await ce.a.create("BoardNoteResource",{slug:s,username:t}).callCreate()).resource_response.data;j.push(`${e.url}_tools/notes/${n.id}`)}})()}:null,handleAddSection:()=>p(()=>{Object(pe.a)(),B(I.a.simpleCreateSection)}),handleCreatePin:()=>p(()=>{Object(ue.a)(),j.push({pathname:"/pin-builder/",state:{board:e,boardSection:d}})}),handleCreateStoryPin:()=>p(()=>{j.push({pathname:"/story-pin-builder/"})}),handleShowDateModal:V?K:null,surface:d?"section":"board"}),P&&Object(r.jsx)(Z.a,{actions:{completeCreateSectionAction:t=>p(()=>{B(null),(t=>{y(({onHide:n})=>Object(r.jsx)(le.a,{boardUrl:e.url,onHide:n,slug:t.slug}))})(t)}),onBoardArchiveChange:()=>{c(),h(Object(ge.i)())},onBoardDelete:F,onBoardLeave:e=>{h(Object(ge.i)()),F()},onBoardMerge:t=>{k({board:e,targetBoard:t}),F()},onBoardSectionDelete:()=>{M(null),B(null),d&&j.replace(e.url)},onBoardSectionSave:({title:t,slug:n})=>{if(M(null),B(null),d){const t=`${e.url}${n}/`;j.replace(t)}},onCollaboratorInviteClick:q,onConfirmMergeSection:E},board:e,boardSection:d||T,currentModal:P,groupPinsData:A,mergeConfirmationModalProps:w,onClearModal:()=>B(null)}),Object(r.jsx)(re.a,{placementId:18}),Object(r.jsx)(ie.a,{placementId:18})]})})}))},Q7uW:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o(e){const{htmlFor:t,errorMessage:n}=e;return Object(r.jsx)(i.x,{htmlFor:t,children:Object(r.jsx)(i.e,{marginTop:1,children:Object(r.jsx)(i.U,{color:"red",size:"md",children:n})})})}},QAzJ:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("q1tI"),i=n("hlDC");function o(e){return e.startsWith("enabled")||e.startsWith("employee")}function a(e,{activate:t=!0,activateExperiment:n,group:i,userIsEligible:a=!0}){var s;s=()=>{t&&a&&n(e)},Object(r.useEffect)(s,[]);const c=Object(r.useCallback)(()=>{a&&n(e)},[n,a,e]);return{group:a?i:"",anyEnabled:a&&o(i),customActivate:a&&!t?c:()=>{}}}function s(e,t=!0){const n=Object(i.b)(),{group:r,anyEnabled:o}=a(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:r,anyEnabled:o}}function c(e,t=!0){const n=Object(i.b)(),{group:r,anyEnabled:o}=a(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:r,anyEnabled:o}}function l(e,t=!0){const n=Object(i.b)();return a(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}},QBTH:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("U4JR");function i(){Object(r.b)(101,{element:10780,component:13217,view:5,viewParameter:3069})}},QCnb:function(e,t,n){e.exports=n("+wdc")},QDEm:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("Iq8E"),a=n("q1tI"),s=n("bSwZ"),c=n("Ey0E"),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,l=e.decorator,d=e.decoratorKey,u=e.direction,h=e.leafSet,p=e.text,f=t.getKey(),b=h.get("leaves"),g=l.getComponentForKey(d),m=l.getPropsForKey(d),v=o.encode(f,parseInt(d,10),0),y=p.slice(b.first().get("start"),b.last().get("end")),j=c.getHTMLDirIfDifferent(s.getDirection(y),u);return a.createElement(g,i({},m,{contentState:r,decoratedText:y,dir:j,key:v,entityKey:t.getEntityAt(h.get("start")),offsetKey:v}),n)},r}(a.Component);e.exports=l},QIf8:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("M1Uz"),a=n("vvax"),s=n("n6mq");function c(e){const{boardImage:t,boardName:n,boardUrl:c,onHide:l}=e,d=Object(r.jsx)(s.U,{children:Object(a.b)(i.a._("Now following {{ boardName }}","BoardFollowButton.FollowingToast.nowFollowing","Toast text displayed when a user follows a board"),{boardName:Object(r.jsx)(s.U,{color:"white",weight:"bold",children:n},"boardName")})});return Object(r.jsx)(o.a,{onHide:l,text:d,href:c,imageUrl:t})}},QIuh:function(e,t,n){function r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function i(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.subtract=i,t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,o=e.initialSourceClientOffset;return t&&n&&o?i(r(t,o),n):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?i(t,n):null}},QLWx:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n("qUzp"),o=n("v/Q4"),a=n("EC67");function s(e){const t=Object(o.a)(),n=Object(a.g)();Object(r.useEffect)(()=>{var r;const o=null!==(r=e&&Object(i.a)({board:e,viewer:t}))&&void 0!==r&&r;e&&!o&&n.push(e.url)},[e])}},QNmZ:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("+k3R"),c=n("SFi7"),l=n("dJ9d"),d=n("QWfI"),u=n("qFZT"),h=n("2S0S"),p=n("Gytx");t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),h("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),h(d.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var r=n,s=t.arePropsEqual,d=void 0===s?p:s,f=r.displayName||r.name||"Component",b=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();p(t,e.state)||e.setState(t)}},e}return i(s,t),s.prototype.getDecoratedComponentInstance=function(){return h(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!d(e,this.props)||!p(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return a.createElement(c.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?a.createElement(r,o({},e.props,e.state,{ref:l.isRefable(r)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,h("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",f,f);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+f+")",s.DecoratedComponent=n,s}(a.Component);return u(b,n)}}},QSJg:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},QWfI:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},QWk2:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("B/xd");function o(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!r.isValidElement(t)){var o=t;return e(o,n),o}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var s=n?function(t){return e(t,n)}:e;return i.default(a,s)}}n("1IOU"),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=o(r);t[n]=function(){return i}}})),t}},R5Y4:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=r(n((t-e)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=i;return c}},RCR6:function(e,t,n){var r=n("y5P+"),i=n("zVay").OrderedSet,o=r.substr,a=i();e.exports=function(e,t){var n=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,i=r+o(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},RGZK:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("Ye/N"),a=n("+Un0"),s=n("EC67"),c=n("n6mq");function l({board:e,headerText:t,rightAction:n,section:l,subheading:d,url:u}){const h=Object(s.g)(),p=Object(i.useSelector)(({history:e})=>e.previous.length>=1),f=Object(i.useDispatch)();return Object(r.jsxs)(c.e,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:4,paddingY:4,position:"relative",width:"100%",children:[Object(r.jsx)(c.e,{position:"absolute",left:!0,padding:4,children:Object(r.jsx)(c.v,{accessibilityLabel:o.a._("Back","BoardToolHeader.IconButtonLabel","Accessibility label on back button"),icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{e&&f(Object(a.invalidateRecommendationResource)({collection:e})),l&&f(Object(a.invalidateRecommendationResource)({collection:l})),p?h.goBack():h.replace(u)},size:"lg"})}),Object(r.jsxs)(c.e,{display:"flex",direction:"column",alignItems:"center",children:[Object(r.jsx)(c.t,{align:"center",size:"md",children:t}),d]}),!!n&&Object(r.jsx)(c.e,{padding:4,position:"absolute",right:!0,children:n})]})}},"RK+W":function(e,t,n){var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},"S8b/":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("hUD8"),o=n("/Ecc"),a=n("yBr6"),s=n("lh2y"),c=n("QSJg"),l=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var r=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:r});var i=e.dataTransfer,o=s.matchNativeItemType(i);if(t.monitor.isDragging()){if(i&&"function"==typeof i.setDragImage){var c=t.monitor.getSourceId(),l=t.sourceNodes.get(c),d=t.sourcePreviewNodes.get(c)||l;if(d){var u=t.getCurrentSourcePreviewNodeOptions(),h={anchorX:u.anchorX,anchorY:u.anchorY},p={offsetX:u.offsetX,offsetY:u.offsetY},f=a.getDragPreviewOffset(l,d,r,h,p);i.setDragImage(d,f.x,f.y)}}try{i.setData("application/json",{})}catch(b){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(o)t.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,r=s.matchNativeItemType(n);r&&t.beginDragNativeItem(r)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,o.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new i.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return r({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return r({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(c).some((function(t){return c[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=s.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=l},SF5q:function(e,t,n){var r="\\s|(?![_])"+n("/EQv").getPunctuation(),i=new RegExp("^(?:"+r+")*(?:"+"['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:"+"['‘’]|(?!"+r+").)*(?:"+r+")*$");function a(e,t){var n=t?o.exec(e):i.exec(e);return n?n[0]:e}var s={getBackward:function(e){return a(e,!0)},getForward:function(e){return a(e,!1)}};e.exports=s},SFi7:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("q1tI"),c=n("yCO0"),l=n("+k3R"),d=n("dJ9d"),u=n("2S0S"),h=n("qFZT");function p(e,t,n){return{dragDropManager:c.createDragDropManager(e,t,n)}}t.context=s.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=p,t.DragDropContextProvider=function(e){var n=e.children,r=a(e,["children"]),i="manager"in r?{dragDropManager:r.manager}:p(r.backend,r.context,r.debugMode);return s.createElement(t.Provider,{value:i},n)},t.DragDropContext=function(e,n,r){l.default("DragDropContext","backend",e);var a=p(e,n,r);return function(e){var n=e,r=n.displayName||n.name||"Component",c=function(c){function l(){var e=null!==c&&c.apply(this,arguments)||this;return e.ref=s.createRef(),e.getManager=function(){return a.dragDropManager},e}return i(l,c),l.prototype.getDecoratedComponentInstance=function(){return u(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},l.prototype.render=function(){return s.createElement(t.Provider,{value:a},s.createElement(n,o({},this.props,{ref:d.isRefable(n)?this.ref:null})))},l.DecoratedComponent=e,l.displayName="DragDropContext("+r+")",l}(s.Component);return h(c,e)}}},SLVX:function(e,t,n){function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},SYhp:function(e,t,n){var r=n("3sOJ");e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},Sbkd:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n("mvLR");function o(){const e=Object(r.useRef)([]),t=Object(r.useRef)({});return Object(r.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(n,r){if(r){const e=t.current[r];e&&(e(),delete t.current[r])}const{cancel:o,promise:a}=Object(i.a)(n);return r?t.current[r]=o:e.current.push(o),a}}},Scz5:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("U4JR");function i(){Object(r.b)(101,{element:10781,component:13217,view:5,viewParameter:3069})}},Sihc:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("Pqnw"),i=n("uVIr"),o=n("VqlB"),a=n("eOdZ"),s=n("oN2T"),c=n("KFEb"),l=n("Wer7");function d(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:h=[]}){let p=0;"RECOMMENDATION"===n?p=1:"EDITED_RECOMMENDATION"===n&&(p=2);const f={board_id:e,initial_pins:u&&!u.all?u.pinIds:h,name:t,name_source:p};return t=>a.a.create("BoardSectionResource",f).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{t(d(e,n)),t(Object(i.a)({feedId:e,feedType:c.a.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t(Object(s.c)(e,"pin_count")),t(Object(l.f)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:h}=u||{all:!1,pinIds:[]};return a?new Promise((r,i)=>t(Object(o.a)({inverseSelection:!0,selectedPinIds:h,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}})).then(()=>r(n)).catch(i)):(h.length>0&&t(Object(r.a)(c.a.BOARD_PINS,e)),n)})}},T401:function(e,t,n){e.exports=function(e){return"handled"===e||!0===e}},TKJ6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8");t.setClientOffset=function(e,t){return{type:r.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},TNox:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/QE7"),a=n("zwad"),s=n("n6mq");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,__dangerouslyDisableSpammyDomainCheck:c,disabled:l,fullHeight:d,fullWidth:u,externalData:h,href:p,onTap:f,onBlur:b,onFocus:g,onMouseEnter:m,onMouseLeave:v,onHistoryChange:y,mouseCursor:j,rounding:_,tabIndex:O,tapStyle:x,target:w}=e,S=a.a.isOffsiteUrl(p);return Object(r.jsx)(o.a,{__dangerouslyDisableSpammyDomainCheck:S?c:void 0,href:p,isExternalLink:S,externalData:S?h:void 0,onClick:f,onHistoryChange:S?void 0:y,target:S?void 0:w,children:({handleClick:e})=>Object(r.jsx)(s.T,{accessibilityLabel:n,disabled:l,href:p,fullHeight:d,fullWidth:u,mouseCursor:j,onTap:e,onBlur:b,onFocus:g,onMouseEnter:m,onMouseLeave:v,ref:t,rel:S?"nofollow":void 0,role:"link",rounding:_,tabIndex:O,tapStyle:x,children:i})})});c.displayName="TapAreaLink",t.a=c},TPjH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}},TSYQ:function(e,t,n){var r;!function(){var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},TT16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}},Taje:function(e,t,n){e.exports=function(e,t,n,r){if(e.size){var i=0;e.reduce((function(e,o,a){return t(e,o)||(n(e)&&r(i,a),i=a),o})),n(e.last())&&r(i,e.count())}}},Tavy:function(e,t,n){var r=n("xKaA"),i="Unknown",o={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),l={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:c.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};e.exports=l},TlXQ:function(e,t,n){var r=n("lFJn"),i=n("zVay").List;e.exports=function(e,t){var n=e.map((function(e,n){var i=t[n];return r.create({style:e,entity:i})}));return i(n)}},"TzU/":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("qnky"),o=n("zVay"),a=n("mFyV"),s=n("Hpvj"),c=(0,o.Map)(),l=s();function d(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var u={getLastCreatedEntityKey:function(){return d("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),u.__getLastCreatedEntityKey()},create:function(e,t,n){return d("DraftEntity.create","contentState.createEntity"),u.__create(e,t,n)},add:function(e){return d("DraftEntity.add","contentState.addEntity"),u.__add(e)},get:function(e){return d("DraftEntity.get","contentState.getEntity"),u.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,l=s()},mergeData:function(e,t){return d("DraftEntity.mergeData","contentState.mergeEntityData"),u.__mergeData(e,t)},replaceData:function(e,t){return d("DraftEntity.replaceData","contentState.replaceEntityData"),u.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return l},__create:function(e,t,n){return u.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function(e){return l=s(),c=c.set(l,e),l},__get:function(e){var t=c.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=u.__get(e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),o=n.set("data",i);return c=c.set(e,o),o},__replaceData:function(e,t){var n=u.__get(e).set("data",t);return c=c.set(e,n),n}};e.exports=u},U4JR:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("m2Wt"),i=n("h4v/"),o=n("ajUs"),a=n("zpPL");const s=()=>a.a.instance.getState(),c=()=>{const{advertiser:e,adminUser:t,viewer:n}=s(),r={};return e&&e.id&&(r.advertiser_id=e.id),t&&n&&n.username&&(r.sterling_on_steroids_ldap=t,r.viewed_user=n.username),r},l=(e,{element:t,eventData:n,component:i,objectId:a,view:l,viewParameter:d,viewData:u,durationNs:h,pairId:p,clientTrackingParams:f,...b})=>{const g=r.a.fromEventType(e);return g.setElement(t),g.updateEventData(n),g.setComponent(i),a&&g.setObjectIdStr(a),g.setDurationNs(h),g.updateAuxData({...b,...c()}),g.setViewType(l),g.setViewParameter(d),g.setViewData(u),g.setPairId(p),g.setClientTrackingParams(f||(e=>{const{pins:t,location:n}=s(),r=t&&e&&t[e];return r?Object(o.a)(r,n)||r.tracking_params+"~0":void 0})(a)),g};function d(e,t={}){i.a.getInstance().addEvent(l(e,t))}const u={flushContextEvents:()=>i.a.getInstance().flushEvents(!0),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:r,element:i,event_data:o,event_type:a,object_id_str:s,pair_id:c,view_data:l,view_parameter:u,view_type:h})=>{d(a,{...e,element:i,eventData:o,component:n,objectId:s,view:h,viewParameter:null!=u?u:void 0,viewData:l,durationNs:r,pairId:c,clientTrackingParams:t})}}},U4W0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},U84a:function(e,t,n){var r=n("dyxW"),i=n("y5P+").strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(o,a){var s=e.getText(),c=e.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(t[r.stringify(c)])})})),n}},UJTY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("/acK"),o=n("493B");t.useDragLayer=function(e){var t=i.useDragDropManager().getMonitor(),n=o.useCollector(t,e),a=n[0],s=n[1];return r.useEffect((function(){return t.subscribeToOffsetChange(s)})),r.useEffect((function(){return t.subscribeToStateChange(s)})),a}},UevE:function(e,t,n){e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},Undz:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=["focus","blur","setMode","exitCurrentMode","restoreEditorDOM","setRenderGuard","removeRenderGuard","setClipboard","getClipboard","getEditorKey","update","onDragEnter","onDragLeave"]},"Usz/":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("bSwZ"),o=n("Ey0E"),a=n("mFyV"),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?o.isStrong(e)||a(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=i.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},V711:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("8cMa"),s=n("JW66"),c=n("Ye/N"),l=n("rrvb"),d=n("0BOE"),u=n("jdx6"),h=n("Wer7"),p=n("qyR9"),f=n("w70y"),b=n("n6mq"),g=n("ANjH"),m=n("oN2T");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y({board:e,hovered:t,searchQuery:n}){const i=e.privacy===s.a.BoardPrivacy.SECRET;return Object(r.jsxs)(b.e,{color:t?"lightGray":"white",display:"flex",padding:2,rounding:2,children:[Object(r.jsx)(b.e,{flex:"grow",children:Object(r.jsx)(b.U,{weight:"bold",children:Object(u.b)(n,e.name)})}),Object(r.jsxs)(b.e,{direction:"row",display:"flex",flex:"none",children:[i&&Object(r.jsx)(a.a,{type:"secret"}),e.is_collaborative&&Object(r.jsx)(a.a,{type:"group"})]})]})}class j extends i.Component{constructor(e){super(e),v(this,"getSections",()=>{const{searchQuery:e}=this.state,{boardResource:{data:{all_boards:t}}}=this.props;return e.length>=p.a?[{items:Object(d.a)(t,e)}]:[{items:t}]}),v(this,"createBtnDisabled",()=>{const{boardResource:{data:{all_boards:e}}}=this.props,{searchQuery:t}=this.state;return e.some(e=>e.name.toLowerCase()===t.toLowerCase())}),v(this,"handleBoardCreate",e=>()=>{const{searchQuery:e}=this.state;if(!e)return;const{createBoard:t,invalidateBoardPickerBoardsResource:n,onBoardCreate:r}=this.props;n(),r?r(e):t({name:e,privacy:"public"}).then(e=>{const{onBoardChosen:t}=this.props;t(e)})}),v(this,"handleBoardSelected",e=>{this.props.onBoardChosen(e),this.setState({selectedBoard:e})}),v(this,"handleSearchQueryUpdate",e=>{this.setState({searchQuery:e})}),v(this,"renderRow",({item:e,hovered:t})=>{const{searchQuery:n}=this.state;return Object(r.jsx)(y,{board:e,hovered:t,searchQuery:n})}),this.state={searchQuery:"",selectedBoard:e.board}}render(){const{boardResource:e,board:t,isStoryPin:n,viewer:i}=this.props,{searchQuery:o,selectedBoard:a}=this.state;let s=c.a._("Select a board","Label for selecting a board in Edit Pin Modal","Label for selecting a board in Edit Pin Modal");return t?s=t.name:a&&(s=a.name),Object(r.jsxs)(b.e,{children:[Object(r.jsx)(b.O,{accessibilityLabel:c.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!e.isLoaded}),e.data&&Object(r.jsx)(l.a,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:s,isStoryPin:n,onCreate:this.handleBoardCreate(i),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:o,sections:this.getSections()})]})}}t.a=Object(g.compose)(Object(o.connect)((function(e){const{advertiser:t,viewer:n}=e,r=n.isAuth&&t&&t.owner_user_id!==n.id;return{advertiser_id:r?t.id:null,username:r?t.owner_user_id:null,viewer:n}}),(function(e){return{invalidateBoardPickerBoardsResource:()=>{e(Object(h.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},createBoard:t=>e(Object(m.g)(t))}})),Object(f.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:e=>({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:e.username,...e.advertiser_id&&e.username?{advertiser_id:e.advertiser_id,filter:"protected",username:e.username}:{}}),allowStale:!1}))(j)},V8dp:function(e,t,n){var r=n("JL7T"),i=n("rJY1"),o=n("zVay").OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),l=r.getChildKeys(),d=r.getParentKey(),u=i();if(n[a]=u,s&&(e.get(s)?e.setIn([s,"prevSibling"],u):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],u):e.setIn([a,"prevSibling"],null)),d&&e.get(d)){var h=e.get(d).getChildKeys();e.setIn([d,"children"],h.set(h.indexOf(r.getKey()),u))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],u),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);l.forEach((function(t){e.get(t)?e.setIn([t,"parent"],u):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},VLkl:function(e,t,n){e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");e.exports=function(e,t){return r(e,i(e),t)}},VSmT:function(e,t,n){var r,i=n("Usz/"),o=n("zVay"),a=n("qysv"),s=o.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),l=s(n.keySeq().zip(c));return null!=t&&o.is(t,l)?t:l}};e.exports=c},VTBg:function(e,t,n){var r=n("JL7T");e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var o=t.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?t.get(a):null}return o?o.getNextSiblingKey():null}},VVkO:function(e,t,n){function r(e,t){const{url:n}=e,{slug:r}=t;return`${n}${r}/`}n.d(t,"a",(function(){return r}))},ViqK:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("FDmi"),s=n("qD10"),c=n("n6mq");function l(e){const{imageUrl:t,name:n,title:i,subtitle:l,accessory:d,linkURL:u,isDim:h}=e,p={__style:{opacity:h?.5:1}};return Object(r.jsx)(o.a.Fragment,{children:n&&i&&Object(r.jsxs)(c.e,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4,children:[Object(r.jsx)(c.e,{marginEnd:2,dangerouslySetInlineStyle:p,children:Object(r.jsx)(s.a,{to:u||"",children:Object(r.jsx)(a.a,{outline:!0,size:"md",name:n,src:t})})}),Object(r.jsxs)(c.e,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:p,children:[Object(r.jsx)(s.a,{to:u||"",children:Object(r.jsx)(c.U,{color:"darkGray",size:"lg",truncate:!0,weight:"bold",children:i})}),Object(r.jsx)(c.U,{truncate:!0,size:"sm",color:"gray",children:l})]}),d&&Object(r.jsx)(c.e,{marginStart:4,children:d})]})})}},VmTC:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("U4JR");function i(){Object(r.b)(101,{element:10779,component:13217,view:5,viewParameter:3069})}},VqlB:function(e,t,n){n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var r=n("3z7j"),i=n("Pqnw"),o=n("uVIr"),a=n("MhBu"),s=n("eOdZ"),c=n("oN2T"),l=n("KFEb"),d=n("1inl"),u=n("Ye/N");function h(e){d.a.showError(function(e){switch(e.api_error_code){case 2171:case 2172:case 2173:return u.a._("Please wait until the previous board action finishes.");default:return e.message}}(e))}const p=e=>Object(i.a)(e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,e.sectionId||e.boardId);function f(e,t){const{source:n,target:i}=e;i.boardId!==n.boardId?(t(Object(c.c)(n.boardId,"pin_count")),t(Object(c.c)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t(Object(c.c)(i.boardId,"pin_count")),n.sectionId&&t(Object(r.a)(n.sectionId)),i.sectionId&&t(Object(r.a)(i.sectionId))}function b(e){return t=>{const{selectedPinIds:n,source:r,target:i}=e;t(Object(a.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),t(Object(o.a)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:n,itemType:"pin"})),f(e,t)}}function g(e){return t=>function(e,t){const{inverseSelection:n,selectedPinIds:r,source:i,target:c}=e;if(i.boardId===c.boardId&&(i.sectionId||null)===(c.sectionId||null))return Promise.reject();if(n){const e={board_id:i.boardId,new_board_id:c.boardId,old_section_id:i.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:r};return s.a.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(p(i)),t(p(c))])).catch(h)}{const e=(e,n)=>{t(Object(a.a)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:r,itemType:"pin"})),t(Object(o.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:r,itemType:"pin"}))};e(i,c);const n=()=>e(c,i);if(c.boardId===i.boardId){if(c.sectionId){const e={section_id:c.sectionId,pins:r};return s.a.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}{const e={section_id:i.sectionId,pins:r};return s.a.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),h(e)})}}{const e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:r};return s.a.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),h(e)})}}}(e,t).then(()=>f(e,t))}},W5AS:function(e,t,n){var r=n("sWW6");e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},WG9s:function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("3oMh")),o=n("n6mq");t.a=({board:e,socialHeaderBgImage:t,socialHeaderBgColor:n,showSendButton:a=!1,textIconColor:s})=>Object(r.jsx)(o.e,{width:"100%",height:208,dangerouslySetInlineStyle:{__style:{backgroundColor:n}},children:Object(r.jsxs)(o.e,{margin:"auto",maxWidth:758,height:"100%",position:"relative",children:[Object(r.jsx)(o.w,{alt:"seasonal cover image",fit:"cover",color:n,src:t,naturalHeight:208,naturalWidth:758,children:Object(r.jsx)(o.e,{height:"100%",width:"100%",paddingX:4,paddingY:4,children:Object(r.jsx)(o.e,{display:"flex",height:"100%",maxWidth:"70%",direction:"column",justifyContent:"center",children:Object(r.jsx)(o.t,{color:s,children:e.name})})})}),Object(r.jsx)(o.e,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:"1"}},marginTop:2,marginStart:1,left:!0,top:!0,children:a&&Object(r.jsx)(o.e,{display:"flex",alignItems:"center",justifyContent:"between",children:Object(r.jsx)(i.a,{iconColor:s,bgColor:"transparent",board:e,onCreatePincode:()=>{},onOpen:()=>{}})})})]})})},WJOU:function(e,t,n){var r=n("FcOR"),i=n("3sOJ"),o=n("0IKU"),a=n("Zgb7");e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,s=a(n,o(e)),c=s.selectionState;c!==n.getSelection()&&(n=s.needsRecovery?i.forceSelection(n,c):i.acceptSelection(n,c),e.update(n))}}},WLG0:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("q1tI"),a=n("4pIB"),s=n("mFyV"),c=n("GyOf"),l=a.isBrowser("IE <= 11");var d=function(e){var t,n;function a(t){var n;return i(r(n=e.call(this,t)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)||s(!1);var r=t;return n?!function(e){return l?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},d.componentDidMount=function(){this._forceFlag=!this._forceFlag},d.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},d.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},l?o.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return l?o.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(o.Component);e.exports=d},WPzw:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("q1tI"),a=(r=o)&&r.__esModule?r:{default:r},s=n("tXUN"),c=n("v83y");t.default=function(e,t,n){var r=(0,s.List)(e).map((function(e){var r=e.component;return i({},e,{component:function(e){return a.default.createElement(r,i({},e,{getEditorState:t,setEditorState:n}))}})})).toJS();return new c.CompositeDecorator(r)}},"WYM/":function(e,t,n){var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},WaGC:function(e,t,n){e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},WbBG:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wer7:function(e,t,n){function r(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function i(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function o(e,t={},n={},r={}){return{type:"RESOURCE_PREFETCH",payload:{name:e,options:t,headers:r}}}function a(e,t={}){return{type:"RESOURCE_PREFETCH_READ",payload:{name:e,options:t}}}function s(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function c(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function l(e,t={},n,r,i,o,a=!1){return{type:"RESOURCE_FETCH_COMPLETE",payload:{auxData:r,data:n,isPrefetch:a,name:e,nextBookmark:o,options:t},error:i}}function d(e,t={},n,r,i,o){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{auxData:r,data:n,name:e,nextBookmark:o,options:t},error:i}}n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d}))},WjpJ:function(e,t,n){var r=n("HLqC")();e.exports=r},Wkzk:function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("DYKh"),a=n("qysv"),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var l=n.getAnchorKey(),d=t.getBlockForKey(l).getLength();if(d===n.getAnchorOffset()){var u=t.getKeyAfter(l);if(null==u)return e;c=n.set("focusKey",u).set("focusOffset",0)}else c=n.set("focusOffset",d)}else c=n;c=a(c),s=o(t,c);var h=r.removeRange(t,c,"forward");return h===t?e:i.push(e,h,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return i.push(e,t,"insert-fragment")}};e.exports=c},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");e.exports=function(e,t){return e&&r(t,i(t),e)}},X6C7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWfI"),i=function(){function e(e){this.isDisposed=!1,this.action=r.isFunction(e)?e:r.noop}return e.isDisposable=function(e){return e&&r.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:r.noop},e}();t.Disposable=i},XYm9:function(e,t,n){var r=n("+K+b");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},XddS:function(e,t,n){(function(t){n("YBdB"),e.exports=t.setImmediate}).call(this,n("yLpj"))},"Xnm/":function(e,t,n){},"Y/kH":function(e,t,n){e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},Y3PQ:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("DthY"),c=n("Iq8E"),l=n("q1tI"),d=n("pXmp"),u=n("PxjJ"),h=n("qysv"),p=function(e,t,n,r){return d({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return i!==o||a!==s||c!==l||n.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleMap,d=e.customStyleFn,f=e.editorState,b=e.editorKey,g=e.preventScroll,m=e.textDirectionality,v=f.getCurrentContent(),y=f.getSelection(),j=f.mustForceSelection(),_=f.getDecorator(),O=h(f.getDirectionMap()),x=v.getBlocksAsArray(),w=[],S=null,C=null,I=0;I<x.length;I++){var E=x[I],k=E.getKey(),D=E.getType(),T=n(E),M=void 0,P=void 0,B=void 0;T&&(M=T.component,P=T.props,B=T.editable);var A=m||O.get(k),R=c.encode(k,0,0),L={contentState:v,block:E,blockProps:P,blockStyleFn:r,customStyleMap:a,customStyleFn:d,decorator:_,direction:A,forceSelection:j,offsetKey:R,preventScroll:g,selection:y,tree:f.getBlockTree(k)},N=t.get(D)||t.get("unstyled"),z=N.wrapper,F=N.element||t.get("unstyled").element,U=E.getDepth(),q="";if(r&&(q=r(E)),"li"===F)q=u(q,p(D,U,C!==z||null===S||U>S,A));var K=M||s,H={className:q,"data-block":!0,"data-editor":b,"data-offset-key":R,key:k};void 0!==B&&(H=o({},H,{contentEditable:B,suppressContentEditableWarning:!0}));var W=l.createElement(F,H,l.createElement(K,i({},L,{key:k})));w.push({block:W,wrapperTemplate:z,key:k,offsetKey:R}),S=z?E.getDepth():null,C=z}for(var V=[],G=0;G<w.length;){var Y=w[G];if(Y.wrapperTemplate){var J=[];do{J.push(w[G].block),G++}while(G<w.length&&w[G].wrapperTemplate===Y.wrapperTemplate);var X=l.cloneElement(Y.wrapperTemplate,{key:Y.key+"-wrap","data-offset-key":Y.offsetKey},J);V.push(X)}else V.push(Y.block),G++}return l.createElement("div",{"data-contents":"true"},V)},r}(l.Component);e.exports=f},Y8Sn:function(e,t,n){n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var r=n("BcL7");const i=e=>!!e&&!!e.video_list,o=({story_pin_data_id:e})=>!!e,a=e=>e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products.length>0,s=e=>!!e.promoter&&!e.is_downstream_promotion,c=e=>!!e.video_status&&5!==e.video_status,l=e=>!!e.creator_class,d=()=>["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("unification_web_pin_click")),u=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,i={...n,...r};return!!i[e]&&!i[e].paused},h=e=>["user","email","messages","deep_linking","user_tries","notifications","explore_article"].includes(e),p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,i={...n,...r};for(const o in i){const{paused:t}=i[o];if(o!==e&&!t)return!1}return!0},f=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:r}=t,i={...n,...r};return i[e]&&i[e].currentTime},b=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},YBdB:function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,r,i,o,a,s=1,c={},l=!1,d=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){Object({env:Object({NODE_ENV:"production"})}).nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[s]=i,n(s),s++},u.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"))},YDMw:function(e,t,n){var r=n("hyAj");e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},YGxj:function(e,t,n){n.d(t,"a",(function(){return h}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("c4Fo"),s=n("B2N+"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.a.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return Object(r.jsx)(c.r,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(r.jsxs)(c.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(r.jsx)(c.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(r.jsx)(c.U,{color:"darkGray",weight:"bold",children:t})}),Object(r.jsx)(c.e,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>Object(r.jsx)(c.e,{height:60,width:50,paddingX:1,children:Object(r.jsx)(c.B,{rounding:2,height:60,children:Object(r.jsx)(c.w,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{paused:!1}),u(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:i,flyoutSize:l,fontSize:u,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:f,onClickComplete:b,onClickDismiss:g,placementId:m,positionRelativeToAnchor:v,shouldTimeoutDismiss:y,showCaret:j,textAlign:_,textOverflow:O,textOverrideFn:x,textWeight:w,customizedComplete:S}=this.props,C=t||(({children:e})=>p?Object(r.jsx)(c.y,{children:e}):e),I="blue";return Object(r.jsx)(a.a,{experienceIds:n,placementId:m,type:8,children:({complete:t,dismiss:n,display_data:a})=>(this.setDefaultPulsarTooltip(a),a.has_pulsar||a.has_tooltip?(y&&a.disappearTime&&a.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),a.disappearTime)),Object(r.jsxs)(o.a.Fragment,{children:[a.has_pulsar&&Object(r.jsx)(s.a,{anchor:e,onTouch:()=>this.handlePulsarClick(a.has_tooltip,t),paused:this.state.paused}),a.has_tooltip&&(!a.has_pulsar||this.state.paused)&&(a.thumbnail_urls?Object(r.jsx)(d,{anchor:e,dismiss:n,idealDirection:h||"down",text:a.text,thumbnails:a.thumbnail_urls}):Object(r.jsx)(C,{children:Object(r.jsx)(c.r,{anchor:e,color:I,idealDirection:h||"down",onDismiss:f?()=>{}:n,positionRelativeToAnchor:!p&&v,shouldFocus:!1,showCaret:j,size:l,children:Object(r.jsxs)(c.e,{column:12,padding:3,children:[Object(r.jsx)(c.U,{align:_,color:"white",overflow:O,size:u,weight:w||"bold",children:this.getText(a,i,x)}),a.sub_text&&Object(r.jsx)(c.e,{paddingY:2,children:Object(r.jsx)(c.U,{color:"white",size:u,children:a.sub_text})}),(a.dismiss_button_text||a.complete_button_text)&&Object(r.jsxs)(c.e,{display:"flex",alignItems:"center",marginTop:2,children:[a.dismiss_button_text&&Object(r.jsx)(c.e,{marginEnd:1,column:6,children:Object(r.jsx)(c.f,{color:I,onClick:()=>{g&&g(),n()},size:"md",text:a.dismiss_button_text})}),a.complete_button_text&&Object(r.jsx)(c.e,{column:a.dismiss_button_text?6:12,children:S?Object(r.jsx)(c.T,{fullHeight:!0,onTap:()=>{t(),b&&b()},rounding:2,children:Object(r.jsx)(c.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(r.jsx)(c.U,{color:"blue",weight:"bold",children:a.complete_button_text})})}):Object(r.jsx)(c.f,{color:"white",size:"md",text:a.complete_button_text,onClick:()=>{t(),b&&b()}})})]})]})})}))]})):(t(),null))})}}u(h,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YUem:function(e,t,n){var r=n("SF5q"),i=n("3sOJ"),o=n("DEWG"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},"Ye/N":function(e,t,n){Error;const r={_:e=>e,set(e){Object.assign(this,e)}};t.a=r},YeVe:function(e,t,n){var r=n("zVay").OrderedMap,i={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=i},Yo6N:function(e,t,n){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("nKUr"),i=n("q1tI"),o=n("qD10"),a=n("n6mq");function s({action:e,alignCenter:t}){const{title:n,description:i,button:s}=e,c=n&&n.text,l=i&&i.text,d=s&&s.text||"",u=s&&s.link||"",h=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"";return s&&d&&u.startsWith("http")?Object(r.jsxs)(a.e,{children:[Object(r.jsx)(a.e,{marginBottom:1,children:Object(r.jsx)(a.U,{align:t?"center":"left",weight:"bold",children:""!==d?d:"Visit"})}),Object(r.jsx)(a.e,{marginBottom:1,children:Object(r.jsx)(o.a,{className:"underlineLink",to:u,children:Object(r.jsx)("span",{style:{textDecoration:"underline"},children:Object(r.jsx)(a.U,{align:t?"center":"left",truncate:!0,children:h})})})})]}):Object(r.jsxs)(a.e,{children:[!!c&&Object(r.jsx)(a.e,{marginBottom:1,children:Object(r.jsx)(a.U,{align:t?"center":"left",weight:"bold",children:c})}),!!l&&Object(r.jsx)(a.e,{marginBottom:1,children:Object(r.jsx)(a.U,{align:t?"center":"left",children:l})})]})}const c={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},l={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:i,actions:o=[]}=t,d=i&&i.text||"",u=i&&i.text_tags||[],h=1===o.length,f=p(d,u);return Object(r.jsxs)(a.e,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?l:c},children:[!!n&&!e&&Object(r.jsx)(a.e,{marginBottom:2,display:"flex",children:Object(r.jsx)(a.t,{size:"md",children:n})}),!!d&&Object(r.jsx)(a.e,{marginBottom:4,children:Object(r.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:Object(r.jsx)(a.U,{overflow:"normal",align:e?"center":"left",children:f})})}),!!o.length&&Object(r.jsx)(a.e,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:o.map(t=>Object(r.jsx)(a.e,{column:e||h?12:6,paddingY:1,paddingX:2,children:Object(r.jsx)(s,{action:t,alignCenter:e||h})},JSON.stringify(t)))})]})}var u=n("EC51");function h({notice:e}){const{actions:t=[],description:n,footer:i}=e,o=p(n&&n.text||"",n&&n.text_tags||[]),s={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return Object(r.jsxs)(a.e,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[Object(r.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:Object(r.jsxs)(a.e,{height:"100%",width:"100%",padding:10,children:[Object(r.jsx)("span",{style:s,children:o}),Object(r.jsx)(a.e,{marginTop:6,children:t.map(e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,o,c;return n&&n.startsWith("tel")?Object(r.jsxs)(a.e,{children:[Object(r.jsx)("span",{style:{fontWeight:"600",...s},children:null===(i=e.title)||void 0===i?void 0:i.text}),Object(r.jsx)("span",{style:s,children:null===(o=e.description)||void 0===o?void 0:o.text})]}):Object(r.jsx)(u.a,{href:n||"",children:Object(r.jsx)(a.e,{display:"inlineBlock",children:Object(r.jsx)(a.e,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",width:117,children:Object(r.jsx)(a.U,{color:"white",weight:"bold",children:(null===(c=e.button)||void 0===c?void 0:c.text)||""})})})})})})]})}),!!i&&Object(r.jsx)(a.e,{paddingY:2,width:540,children:Object(r.jsx)(u.a,{inline:!0,target:"blank",href:i.link,children:Object(r.jsx)(a.U,{align:"center",color:"gray",size:"sm",children:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}function p(e,t){const n=[];let i=0;for(let o=0;o<t.length;o+=1){const s=t[o];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),o=Object(r.jsx)(a.U,{inline:!0,weight:"bold",children:Object(r.jsx)(u.a,{inline:!0,target:"blank",href:s.link,children:t},t)});n.push(Object(r.jsx)("span",{children:e.substring(i,s.offset)})),n.push(o),i=s.offset+s.length}}return i>0&&n.push(Object(r.jsx)("span",{children:e.substring(i)})),0===n.length?[Object(r.jsx)("span",{children:e})]:n}function f({inModal:e,notices:t}){return Object(r.jsx)(i.Fragment,{children:t.map(t=>2===t.style?Object(r.jsx)(h,{notice:t}):Object(r.jsx)(d,{notice:t,inModal:e}))})}},YrFj:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("C8qk"),a=n("Iq8E"),s=n("q1tI"),c=n("qysv"),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return i!==o||a!==s||c!==l||n.mustForceSelection()},l.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,l=e.customStyleMap,d=e.customStyleFn,u=e.editorState,h=e.editorKey,p=e.textDirectionality,f=u.getCurrentContent(),b=u.getSelection(),g=u.mustForceSelection(),m=u.getDecorator(),v=c(u.getDirectionMap()),y=[],j=f.getBlocksAsArray()[0];j;){var _=j.getKey(),O={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:f,customStyleFn:d,customStyleMap:l,decorator:m,editorKey:h,editorState:u,forceSelection:g,selection:b,block:j,direction:p||v.get(_),tree:u.getBlockTree(_)},x=(t.get(j.getType())||t.get("unstyled")).wrapper;y.push({block:s.createElement(o,i({key:_},O)),wrapperTemplate:x,key:_,offsetKey:a.encode(_,0,0)});var w=j.getNextSiblingKey();j=w?f.getBlockForKey(w):null}for(var S=[],C=0;C<y.length;){var I=y[C];if(I.wrapperTemplate){var E=[];do{E.push(y[C].block),C++}while(C<y.length&&y[C].wrapperTemplate===I.wrapperTemplate);var k=s.cloneElement(I.wrapperTemplate,{key:I.key+"-wrap","data-offset-key":I.offsetKey},E);S.push(k)}else S.push(I.block),C++}return s.createElement("div",{"data-contents":"true"},S)},r}(s.Component);e.exports=l},Yrnb:function(e,t,n){e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some((function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(o=!0,!0)}))})),o}},YuQ1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("LTlA");t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||r.intersection(n,e).length>0)}},"Z6/o":function(e,t,n){var r=n("N8u9");e.exports=r},ZCgT:function(e,t,n){var r=n("tLB3"),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZbwW:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("EDqd");function i(e){const t=(((e||{}).rich_metadata||{}).products||[])[0]||{};return t&&t.additional_images&&t.additional_images.length>0?Object(r.a)(e.images,t,e.carousel_data&&e.carousel_data.index):e&&e.carousel_data}},ZdPf:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const r={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},i={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function a(e){return!!e&&e.severity===i.ABUSIVE}},"Zf/v":function(e,t,n){e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}},Zgb7:function(e,t,n){var r=n("ISee");e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),i=n.anchorNode,o=n.anchorOffset,a=n.focusNode,s=n.focusOffset;return 0===n.rangeCount||null==i||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,i,o,a,s)}},a0OY:function(e,t,n){n.d(t,"a",(function(){return Ae}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("FDmi"),c=n("yaUg"),l=n("qD10"),d=n("n6mq");function u(e){const{faces:t,maxFaces:n,numFaces:i,onOverflowClick:o,shouldNavigate:a=!0}=e,c=[...t].reverse(),u=t.length>n?c.slice(0,n+1):c,h=i-n;return Object(r.jsx)(d.e,{position:"relative",display:"flex",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},alignItems:"center",children:u.map((e,t)=>{const{name:n,src:i,href:c,isDim:u}=e;if(0===t&&h>0)return Object(r.jsx)(d.e,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},width:44,height:44,marginStart:-2,rounding:"circle",overflow:"hidden",children:Object(r.jsx)(d.w,{src:i||"",alt:n,naturalWidth:44,naturalHeight:44,fit:"contain",children:Object(r.jsx)(d.T,{fullHeight:!0,fullWidth:!0,onTap:o,rounding:"circle",children:Object(r.jsx)(d.e,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"circle",width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},children:Object(r.jsx)(d.U,{color:"white",size:"md",weight:"bold",children:(p=h,p>99?"99+":p)})})})})},t);{const e={__style:{opacity:u?.5:1}},o=Object(r.jsx)(d.e,{marginStart:-2,dangerouslySetInlineStyle:e,children:Object(r.jsx)(s.a,{name:n,size:"sm",src:i,outline:!0})},t);return a?Object(r.jsx)(l.a,{to:c,children:o},t):o}var p})})}var h=n("Ye/N"),p=n("EC51"),f=n("vvax"),b=n("QAzJ");function g({invitedByUser:e,isAccepted:t,onDecline:n,onAccept:i,createdAt:o}){const l=Object(a.useSelector)(e=>e.viewer),g=e||{},{first_name:m,full_name:v,username:y,image_medium_url:j}=g,_=m||v||h.a._("others","Default text when board colalborator name is not known.","Default text when board colalborator name is not known."),{anyEnabled:O}=Object(b.c)("web_lego_invite_card_board");return Object(r.jsx)(d.n,{children:t?Object(r.jsxs)(d.e,{width:"100%",paddingX:5,paddingY:3,rounding:2,marginStart:-1,marginEnd:-1,display:"flex",direction:"row",alignItems:"center",borderStyle:"sm",children:[Object(r.jsx)(u,{maxFaces:2,numFaces:2,faces:[{href:l.isAuth?"/"+l.username:"",name:l.isAuth?l.fullName:"",src:l.isAuth?l.imageMediumUrl:""},{href:"/"+y,name:v,src:j}]}),Object(r.jsxs)(d.e,{marginStart:2,children:[Object(r.jsx)(d.U,{weight:"bold",children:h.a._("You're in!","Text showing that a user has accepted the board invite and is now a part of the board","Text showing that a user has accepted the board invite and is now a part of the board")}),Object(r.jsx)(d.U,{children:Object(c.a)(h.a._("Start collaborating with {{ invitedByUserName }} on this board"),{invitedByUserName:_})})]})]}):Object(r.jsx)(d.e,{width:O?540:"100%",color:O?"white":"blue",paddingX:O?6:5,paddingY:O?6:3,rounding:O?6:2,marginStart:-1,marginEnd:-1,borderStyle:O?"shadow":"none",children:Object(r.jsxs)(d.e,{display:"flex",alignItems:"center",direction:"row",children:[Object(r.jsx)(d.e,{marginEnd:2,children:Object(r.jsx)(s.a,{name:v,src:j,size:O?"md":"sm",outline:!O})}),Object(r.jsx)(d.e,{flex:"grow",children:Object(r.jsx)(d.U,{inline:!0,color:O?"darkGray":"white",children:O?Object(f.b)(h.a._("{{ user }} invited you to collaborate on this board {{ createdAt }}","web.boardView.inviteCard.text","Label used to indicate a Pinner has invited you to join a board"),{user:Object(r.jsx)(d.U,{color:"darkGray",inline:!0,weight:"bold",children:Object(r.jsx)(p.a,{inline:!0,href:"/"+y,children:v})},y),createdAt:Object(r.jsx)(d.U,{color:"gray",inline:!0,children:o})}):Object(f.b)(h.a._("{{ user }} has invited you to collaborate on this board!"),{user:Object(r.jsx)(d.U,{color:"white",inline:!0,weight:"bold",children:Object(r.jsx)(p.a,{inline:!0,href:"/"+y,children:v})},y)})})}),Object(r.jsxs)(d.e,{display:"flex",alignItems:"center",paddingX:1,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:[Object(r.jsx)(d.e,{marginEnd:2,display:"inlineBlock",children:Object(r.jsx)(d.f,{onClick:n,text:h.a._("Decline","decline board collaborator invite or request","decline board collaborator invite or request"),color:O?"gray":"transparent",size:O?"lg":"md",inline:!0})}),Object(r.jsx)(d.f,{onClick:i,text:h.a._("Accept","Text to accept a board collaboration invite","Text to accept a board collaboration invite"),size:O?"lg":"md",color:O?"red":"white",inline:!0})]})]})})})}var m=n("4dcN"),v=n("pWkb"),y=n("eOdZ"),j=n("w70y"),_=n("v/Q4"),O=n("Wrea"),x=n("Wer7");var w=({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:n,userInviterId:o})=>{const[s,c]=Object(i.useState)(!1),[l,u]=Object(i.useState)(null),h=Object(_.a)(),p=Object(a.useDispatch)(),f={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:h.isAuth&&h.id};Object(i.useEffect)(()=>{o&&n&&(y.a.create("BoardInviteResource",f).callUpdate().then(()=>{p(Object(O.c)(e)),p(Object(x.f)("BoardInviteResource",f))}),y.a.create("UserResource",{field_set_key:"grid_item",user_id:o}).callGet().then(({resource_response:e})=>{const t=e&&e.data;t&&u(t)}))},[n,o]);const{data:w}=Object(j.a)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}}),{data:S}=Object(j.a)({name:"BoardInviteResource",options:f}),{customActivate:C}=Object(b.b)("web_lego_invite_card_board"),I=!(!o||!n)||s,E=!["new","contact_request_not_approved"].includes(null==S?void 0:S.status),k=[...w||[]].pop(),D=t=>{const n=t?"collaborator_invite_accept":"collaborator_decline_invite";m.a.trackEvent(n,"click");const r=y.a.create("BoardInviteResource",f);(t?r.callUpdate():r.callDelete()).then(()=>{t&&(p(Object(O.c)(e)),c(!0)),p(Object(x.f)("BoardInviteResource",f))})},T=(null==S?void 0:S.invited_by_user)||l;return!T||E&&!I?null:(C(),Object(r.jsx)(d.e,{marginTop:3,paddingY:0,children:Object(r.jsx)(g,{invitedByUser:T,isAccepted:I,onAccept:()=>D(!0),onDecline:()=>D(!1),createdAt:Object(v.a)(k&&k.created_at,{isAbbreviated:!0})})}))},S=n("Yo6N"),C=n("RNo4"),I=n("EC67"),E=n("ZdPf");function k({boardId:e}){const t=Object(I.h)(),n=t&&t.search?Object(C.k)(t.search):{},i=n.invite_code,o=n.accept_invite,a=n.inviter_user_id;return Object(r.jsx)(w,{boardId:e,inviteCode:i,shouldAutoAcceptBoardInvite:o,userInviterId:a})}var D=function(e){const{board:t}=e,{id:n,sensitivity:o}=t,a=Object(E.d)(o);return Object(r.jsxs)(i.Fragment,{children:[!a&&Object(r.jsx)(k,{boardId:n}),a&&Object(E.c)(o)&&Object(r.jsx)(d.e,{paddingY:10,children:Object(r.jsx)(S.a,{notices:o.notices})})]})},T=n("+wrf"),M=n("ViqK"),P=n("3j7w");function B({board:e,scrollInfo:t}){const n=Object(j.a)({name:"BoardCollaboratorsResource",options:{board_id:e.id},allowStale:!1});if(n.isLoaded){const{owner:i}=e,{data:a,isAtEnd:s,isFetching:c,fetchMore:l}=n,d=[i,...a||[]];return Object(r.jsxs)(o.a.Fragment,{children:[t?Object(r.jsx)(P.a,{scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top,isAtEnd:s,isFetching:c,fetchMore:l}):null,d.map(e=>{const{full_name:t,id:n,image_medium_url:i,username:o}=e;return Object(r.jsx)(M.a,{imageUrl:i,linkURL:`/${o}/`,name:t,subtitle:o,title:t},n)})]})}return Object(r.jsx)(d.O,{accessibilityLabel:h.a._("Loading","Loading spinner when rendering users","Loading spinner when rendering users"),show:!0})}var A=({heading:e,description:t,disabled:n=!1,id:i,onChange:o,switched:a})=>Object(r.jsxs)(d.e,{display:"flex",direction:"column",width:"100%",paddingX:6,paddingY:4,children:[Object(r.jsx)(d.U,{weight:"bold",children:e}),Object(r.jsxs)(d.e,{display:"flex",direction:"row",alignItems:"center",marginTop:3,children:[Object(r.jsx)(d.e,{flex:"grow",marginEnd:2,children:Object(r.jsx)(d.U,{children:t})}),Object(r.jsx)(d.Q,{id:i,onChange:o,disabled:n,switched:a})]})]}),R=n("JW66"),L=n("TgLd"),N=n("oN2T");function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends o.a.Component{constructor(...e){super(...e),z(this,"state",{invitesEnabled:Boolean(this.props.board.collaborator_invites_enabled),requestsEnabled:Boolean(this.props.board.collaborator_requests_enabled),emailEnabled:Boolean(this.props.board.collab_board_email)}),z(this,"handleInvitesToggle",()=>this.setState(e=>({invitesEnabled:!e.invitesEnabled}))),z(this,"handleRequestsToggle",()=>this.setState(e=>({requestsEnabled:!e.requestsEnabled}))),z(this,"handleEmailToggle",()=>this.setState(e=>({emailEnabled:!e.emailEnabled}))),z(this,"handleSubmit",()=>{const{onDismiss:e,board:t,updateBoard:n}=this.props,{invitesEnabled:r,requestsEnabled:i,emailEnabled:o}=this.state;n({...t,event_start_date:null,event_date:null,collaborator_invites_enabled:r,collaborator_requests_enabled:i,collab_board_email:o}).then(()=>e())})}render(){const{board:{privacy:e},onDismiss:t,isViewerOwner:n}=this.props,{invitesEnabled:i,requestsEnabled:o,emailEnabled:a}=this.state,s=[{heading:h.a._("Email notifications","Sub-heading for email notifications group board setting","Sub-heading for email notifications group board setting"),description:h.a._("Receive emails when Pins are added to this board","Description of email notifications setting","Description of email notifications setting"),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:a}],c=[...s,{heading:h.a._("Group requests","Sub-heading for group requests group board setting","Sub-heading for group requests group board setting"),description:h.a._("People can request to join this board","Description of group requests setting","Description of group requests setting"),disabled:e===R.a.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:o},{heading:h.a._("Group members","Sub-heading for group members group board setting","Sub-heading for group members group board setting"),description:h.a._("Group members can invite others","Description of group members setting","Description of group members setting"),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:i}],l=n?c:s;return Object(r.jsx)(L.b,{accessibilityModalLabel:h.a._("Edit group settings","Label for editing group settings","Label for editing group settings"),heading:h.a._("Group board settings","Modal header for editing settings for a group board","Modal header for editing settings for a group board"),footer:Object(r.jsx)(d.e,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:Object(r.jsx)(d.e,{paddingX:1,children:Object(r.jsx)(d.f,{inline:!0,color:"red",onClick:this.handleSubmit,text:h.a._("Done","Button text for being finished with editing group board settings","Button text for being finished with editing group board settings")})})}),onDismiss:t,size:"md",children:l.map(e=>{const{description:t,disabled:n,heading:i,id:o,onChange:a,switched:s}=e;return Object(r.jsx)(A,{description:t,disabled:n,heading:i,id:o,onChange:a,switched:s},o)})})}}var U=Object(a.connect)((e,t)=>({board:e.boards&&e.boards.content[t.boardId]}),e=>({updateBoard:t=>e(Object(N.m)(t))}))(F),q=n("EwHv");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends i.Component{constructor(...e){super(...e),K(this,"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),K(this,"handleBoardLeave",()=>{const{history:e,viewer:t}=this.props,n=t.isAuth?"/"+t.username:"/";e.replace(n)}),K(this,"handleContentRef",e=>{const{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),K(this,"handleScrollContainer",e=>{const{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),K(this,"handleScroll",()=>{const{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})}),K(this,"handleConfirmationModalOpen",()=>this.setState({currentModal:"confirmation"})),K(this,"handleSettingsModalOpen",()=>this.setState({currentModal:"settings"})),K(this,"handleCloseModal",()=>this.setState({currentModal:null})),K(this,"renderCurrentModal",()=>{const{board:{id:e,owner:t},viewer:n}=this.props,{currentModal:i}=this.state,o=n.isAuth&&n.username===t.username;switch(i){case"settings":return Object(r.jsx)(U,{boardId:e,isViewerOwner:o,onDismiss:this.handleCloseModal});default:return null}})}renderInvite(e,t,n){const i={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return Object(r.jsx)(T.a,{...i})}render(){const{anchor:e,board:t,onDismiss:n}=this.props,{currentModal:o,scrollContainer:a,scrollTop:s}=this.state,c=a?{container:a,top:s||0}:null,l=(t.access||[]).includes("write");return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(d.y,{children:Object(r.jsx)(d.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0,children:Object(r.jsx)(d.r,{anchor:e,onDismiss:o?()=>{}:n,idealDirection:"down",size:"xl",positionRelativeToAnchor:!1,children:Object(r.jsxs)(d.e,{width:"100%",maxHeight:500,minWidth:360,display:"flex",direction:"column",children:[Object(r.jsx)(d.P,{top:0,children:Object(r.jsxs)(d.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4,children:[Object(r.jsx)("div",{ref:this.handleContentRef,tabIndex:"0",children:Object(r.jsx)(d.U,{size:"lg",weight:"bold",children:h.a._("Group members","boardCollabFlyout.header","Heading for the group members flyout")})}),l&&Object(r.jsx)(d.e,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2,children:Object(r.jsx)(d.v,{accessibilityLabel:h.a._("Group board settings","boardCollabFlyout.settings.button","Icon for accessing settings on a group board"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.handleSettingsModalOpen})})]})}),Object(r.jsx)(d.e,{overflow:"scrollY",children:Object(r.jsx)("div",{onScroll:this.handleScroll,ref:this.handleScrollContainer,children:l?Object(r.jsx)(q.a,{board:t,scrollInfo:c,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,onModalOpen:this.handleConfirmationModalOpen}):Object(r.jsx)(B,{board:t,scrollInfo:c})})})]})})})}),this.renderCurrentModal()]})}}function W(e){const t=Object(_.a)(),n=Object(I.g)();return Object(r.jsx)(H,{...e,history:n,viewer:t})}var V=n("/5qN"),G=n("rxSY"),Y=n("ANjH"),J=n("pLLR");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends i.Component{constructor(e){super(e),X(this,"handleInviteAction",()=>{this.props.handleShowCollabAndPermissionsModal()}),X(this,"toggleFlyout",()=>this.setState(e=>({isFlyoutOpen:!e.isFlyoutOpen}))),X(this,"toggleSettingsModal",()=>this.setState(e=>({isSettingsModalOpen:!e.isSettingsModalOpen})));const{pathname:t=""}=e.location;/\/.*\/.*\/invite\/?$/.test(t)&&this.handleInviteAction(),this.state={isFlyoutOpen:!1,isSettingsModalOpen:!1}}render(){const{anchor:e,board:{id:t},children:n,isViewerOwner:o}=this.props,{isFlyoutOpen:a,isSettingsModalOpen:s}=this.state;return Object(r.jsxs)(i.Fragment,{children:[n?n(this.handleInviteAction):Object(r.jsx)(d.f,{inline:!0,onClick:this.handleInviteAction,text:h.a._("Invite","Invite collaborators button","Invite collaborators button")}),a?Object(r.jsx)(d.y,{children:Object(r.jsx)(d.e,{dangerouslySetInlineStyle:{__style:{zIndex:1}},position:"absolute",top:!0,children:Object(r.jsx)(d.r,{anchor:e,idealDirection:"down",onDismiss:this.toggleFlyout,positionRelativeToAnchor:!1,size:"xl",children:Object(r.jsxs)(d.e,{width:"100%",minWidth:360,children:[Object(r.jsxs)(d.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:64,paddingX:4,paddingY:4,children:[Object(r.jsx)(d.e,{children:Object(r.jsx)(d.U,{size:"lg",weight:"bold",children:h.a._("Invite collaborators","boardInviteSheet.header.label","Invite collaborators heading")})}),Object(r.jsx)(d.e,{right:!0,top:!0,position:"absolute",marginTop:2,marginEnd:2,children:Object(r.jsx)(d.v,{accessibilityLabel:h.a._("Settings","Group board invite settings","Group board invite settings"),icon:"cog",size:"lg",iconColor:"darkGray",onClick:this.toggleSettingsModal})})]}),Object(r.jsx)(d.e,{width:"100%",children:Object(r.jsx)(V.a,{boardId:t})}),Object(r.jsx)(d.e,{children:Object(r.jsx)(G.a,{boardId:t})})]})})})}):null,s?Object(r.jsx)(U,{boardId:t,onDismiss:this.toggleSettingsModal,isViewerOwner:o}):null]})}}var Z=Object(Y.compose)(Object(a.connect)((e,t)=>({isViewerOwner:e.viewer.isAuth&&e.viewer.username===t.board.owner.username}),()=>({})),J.e,I.k)(Q),$=n("TPPM"),ee=n("8A+h"),te=n("YGxj"),ne=n("0ZL5"),re=n("8Mj5"),ie=n("zpFB");function oe({board:e,collaborators:t,handleShowCollabAndPermissionsModal:n,overflowNumber:o}){const[a,s]=Object(i.useState)(!1),c=Object(_.a)(),l=Object(i.useRef)(),u=Object(i.useRef)(),h=t.length>1,p=Object(ee.a)(c,e),f=p||e.collaborator_invites_enabled&&e.collaborated_by_me,b=p||e.collaborated_by_me;let g=h?()=>s(!a):()=>{var e;return Object($.a)(null!==(e=t[0].href)&&void 0!==e?e:"/")};b&&(g=n);const m=[501003];return p&&e.is_collaborative&&m.push(502335),Object(r.jsxs)(i.Fragment,{children:[Object(r.jsxs)(d.e,{alignItems:"center",display:"flex",children:[Object(r.jsx)(Z,{anchor:u.current,board:e,handleShowCollabAndPermissionsModal:n,children:e=>Object(r.jsx)(ne.a,{anchors:{3002:u.current},onCompleteByAnchor:{3002:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()}},placementId:18,positionRelativeToAnchor:!1,children:Object(r.jsx)(re.a,{addButtonRef:u,additionalCount:o,faces:t,faceSize:"lg",onAddClick:e,oneClickTargetFacepile:b,onClick:g,overlap:ie.a,pileRef:l,showAddButton:f})})}),Object(r.jsx)(te.a,{anchor:u.current,experienceIds:m,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,customWrapper:({children:e})=>Object(r.jsx)(d.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:2}},children:e})})]}),a&&Object(r.jsx)(W,{anchor:l.current,board:e,onDismiss:()=>{s(!1),l.current&&l.current.focus()}})]})}var ae=n("px3X");function se(e){const{color:t,size:n}=e;return Object(r.jsx)(d.u,{accessibilityLabel:h.a._("secret board","accessible label for secret board icon","accessible label for secret board icon"),color:t,icon:"lock",size:n})}function ce({color:e,paddingX:t}){return Object(r.jsx)(d.e,{display:"inlineBlock",paddingX:t,children:Object(r.jsx)(d.U,{color:e,size:"md",weight:"bold",inline:!0,children:"·"})})}function le({archived:e,secret:t}){return Object(r.jsxs)(d.e,{alignItems:"center",display:"flex",children:[t&&Object(r.jsx)(se,{color:"gray",size:16}),t&&Object(r.jsx)(d.e,{inline:!0,paddingX:1,children:Object(r.jsx)(d.U,{color:"gray",inline:!0,size:"lg",children:h.a._("Secret board","LegoBoardPageHeader.BoardStatus.secret","Label for a secret board")})}),t&&e&&Object(r.jsx)(ce,{color:"gray",paddingX:1}),e&&Object(r.jsx)(d.e,{inline:!0,paddingX:1,children:Object(r.jsx)(d.U,{color:"gray",inline:!0,size:"lg",children:h.a._("Archived board","LegoBoardPageHeader.BoardStatus.archived","Label for a secret board")})})]})}var de=n("d7JY"),ue=n("88U9"),he=n("qyXF");function pe({board:e,collaborators:t,overflowNumber:n}){const o=Object(i.useRef)(),[a,s]=Object(i.useState)(!1),c=t.map(e=>e.isDim?null:Object(r.jsx)(l.a,{to:e.href,children:Object(r.jsx)(d.U,{inline:!0,weight:"bold",children:e.name})},e.name)).filter(Boolean);return n&&c.push(Object(r.jsx)(d.e,{display:"inlineBlock",ref:o,children:Object(r.jsx)(d.T,{onTap:()=>s(!0),children:Object(r.jsx)(d.U,{inline:!0,weight:"bold",children:Object(f.b)(h.a.ngettext("{{ overflowNumber }} other","{{ overflowNumber }} others",n,"LegoBoardPageHeader.CollaboratorNames.others","number of additional collaborators not listed"),{overflowNumber:n})})})},"overflowText")),Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(d.U,{inline:!0,truncate:!0,children:Object(he.a)(c)}),a&&Object(r.jsx)(W,{anchor:o.current,board:e,onDismiss:()=>s(!1)})]})}var fe=n("Oz7m");var be=Object(J.e)((function({startDate:e,endDate:t,requestContext:n}){const r=t&&new Date(t);let i=r&&r.toLocaleDateString(n.locale,{day:"numeric",month:"short",year:"numeric"});if(i&&e){i=new Date(e).toLocaleDateString(n.locale,{day:"numeric",month:"short",year:"numeric"})+" - "+i}return i||""})),ge=n("qUzp");function me(e){return e?h.a._("Join","BoardPage.BoardJoinButton.join","[Button] Request to join a group board as a collaborator"):h.a._("Request to join","[Button] Request to join a group board as a collaborator","[Button] Request to join a group board as a collaborator")}function ve(e){return e?h.a._("Cancel","BoardPage.BoardJoinButton.cancel","[Button] Cancel request to join a group board as a collaborator"):h.a._("Cancel request","[Button] Cancel request to join a group board as a collaborator","[Button] Cancel request to join a group board as a collaborator")}function ye(e){const{onClick:t,requested:n,size:i,useAlternateText:o}=e;return Object(r.jsx)(d.f,{onClick:t,size:i||"md",text:(n?ve:me)(o)})}var je=n("M1Uz");function _e(e){const{boardImage:t,boardName:n,boardUrl:i,onHide:o}=e,a=Object(r.jsx)(d.U,{children:Object(f.b)(h.a._("You've cancelled the request to collaborate on {{ boardName }}","Board.JoinButton.CancelToast","Toast text stating that a user has cancelled a request to join a board"),{boardName:Object(r.jsx)(d.U,{inline:!0,weight:"bold",children:n})})});return Object(r.jsx)(je.a,{duration:3e3,href:i,imageUrl:t,onHide:o,text:a})}function Oe(e){const{boardImage:t,boardName:n,boardUrl:i,onHide:o}=e,a=Object(r.jsx)(d.U,{children:Object(f.b)(h.a._("You've requested to join {{ boardName }}","Board.JoinButton.RequestToast","Toast text stating that a user has requested to join a board"),{boardName:Object(r.jsx)(d.U,{inline:!0,weight:"bold",children:n})})});return Object(r.jsx)(je.a,{href:i,imageUrl:t,onHide:o,text:a})}var xe=n("U4JR");var we=n("nGHF"),Se=n("dMCU");function Ce(e,t){return y.a.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function Ie(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}var Ee=Object(Se.a)((function(e){const{authAction:t,boardId:n,boardImage:i,boardName:o,boardUrl:s,isBoardLandingPage:c,isRequestedByMe:l,showPulsar:u,size:h,variant:p}=e,f=Object(a.useDispatch)(),b=Object(_.a)(),g=Object(we.b)(),v=b.isAuth&&b.id||"";function y(){f(function(e,t){const n="cancel-group-board-request-to-join";return r=>{Ce(e,t).callDelete({showError:!1}).then(()=>{m.a.trackEvent(n,"success")}).catch(()=>{m.a.trackEvent(n,"error"),r(Ie(e,!0))}),r(Ie(e,!1))}}(n,v)),g.showOneToast(({onHide:e})=>Object(r.jsx)(_e,{boardImage:i,boardName:o,boardUrl:s,onHide:e}))}function j(){f(function(e,t){const n="group-board-request-to-join";return r=>{Ce(e,t).callCreate().then(()=>{m.a.trackEvent(n,"success")}).catch(()=>{m.a.trackEvent(n,"error"),r(Ie(e,!1))}),r(Ie(e,!0))}}(n,v)),g.showOneToast(({onHide:e})=>Object(r.jsx)(Oe,{boardImage:i,boardName:o,boardUrl:s,onHide:e}))}const O=({event:e})=>{e.preventDefault(),e.stopPropagation();const r=l?"cancel_group_board_request_to_join":"group_board_request_to_join";t(l?y:j)(),function(e){const{action:t,id:n,isBoardLandingPage:r,url:i}=e,o="request"===t?7499:7547,a=r?5:4;Object(xe.b)(101,{component:1,element:o,objectId:n,view:a,current_page_url:i})}({action:l?"request":"cancel",id:n,isBoardLandingPage:!!c,url:s}),m.a.trackEvent(r,"click")};return v?Object(r.jsxs)(d.e,{position:"relative",display:"flex",children:[Object(r.jsx)(ye,{onClick:O,requested:l,useAlternateText:"lego"===p,size:h}),u&&Object(r.jsx)(d.T,{onTap:e=>{O(e)},children:Object(r.jsx)(d.e,{wrap:!1,position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:Object(r.jsx)(d.H,{paused:l})})})]}):null})),ke=n("3oMh"),De=n("bbVO"),Te=n("Sp3T");function Me({board:e,handleCreatePincode:t}){const n=Object(Te.a)();return Object(r.jsx)(ke.a,{board:e,onCreatePincode:t,onOpen:()=>n(()=>Object(De.a)()),children:({onClick:e})=>Object(r.jsx)(d.f,{color:"gray",onClick:e,size:"lg",text:h.a._("Share","BoardHeader.SendBoardButton","Text on button to share board")})})}var Pe=n("0NP8"),Be=n("+4a+");function Ae(e){const{board:t,collaborators:n,handleCreatePincode:i,handleShowCollabAndPermissionsModal:o,handleShowDateModal:a,hideFollowers:s,isToolsBoard:c,onFollowersClick:l,overFlowActionsButton:u,showPulsar:h,userBlocked:p}=e,{access:f,archived_by_me_at:g,collaborator_requests_enabled:m,description:v,event_date:y,event_start_date:j,followed_by_me:O,follower_count:x,id:w,image_cover_url:S,name:C,owner:{id:I},privacy:E,url:k,viewer_collaborator_join_requested:T}=t,{limitedCollaborators:M,overflowNumber:P}=Object(ue.a)(n.length,n),{anyEnabled:B}=Object(b.a)("web_hide_board_follow"),{anyEnabled:A}=Object(b.c)("web_lego_invite_card_board"),{anyEnabled:L}=Object(b.c)("web_board_tools"),N=Object(_.a)(),z=f&&f.includes("write"),F=Object(ee.a)(N,t),U=Object(ge.a)({viewer:N,board:t}),q=!!g,K=E===R.a.BoardPrivacy.PROTECTED,H=E===R.a.BoardPrivacy.SECRET,W=!z&&!p,V=W&&!p&&!B,G=W&&m,Y=W&&!!i&&L,J=z&&!!y,X=J&&Object(r.jsx)(d.U,{inline:!0,children:Object(r.jsx)(be,{startDate:j,endDate:y})},"date"),Q=F?Object(r.jsx)(d.e,{display:"inlineBlock",children:Object(r.jsx)(d.T,{fullWidth:!1,onTap:()=>{a(),Object(xe.b)(101,{element:11749,view:5,objectId:t.id})},rounding:"pill",children:X})}):X,Z=!(!x||s||q||H||K),$=J||!U||v,te=Object(r.jsx)(d.e,{display:"flex",justifyContent:"center",children:Object(r.jsx)(d.e,{maxWidth:800,children:Object(r.jsx)(D,{board:t})})});return Object(r.jsxs)(d.e,{direction:"column",display:"flex",justifyContent:"center",marginBottom:c?4:7,paddingX:8,width:"100%",children:[Object(r.jsx)(d.e,{display:"flex",justifyContent:"center",children:Object(r.jsxs)(d.e,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:Be.a,children:[A&&te,Object(r.jsx)(d.e,{display:"flex",alignItems:"center",justifyContent:"center",marginStart:10,marginTop:4,children:Object(r.jsxs)(d.t,{align:"center",children:[C,Object(r.jsx)(d.e,{display:"inlineBlock",paddingX:2,children:u})]})}),Object(r.jsx)(de.a,{children:Object(r.jsx)(d.e,{marginTop:2,children:Object(r.jsx)(oe,{board:t,collaborators:M,handleShowCollabAndPermissionsModal:o,overflowNumber:P})})}),$&&Object(r.jsx)(de.a,{children:Object(r.jsx)(d.e,{marginTop:2,dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:Object(r.jsx)(fe.a,{inline:!0,items:[J?Q:null,U?null:Object(r.jsx)(pe,{board:t,collaborators:M,overflowNumber:P},"collaborators"),v?Object(r.jsx)(d.U,{inline:!0,children:v}):null]})})}),Object(r.jsx)(de.a,{children:Object(r.jsx)(d.e,{marginTop:2,children:(q||H)&&Object(r.jsx)(le,{archived:q,secret:H})})}),Object(r.jsx)(de.a,{children:Z&&Object(r.jsx)(Pe.a,{bold:!0,count:x,onClick:l,shortform:!0,size:"lg"})}),Object(r.jsx)(de.a,{children:(G||V||Y)&&Object(r.jsxs)(d.e,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%",children:[G&&Object(r.jsx)(d.e,{paddingX:1,children:Object(r.jsx)(Ee,{boardId:w,boardImage:S,boardName:C,boardUrl:k,inRequestToJoinTextExperiment:!0,isRequestedByMe:T,showPulsar:h,size:"lg",variant:"lego"})}),V&&Object(r.jsx)(d.e,{paddingX:1,children:Object(r.jsx)(ae.a,{boardId:w,boardImage:S,boardName:C,boardUrl:k,isFollowed:O,ownerId:I,showPulsar:h,size:"lg",variant:"lego"})}),Y&&!!i&&Object(r.jsx)(d.e,{paddingX:1,children:Object(r.jsx)(Me,{board:t,handleCreatePincode:i})})]})})]})}),!A&&te]})}},aAE7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){return t?"static"!==window.getComputedStyle(t).getPropertyValue("position")?t:e(t.parentElement):null};t.default=function(e){var t=e.decoratorRect,n=e.popover,i=e.state,o=e.props,a=r(n.parentElement),s={};if(a){s.scrollLeft=a.scrollLeft,s.scrollTop=a.scrollTop;var c=a.getBoundingClientRect();s.left=t.left-c.left,s.top=t.bottom-c.top}else s.scrollTop=window.pageYOffset||document.documentElement.scrollTop,s.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,s.top=t.bottom,s.left=t.left;var l=s.left+s.scrollLeft,d=s.top+s.scrollTop,u=void 0,h=void 0;return i.isActive&&(o.suggestions.length>0?(u="scale(1)",h="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(u="scale(0)",h="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:l+"px",top:d+"px",transform:u,transformOrigin:"1em 0%",transition:h}}},"aAL+":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default="[\\w-À-ÖØ-öø-ÿĀ-ňŊ-ſА-я぀-ゟ゠-ヿ㄰-㆏가-힣一-黿]*"},aB02:function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},"aK+E":function(e,t,n){n.d(t,"a",(function(){return o}));const r=new Set(["bookmarks","client_tracking_params","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),i=e=>!r.has(e)&&!e.startsWith("__track__"),o=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(i).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},aOj9:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n("1dBE");const o=Object(r.createContext)(null),a=()=>Object(r.useContext)(o),s=o.Provider,{Provider:c,useHook:l}=Object(i.c)("DesktopCoreLogin"),d=()=>{const{loginForMore:e}=l();return()=>{e&&e.setVisible(!0)}}},aS9Y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Jld5");t.createDragDropManager=function(e,t,n){return new r.default(e,t,n)}},aUfZ:function(e,t,n){var r=n("P9b8"),i=n("sZWH"),o=n.n(i);t.a=Object(r.DragDropContext)(o.a)},"b/K5":function(e,t,n){n.d(t,"a",(function(){return v}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("n6mq");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],l=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),d=e=>e*(Math.PI/180);class u extends i.PureComponent{constructor(...e){super(...e),s(this,"animationTimer",null),s(this,"canvasRemovalTimer",null),s(this,"containerRef",o.a.createRef()),s(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,r=document.createElement("canvas");return r.style.position="absolute",r.style.left=0-(n-t)/2+"px",r.style.top=0-(n-e)/2+"px",r.style.pointerEvents="none",r.style.width=n+"px",r.style.height=n+"px",r.style.overflow="visible",r.width=n,r.height=n,r}),s(this,"explode",()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const r=Array.from(Array(120)).map((t,n)=>({x:e.width/2,y:e.height/2,radius:Math.round(l(10,30)),color:c[Math.floor(Math.random()*c.length)],degree:Number(l(0,360).toFixed(1)),speed:Math.round(l(0,25)),friction:.9,opacity:Number(l(0,.5).toFixed(1)),yVel:0,gravity:.04})),i=(e,t,n,r)=>{window.requestAnimationFrame(()=>i(e,t,n,r)),t.clearRect(0,0,n,r),e.forEach((e,n)=>{e.x+=e.speed*Math.cos(d(e.degree)),e.y+=e.speed*Math.sin(d(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i(r,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:r}=e;n&&r!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return Object(r.jsx)(a.e,{ref:this.containerRef,position:"relative",children:this.props.children})}}s(u,"defaultProps",{delay:0});var h=u,p=n("Ye/N"),f=n("vvax");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),m=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class v extends i.PureComponent{constructor(...e){super(...e),b(this,"state",{isInitialized:!1}),b(this,"containerRef",Object(i.createRef)()),b(this,"pinDestinationRef",Object(i.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:r}=this.props;n&&r&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(r,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:o}=this.props,{description:s="",images:c}=t,{height:l=0,width:d=0,url:u=""}=c["236x"]||{},{isInitialized:b}=this.state,{mask:v,imageContainer:y}=((e,t,n,r)=>{var i,o,a;let s,c,l={};const d=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect(),u=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect(),h=null===(a=r.current)||void 0===a?void 0:a.getBoundingClientRect();if(u&&d&&h){l={left:d.left-u.left,top:d.top-u.top};const e={x:h.left-d.left,y:h.top-d.top},t={x:(h.width-d.width)/2,y:(h.height-d.height)/2};s=`translate(${e.x}px, ${e.y}px)`,c=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:l.left,top:l.top,width:e?null==h?void 0:h.width:null==d?void 0:d.width,height:e?null==h?void 0:h.height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==d?void 0:d.width,height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(b,this.containerRef,n,this.pinDestinationRef);return Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(a.e,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[Object(r.jsx)(a.e,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:v},children:Object(r.jsx)(a.e,{dangerouslySetInlineStyle:{__style:y},children:Object(r.jsx)(a.w,{alt:s,src:u||"",naturalHeight:l||1,naturalWidth:d||1})})}),Object(r.jsx)(a.e,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(j=b,{pointerEvents:"none",opacity:j?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:Object(r.jsxs)(a.e,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:g(b)},children:[Object(r.jsx)(h,{delay:1250,startAnimation:b,children:Object(r.jsx)(a.B,{rounding:2,width:270,height:180,children:Object(r.jsxs)(a.e,{display:"flex",height:"100%",width:"100%",children:[Object(r.jsx)(a.e,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),Object(r.jsxs)(a.e,{display:"flex",width:80,direction:"column",children:[Object(r.jsx)(a.e,{color:"lightGray",flex:"grow",marginBottom:1}),Object(r.jsx)(a.e,{color:"lightGray",flex:"grow"})]})]})})}),Object(r.jsx)(a.e,{paddingX:2,dangerouslySetInlineStyle:{__style:m(b)},children:Object(r.jsx)(a.t,{align:"center",children:e?Object(f.b)(p.a._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=o?o:""}):Object(f.b)(p.a._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=o?o:""})})})]})})]})});var j}}b(v,"defaultProps",{firstRepin:!1})},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},bCCX:function(e,t,n){(function(e,r){var i,o=n("SLVX");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n("yLpj"),n("3UD+")(e))},bNdj:function(e,t,n){var r=n("y5P+").substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var i=r(e,0,t.offset).length,o=i+r(e,t.offset,t.length).length,a=i;a<o;a++)n[a]=t.key})),n}},bSwZ:function(e,t,n){var r=n("Ey0E"),i=n("mFyV"),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",a="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",s=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+a+"]"),c=new RegExp("["+o+a+"]");function l(e){var t=s.exec(e);return null==t?null:t[0]}function d(e){var t=l(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function u(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=d(e);return n===r.NEUTRAL?t:n}function h(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),u(e,t)}var p={firstStrongChar:l,firstStrongCharDir:d,resolveBlockDir:u,getDirection:h,isDirectionLTR:function(e,t){return h(e,t)===r.LTR},isDirectionRTL:function(e,t){return h(e,t)===r.RTL}};e.exports=p},bU3v:function(e,t,n){function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var i={get:n("3T4d"),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},bVL4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("TKJ6"),i=n("LTlA"),o=n("QLaP"),a=n("7nh8"),s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var c=n.publishSource,l=void 0===c||c,d=n.clientOffset,u=n.getSourceClientOffset,h=e.getMonitor(),p=e.getRegistry();e.dispatch(r.setClientOffset(d)),function(e,t,n){o(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var r=0,i=e;r<i.length;r++){var a=i[r];o(n.getSource(a),"Expected sourceIds to be registered.")}}(t,h,p);var f=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,h);if(null!==f){var b=null;d&&(!function(e){o("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(u),b=u(f)),e.dispatch(r.setClientOffset(d,b));var g=p.getSource(f).beginDrag(h,f);!function(e){o(i.isObject(e),"Item must be an object.")}(g),p.pinSource(f);var m=p.getSourceType(f);return{type:a.BEGIN_DRAG,payload:{itemType:m,item:g,sourceId:f,clientOffset:d||null,sourceClientOffset:b||null,isSourcePublic:!!l}}}e.dispatch(s)}}},bVT4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}},"bY+3":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("2S0S"),i=!1,o=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;r(!i,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return i=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{i=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=o},bbVO:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("U4JR");function i(){Object(r.b)(101,{element:10778,component:13216,view:5,viewParameter:3069})}},bu5B:function(e,t,n){var r=n("lFJn"),i=n("Taje"),o=n("mFyV");function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,l=s?s.getEntity():void 0,d=c?c.getEntity():void 0;if(d&&d===l&&"MUTABLE"!==e.__get(d).getMutability()){for(var u,h=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&o(!1),r}(a,d,n),p=h.start,f=h.end;p<f;)u=a.get(p),a=a.set(p,r.applyEntity(u,null)),p++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),c=n.get(o),l=a(r,c,s);l!==c&&(i[o]=l);var d=t.getEndKey(),u=t.getEndOffset(),h=n.get(d);o===d&&(h=l);var p=a(r,h,u);return p!==h&&(i[d]=p),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},bxss:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("vZlu"),s=n("n6mq");class c extends i.Component{componentDidMount(){this.props.setFlyoutOpen(!0)}componentWillUnmount(){this.props.setFlyoutOpen(!1)}render(){return Object(r.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{zIndex:1e3}},children:Object(r.jsx)(s.r,{anchor:this.props.anchor,color:this.props.color,idealDirection:this.props.idealDirection,onDismiss:this.props.onDismiss,positionRelativeToAnchor:this.props.positionRelativeToAnchor,showCaret:this.props.showCaret,shouldFocus:this.props.shouldFocus,size:this.props.size,children:this.props.children})})}}t.a=Object(o.connect)(void 0,(e,t)=>({setFlyoutOpen:t=>e(Object(a.b)(!t))}))(c)},c0rk:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("nKUr"),i=n("q1tI"),o=n("L2iP"),a=n("n6mq"),s=n("qYux"),c=n("0Rm8"),l=n("pIlY");function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:h=!1,style:p={},top:f}){const{setIsContentHeaderPresent:b}=Object(s.b)();Object(i.useEffect)(()=>(b(!0),function(){b(!1)}),[]);const{currentScrollPosition:g,isScrolled:m,setSubheaderShadow:v}=Object(l.c)();Object(i.useEffect)(()=>(h&&v("contentHeader"),()=>{h&&v(null)}),[h]);let y=!1;"pending"!==f&&(y=null!=f?g>=f:m);const j=Object(c.b)(),_="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,O=Object(r.jsx)("div",{className:t,ref:n,style:{...p,top:j+d,...y&&h?{...o.f,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?Object(r.jsx)(a.P,{top:_?0:j+d,children:O}):O}},c203:function(e,t,n){var r=n("/y0H"),i=n("fMZg"),o=n("mFyV");function a(e,t,n,a,s,c,l){var d=n.getStartOffset(),u=n.getEndOffset(),h=e.__get(s).getMutability(),p=l?d:u;if("MUTABLE"===h)return n;var f=i(t,s).filter((function(e){return p<=e.end&&p>=e.start}));1!=f.length&&o(!1);var b=f[0];if("IMMUTABLE"===h)return n.merge({anchorOffset:b.start,focusOffset:b.end,isBackward:!1});c||(l?u=b.end:d=b.start);var g=r.getRemovalRange(d,u,t.getText().slice(b.start,b.end),b.start,a);return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1})}e.exports=function(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(o),l=n.getEntityAt(s-1);if(!c&&!l)return r;var d=r;if(c&&c===l)d=a(e,t,d,i,c,!0,!0);else if(c&&l){var u=a(e,t,d,i,c,!1,!0),h=a(e,n,d,i,l,!1,!1);d=d.merge({anchorOffset:u.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(c){var p=a(e,t,d,i,c,!1,!0);d=d.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(l){var f=a(e,n,d,i,l,!1,!1);d=d.merge({focusOffset:f.getEndOffset(),isBackward:!1})}return d}},c4Fo:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("clxp"),a=n("zXAL");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends i.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,targeting:i}=this.props;i?r.viewExperience(t,n,!1,i):r.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,preventRemoval:i,targeting:o}=this.props;o?r.completeExperience(t,n,i,!1,{},!1,o):i?r.completeExperience(t,n,i):r.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,preventRemoval:i,targeting:o}=this.props;o?r.dismissExperience(t,n,i,!1,o):i?r.dismissExperience(t,n,i):r.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:a}=n;return Object(r.jsx)(o.a,{name:`Experience(${i}:${a})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return Object(r.jsx)(c,{})}}t.a=Object(a.a)(l)},cmQj:function(e,t,n){e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},cwFY:function(e,t,n){e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},d7JY:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o({children:e}){return Object(r.jsx)(i.e,{display:"flex",justifyContent:"center",children:e})}},d90F:function(e,t,n){n.d(t,"a",(function(){return r.a}));var r=n("ESls");n("nKUr"),n("q1tI"),n("0rqB"),n("pLLR")},dH2W:function(e,t,n){n.r(t);var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("n6mq"),s=n("pLLR");class c extends i.Component{constructor(...e){var t,n,r;super(...e),r={LoadedComponent:null},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const e=(e=>{switch(e.toUpperCase()){case"ID-ID":return"ID";case"MS-MY":return"MS";case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FR":return"FR";case"IT":return"IT";case"HU-HU":return"HU";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"SK-SK":return"SK";case"FI-FI":return"FI";case"SV-SE":return"SV";case"TL-PH":return"TL";case"VI-VN":return"VT";case"TR":return"TR";case"EL-GR":return"GR";case"RU-RU":return"RU";case"UK-UA":return"UA";case"HI-IN":return"HI";case"TH-TH":return"TH";case"KO-KR":return"KR";case"JA":return"JP";case"en-GB":return"ENUK";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"ENUS"}})(this.props.requestContext.locale);n("JBUN")("./"+e).then(({default:e})=>{this.setState({LoadedComponent:e})})}componentDidUpdate(e,t){!t.LoadedComponent&&this.state.LoadedComponent&&this.props.onCtaDidLoad()}render(){const{width:e,height:t}=this.props,{LoadedComponent:n}=this.state;return n?Object(r.jsx)(n,{height:t,title:o.a._("Open Pinterest and tap the camera icon for ideas","accessibility label for Pincode call-to-action text","accessibility label for Pincode call-to-action text"),width:e}):Object(r.jsx)(a.O,{accessibilityLabel:o.a._("Loading Pincode Call to Action","accessibility label for loading the Pincode call-to-action image","accessibility label for loading the Pincode call-to-action image"),show:!0})}}t.default=Object(s.e)(c)},dJ9d:function(e,t,n){function r(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=r,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||r(e);var t}},dMCU:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("v/Q4"),a=n("aOj9");function s(e){const t=t=>{const n=Object(i.useDispatch)(),{isAuth:s,isLimitedLogin:c}=Object(o.a)(),l=Object(a.e)(),d=!s||c?e=>e=>{e&&e.stopPropagation(),l()}:e=>e;return Object(r.jsx)(e,{authAction:d,dispatch:n,isAuth:s,isLimitedLogin:c,...t})};return t.displayName=`WithAuthenticatedAction(${String(e.displayName||e.name)})`,t}},dtqy:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("5S2N"),s=n("Sp3T"),c=n("ANjH"),l=n("U4JR");t.a=Object(c.compose)(Object(o.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:n})=>{const{carousel_data:r}=e&&t&&e[t]||{},{index:i}=r||{};return void 0!==n?{carouselSlotCurrentIndex:i||n||0}:{}}),(function(e){return function(t){const[n,o]=Object(i.useState)(!1),c=Object(s.a)(),{pinId:d,onDelete:u,onSubmit:h,carouselSlotCurrentIndex:p}=t;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(e,{...t,handlePinEditButtonClick:e=>c(()=>{e&&e.stopPropagation();const{component:n,onToggleModal:r}=t;r&&r(!0),Object(l.b)(101,{element:3,...n?{component:n}:{}}),o(!0)})}),n&&Object(r.jsx)(a.a,{carouselSlotCurrentIndex:p,onDelete:u,onHide:()=>{o(!1),t.onToggleModal&&t.onToggleModal(!1)},onSubmit:h,pinId:d})]})}}))},dyxW:function(e,t,n){var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},"e/Ok":function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("bU3v"),a=n("hyAj"),s=n("GXbk"),c=n("MbRH");e.exports=function(e,t){var n,l=e._latestEditorState,d=l.getSelection(),u=t.target;if(d.isCollapsed())t.preventDefault();else{if(c(u)){var h=u;n=s(o.getScrollParent(h))}var p=a(l);e.setClipboard(p),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(l))}),0)}}},e0nq:function(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}))},e3GI:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("oRao"),a=n("vvax"),s=n("n6mq");function c({boardName:e,collaboratorCount:t}){const n=Object(r.jsx)(s.U,{inline:!0,weight:"bold",children:e},"board_name");return Object(r.jsx)(s.U,{children:t?Object(a.b)(i.a._("When you delete {{ boardName }}, you'll lose {{ n_collaborators }} and all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:n,n_collaborators:Object(r.jsx)(s.U,{inline:!0,weight:"bold",children:Object(a.b)(i.a.ngettext("{{ count }} collaborator","{{ count }} collaborators",t,"label for n board collaborator(s)","label for n board collaborator(s)"),{count:Object(r.jsx)(o.a,{value:t})})},"collaborator_count")}):Object(a.b)(i.a._("When you delete {{ boardName }}, you'll lose all followers of that board.","helper text for selecting merge target board","helper text for selecting merge target board"),{boardName:n})})}function l({board:{name:e,is_collaborative:t}}){const n=t?i.a._("your {{ boardName }} group board"):i.a._("your {{ boardName }} board");return Object(r.jsx)(s.U,{inline:!0,children:Object(a.b)(n,{boardName:Object(r.jsx)(s.U,{inline:!0,weight:"bold",children:e},"board_"+e)})},"yourboard_"+e)}function d({sourceBoard:e,targetBoard:t}){return Object(r.jsxs)(s.e,{children:[Object(r.jsx)(s.e,{paddingY:2,children:Object(r.jsx)(s.U,{children:Object(a.b)(i.a._("You're about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.","helper text for selecting merge target board","helper text for selecting merge target board"),{sourceBoardName:Object(r.jsx)(l,{board:e},"sourceBoard"),targetBoardName:Object(r.jsx)(l,{board:t},"targetBoard")})})}),Object(r.jsx)(s.e,{paddingY:2,children:Object(r.jsx)(c,{boardName:e.name,collaboratorCount:e.collaborator_count})})]})}},eATT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("CEq6"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t.getAnchorKey(),i=t.getAnchorOffset(),a=e.getCurrentContent().getBlockForKey(r).getText();return(0,o.default)(a,i,n)}},eBDd:function(e,t,n){var r=n("yaUg"),i=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(i.a)(t[e].toString()):""}),Object(r.a)(e,n)}},eIuQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("Ye/N");function i(e){return e?r.a._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function o(e){return e?r.a._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function a(e){return r.a._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function s(e){return e?r.a._("Note too long. Make sure all cards' notes have less than 500 characters","User note entered is too long while editing a carousel pin and/or one of its pins","User note entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Note too long. Make sure note has less than 500 characters","User note entered is too long while editing a pin","User note entered is too long while editing a pin")}function c(e){return e?r.a._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):r.a._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}},eiom:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=r},"f+ew":function(e,t,n){var r=n("mFyV"),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){var n=e.split(o);return n.length>1?n.some((function(e){return j.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return d(n[0],t);var i=n[0],o=n[1];return b(i)&&b(o)||r(!1),d(">="+i,t)&&d("<="+o,t)}(e=n[0].trim(),t)}function d(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(i),o=p(e),a=o.modifier,s=o.rangeComponents;switch(a){case"<":return u(r,s);case"<=":return-1===(n=y(r,s))||0===n;case">=":return h(r,s);case">":return function(e,t){return 1===y(e,t)}(r,s);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);f(o)&&(r[i]=o+1+"");return h(e,n)&&u(e,r)}(r,s);default:return function(e,t){return 0===y(e,t)}(r,s)}}function u(e,t){return-1===y(e,t)}function h(e,t){var n=y(e,t);return 1===n||0===n}function p(e){var t=e.split(i),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function f(e){return!isNaN(e)&&isFinite(e)}function b(e){return!p(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function m(e,t){var n=e.match(c)[1],r=t.match(c)[1],i=parseInt(n,10),o=parseInt(r,10);return f(i)&&f(o)&&i!==o?v(i,o):v(e,t)}function v(e,t){return typeof e!=typeof t&&r(!1),e>t?1:e<t?-1:0}function y(e,t){for(var n=function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return g(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var a=m(r[o],i[o]);if(a)return a}return 0}var j={contains:function(e,t){return l(e.trim(),t.trim())}};e.exports=j},fEmT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSuggestions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=b(o),s=b(n("N1c7")),c=n("v83y"),l=b(n("kGJw")),d=b(n("7IEp")),u=b(n("ka8t")),h=b(n("AlZN")),p=b(n("eATT")),f=b(n("vgsE"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.MentionSuggestions=function(e){function t(){var e,n,r;g(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isActive:!1,focusedOptionIndex:0},r.componentDidUpdate=function(e,t){if(r.popover){var n=r.props.suggestions.length;if(n>0&&r.state.focusedOptionIndex>=n&&r.setState({focusedOptionIndex:n-1}),!r.props.store.getAllSearches().has(r.activeOffsetKey))return;var i=r.props.store.getPortalClientRect(r.activeOffsetKey),o=r.props.positionSuggestions({decoratorRect:i,prevProps:e,prevState:t,props:r.props,state:r.state,popover:r.popover});Object.keys(o).forEach((function(e){r.popover.style[e]=o[e]}))}},r.componentWillUnmount=function(){r.props.callbacks.onChange=void 0},r.onEditorStateChange=function(e){var t=r.props.store.getAllSearches();if(0===t.size)return e;var n=function(){return r.props.store.resetEscapedSearch(),r.closeDropdown(),e},i=e.getSelection(),o=i.getAnchorKey(),a=i.getAnchorOffset();if(!i.isCollapsed()||!i.getHasFocus())return n();var s=t.map((function(e){return(0,h.default)(e)})).filter((function(e){return e.blockKey===o})).map((function(t){var n=t.blockKey,r=t.decoratorKey;return e.getBlockTree(n).getIn([r])}));if(s.every((function(e){return void 0===e})))return n();var c=e.getCurrentContent().getPlainText(),d=s.filter((function(e){return void 0!==e})).map((function(e){var t=e.start,n=e.end;return 0===t&&a===r.props.mentionTrigger.length&&c.charAt(a)!==r.props.mentionTrigger&&new RegExp(String.raw({raw:""+(0,l.default)(r.props.mentionTrigger)}),"g").test(c)&&a<=n||a>t+r.props.mentionTrigger.length&&a<=n}));if(d.every((function(e){return!1===e})))return n();var u=r.activeOffsetKey;return r.activeOffsetKey=d.filter((function(e){return!0===e})).keySeq().first(),r.onSearchChange(e,i,r.activeOffsetKey,u),r.props.store.isEscaped(r.activeOffsetKey)||r.props.store.resetEscapedSearch(),!r.state.isActive&&!r.props.store.isEscaped(r.activeOffsetKey)&&r.props.suggestions.length>0&&r.openDropdown(),void 0!==r.lastSelectionIsInsideWord&&d.equals(r.lastSelectionIsInsideWord)||r.setState({focusedOptionIndex:0}),r.lastSelectionIsInsideWord=d,e},r.onSearchChange=function(e,t,n,i){var o=(0,p.default)(e,t,r.props.mentionTrigger).matchingString;r.lastSearchValue===o&&n===i||(r.lastSearchValue=o,r.props.onSearchChange({value:o}))},r.onDownArrow=function(e){e.preventDefault();var t=r.state.focusedOptionIndex+1;r.onMentionFocus(t>=r.props.suggestions.length?0:t)},r.onTab=function(e){e.preventDefault(),r.commitSelection()},r.onUpArrow=function(e){if(e.preventDefault(),r.props.suggestions.length>0){var t=r.state.focusedOptionIndex-1;r.onMentionFocus(t<0?r.props.suggestions.length-1:t)}},r.onEscape=function(e){e.preventDefault();var t=r.lastSelectionIsInsideWord.filter((function(e){return!0===e})).keySeq().first();r.props.store.escapeSearch(t),r.closeDropdown(),r.props.store.setEditorState(r.props.store.getEditorState())},r.onMentionSelect=function(e){if(e){r.props.onAddMention&&r.props.onAddMention(e),r.closeDropdown();var t=(0,u.default)(r.props.store.getEditorState(),e,r.props.mentionPrefix,r.props.mentionTrigger,r.props.entityMutability);r.props.store.setEditorState(t)}},r.onMentionFocus=function(e){var t="mention-option-"+r.key+"-"+e;r.props.ariaProps.ariaActiveDescendantID=t,r.setState({focusedOptionIndex:e}),r.props.store.setEditorState(r.props.store.getEditorState())},r.commitSelection=function(){return r.props.store.getIsOpened()?(r.onMentionSelect(r.props.suggestions[r.state.focusedOptionIndex]),"handled"):"not-handled"},r.openDropdown=function(){r.props.callbacks.handleReturn=r.commitSelection,r.props.callbacks.keyBindingFn=function(e){40===e.keyCode&&r.onDownArrow(e),38===e.keyCode&&r.onUpArrow(e),27===e.keyCode&&r.onEscape(e),9===e.keyCode&&r.onTab(e)};var e="mention-option-"+r.key+"-"+r.state.focusedOptionIndex;r.props.ariaProps.ariaActiveDescendantID=e,r.props.ariaProps.ariaOwneeID="mentions-list-"+r.key,r.props.ariaProps.ariaHasPopup="true",r.props.ariaProps.ariaExpanded=!0,r.setState({isActive:!0}),r.props.onOpen&&r.props.onOpen()},r.closeDropdown=function(){r.props.callbacks.handleReturn=void 0,r.props.callbacks.keyBindingFn=void 0,r.props.ariaProps.ariaHasPopup="false",r.props.ariaProps.ariaExpanded=!1,r.props.ariaProps.ariaActiveDescendantID=void 0,r.props.ariaProps.ariaOwneeID=void 0,r.setState({isActive:!1}),r.props.onClose&&r.props.onClose()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){this.key=(0,c.genKey)(),this.props.callbacks.onChange=this.onEditorStateChange}},{key:"componentWillReceiveProps",value:function(e){0===e.suggestions.length&&this.state.isActive?this.closeDropdown():e.suggestions.length>0&&e.suggestions!==this.props.suggestions&&!this.state.isActive&&this.openDropdown()}},{key:"render",value:function(){var e=this;if(!this.state.isActive)return null;var t=this.props,n=t.entryComponent,i=t.popoverComponent,o=void 0===i?a.default.createElement("div",null):i,s=(t.onClose,t.onOpen,t.onAddMention,t.onSearchChange,t.suggestions,t.ariaProps,t.callbacks,t.theme),c=void 0===s?{}:s,l=(t.store,t.entityMutability,t.positionSuggestions,t.mentionTrigger,t.mentionPrefix,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["entryComponent","popoverComponent","onClose","onOpen","onAddMention","onSearchChange","suggestions","ariaProps","callbacks","theme","store","entityMutability","positionSuggestions","mentionTrigger","mentionPrefix"]));return a.default.cloneElement(o,r({},l,{className:c.mentionSuggestions,role:"listbox",id:"mentions-list-"+this.key,ref:function(t){e.popover=t}}),this.props.suggestions.map((function(t,r){return a.default.createElement(d.default,{key:null!=t.id?t.id:t.name,onMentionSelect:e.onMentionSelect,onMentionFocus:e.onMentionFocus,isFocused:e.state.focusedOptionIndex===r,mention:t,index:r,id:"mention-option-"+e.key+"-"+r,theme:c,searchValue:e.lastSearchValue,entryComponent:n||f.default})})))}}]),t}(o.Component);v.propTypes={entityMutability:s.default.oneOf(["SEGMENTED","IMMUTABLE","MUTABLE"]),entryComponent:s.default.func,onAddMention:s.default.func,suggestions:s.default.array},t.default=v},fEyW:function(e,t,n){var r=n("JL7T"),i=n("VTBg"),o=n("zVay"),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},d=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},u=function(e,t,n,r){return e.withMutations((function(o){if(s(t.getKey(),o,(function(e){return e.merge({nextSibling:l(e,o,r),prevSibling:d(e,o,r)})})),s(n.getKey(),o,(function(e){return e.merge({nextSibling:l(e,o,r),prevSibling:d(e,o,r)})})),c(t.getKey(),r).forEach((function(e){return s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:l(e,o,r),prevSibling:d(e,o,r)})}))})),s(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:l(e,o,r)})})),s(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:d(e,o,r)})})),s(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:l(e,o,r),prevSibling:d(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(e){return s(e,o,(function(e){return e.merge({nextSibling:l(e,o,r),prevSibling:d(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(n.getKey(),o,(function(e){return e.merge({prevSibling:a})})),s(a,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var u=a?e.get(a):null,h=u?u.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,o,(function(e){return e.merge({parent:h})}))})),null!=h){var p=e.get(h);s(h,o,(function(e){return e.merge({children:p.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},h=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),d=t.getEndKey(),p=t.getEndOffset(),f=o.get(s),b=o.get(d),g=f instanceof r,m=[];if(g){var v=b.getChildKeys(),y=c(d,o);b.getNextSiblingKey()&&(m=m.concat(y)),v.isEmpty()||(m=m.concat(y.concat([d]))),m=m.concat(c(i(b,o),o))}n=f===b?h(f.getCharacterList(),l,p):f.getCharacterList().slice(0,l).concat(b.getCharacterList().slice(p));var j=f.merge({text:f.getText().slice(0,l)+b.getText().slice(p),characterList:n}),_=g&&0===l&&0===p&&b.getParentKey()===s&&null==b.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===d})).filter((function(e,t){return-1===m.indexOf(t)})).concat(a([[d,null]])).map((function(e,t){return t===s?j:null})),O=o.merge(_).filter((function(e){return!!e}));return g&&f!==b&&(O=u(O,f,b,o)),e.merge({blockMap:O,selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:l,focusKey:s,focusOffset:l,isBackward:!1})})}},fMZg:function(e,t,n){var r=n("mFyV");e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},fNcP:function(e,t,n){n.d(t,"a",(function(){return He}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("QoKk"),c=n("Ye/N"),l=n("TgLd"),d=n("VwDf"),u=n("U4JR"),h=n("oN2T"),p=n("n6mq");var f=Object(a.connect)((e,t)=>({board:e.boards.content[t.boardId]}),()=>{})((function({board:e,onClose:t}){const{id:n,event_start_date:o,event_date:f}=e,b=o?[o]:[];f&&b.push(f);const g=(b||[]).map(e=>new Date(e))||[],[m,v]=Object(i.useState)(g),[y,j]=Object(i.useState)(!1),_=Object(a.useDispatch)(),O=()=>{y||t()},x=f?c.a._("Edit dates","save.board.AddDatesModal","Modal heading"):c.a._("Add dates","save.board.AddDatesModal","Modal heading");return Object(r.jsx)(l.b,{accessibilityModalLabel:"View default padding and styling",closeOnOutsideClick:!0,heading:x,onDismiss:O,footer:Object(r.jsxs)(p.e,{display:"flex",justifyContent:"between",children:[Object(r.jsx)(p.f,{color:"gray",inline:!0,onClick:O,text:c.a._("Cancel","save.board.AddDatesModal","Cancel button on modal")}),Object(r.jsx)(p.f,{color:"red",disabled:!m.length&&!f,inline:!0,onClick:()=>{const{eventEndDate:e,eventStartDate:r}=Object(d.a)({currentEventStartDate:m.length>1?m[0]:null,currentEventEndDate:m[1]||m[0],initialEventStartDate:o,initialEventEndDate:f});_(Object(h.m)({id:n,event_start_date:r,event_date:e}));const i=f?8624:8623;Object(u.b)(i,{view:413,objectId:n}),t()},text:c.a._("Save","save.board.AddDatesModal","Save button on modal")})]}),size:"sm",children:Object(r.jsx)(p.e,{paddingX:4,children:Object(r.jsx)(s.a,{dates:m,onChange:e=>v(e),onToggleFlyout:()=>j(!y)})})})})),b=n("0rqM"),g=n("M1Uz"),m=n("vvax"),v=n("nGHF");function y({shouldArchive:e,board:t,onClose:n,onConfirm:i}){const o=Object(a.useDispatch)(),{showOneToast:s}=Object(v.b)();return Object(r.jsx)(b.a,{confirmButtonLabel:e?c.a._("Archive","BoardPage.ModalContents.BoardModalManager","button label on confirming board archive"):c.a._("Unarchive","BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel","button label on confirming board unarchive"),heading:e?c.a._("Archive this board?","BoardPage.ModalContents.BoardModalManager","modal heading for board archive confirmation"):c.a._("Unarchive this board?","BoardUnarchiveConfirmation.BoardEditConfirmation.heading","modal heading for board unarchive confirmation"),message:Object(m.b)(e?c.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardPage.ModalContents.BoardModalManager","Confirmation message when archiving a board"):c.a._("If you unarchive {{ boardName }}, it will show up on your profile and you’ll be able to save new Pins to it.","BoardUnarchiveConfirmation.BoardEditConfirmation.message","Confirmation message when unarchiving a board"),{boardName:Object(r.jsx)(p.U,{inline:!0,weight:"bold",children:t.name},t.name)}),onCancel:n,onConfirm:()=>{o(e?Object(h.a)(t.id):Object(h.l)(t.id)),i(),n(),s(({onHide:n})=>Object(r.jsx)(g.a,{imageUrl:t.image_cover_url,onHide:n,text:e?Object(m.b)(c.a._("Archived {{ boardName }}","board.BoardPage.ModalContents.BoardArchiveConfirmation","Toast text on complete archiving board"),{boardName:t.name}).join(""):Object(m.b)(c.a._("Unarchived {{ boardName }}","BoardUnarchiveConfirmation.handleConfirmUnarchive.message","Toast text on completing unarchiving board"),{boardName:t.name}).join("")}))}})}var j=n("OQKm"),_=n("qdVQ"),O=n("/MAO");function x({fetchMore:e,followers:t,followersCount:n,isFetching:o,onDismiss:a}){return Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("Board Followers","boardFollowersList.modal.accessibilityLabelForModal","Accessibility label for modal"),heading:Object(r.jsx)(p.e,{display:"flex",justifyContent:"center",padding:8,children:Object(r.jsx)(p.t,{size:"md",accessibilityLevel:1,children:Object(m.b)(c.a.ngettext("{{ followersCount }} Follower","{{ followersCount }} Followers",n,"Label for the number of people following a board","Label for the number of people following a board"),{followersCount:n.toLocaleString()})})}),onDismiss:a,size:"sm",children:Object(r.jsx)(p.e,{maxHeight:600,paddingX:6,overflow:"auto",children:t&&t.length>0?Object(r.jsxs)(i.Fragment,{children:[t.map(e=>Object(r.jsx)(O.a,{showFollow:!0,showName:!0,size:"medium",subtitle:"",user:e},e.id)),n-t.length>0?Object(r.jsx)(p.e,{display:"flex",justifyContent:"center",padding:5,marginBottom:2,children:Object(r.jsx)(p.f,{disabled:o,inline:!0,onClick:e,size:"lg",text:c.a._("See more","BoardFollowerList.SeeMore","Button to load more items in the board follower list")})}):null]}):Object(r.jsx)(p.e,{marginBottom:8,children:Object(r.jsx)(p.O,{accessibilityLabel:c.a._("Loading board followers","BoardModalManager.Spinner","Spinner which shows when loading board followers"),show:!0})})})})}var w=n("JW66"),S=n("w70y");function C({boardId:e,followersCount:t,onDismiss:n}){const{data:i=[],fetchMore:o,isFetching:a}=Object(S.a)({name:"BoardFollowersResource",options:{board_id:e,page_size:w.a.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}});return Object(r.jsx)(x,{fetchMore:o,followers:i,followersCount:t,isFetching:a,onDismiss:n})}var I=n("weYu"),E=n("fhMV");const k="236x",D="474x",T="736x",M=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),P=e=>[k,D,T].map((t,n)=>`${M(t)(e)} ${n+1}x`).join(", ");function B({boardId:e,customizable:t}){const n=Object(S.a)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),i=!n.isLoaded,o=(n.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return Object(r.jsx)(E.a,{getDownloadImageURL:M("1200x"),getMainImageURL:M(D),getThumbnailImageSrcSet:P,id:e,images:o,isLoadingImages:i,customizable:t})}function A({onCompleteBulkDelete:e,onClearModal:t,pinCountToDelete:n}){const i=1===n?c.a._("Delete this Pin"):c.a._("Delete these Pins"),o=1===n?c.a._("Are you sure you want to permanently delete this Pin?"):c.a._("Are you sure you want to permanently delete these Pins?");return Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("delete Pins","accessibility label for bulk delete modal","accessibility label for bulk delete modal"),footer:Object(r.jsxs)(p.e,{children:[Object(r.jsx)(p.e,{marginBottom:2,children:Object(r.jsx)(p.f,{text:c.a._("Cancel"),onClick:t})}),Object(r.jsx)(p.f,{text:c.a._("Delete"),color:"red",onClick:()=>{e(),t()}})]}),heading:i,onDismiss:t,children:Object(r.jsx)(p.e,{paddingX:8,children:Object(r.jsx)(p.U,{children:o})})})}var R=n("V711");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends o.a.Component{constructor(...e){super(...e),L(this,"state",{chosenBoardId:null}),L(this,"filterCurrentBoard",e=>{const{currentBoardId:t}=this.props;return e.filter(e=>e.id!==t)}),L(this,"handleChosenBoardChange",e=>{this.setState({chosenBoardId:e.id})}),L(this,"handleConfirm",()=>{const{onCopyToBoard:e,onClearModal:t}=this.props,{chosenBoardId:n}=this.state;n&&(e(n),t())})}render(){const{onClearModal:e,pinCountToCopy:t}=this.props,{chosenBoardId:n}=this.state,i=1===t?c.a._("Pick another board for this Pin"):c.a._("Pick another board for these Pins");return Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("Copy your pins to a different board","BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel","Accessiblilty modal label"),heading:i,onDismiss:e,footer:Object(r.jsxs)(p.e,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[Object(r.jsx)(p.e,{paddingX:1,children:Object(r.jsx)(p.f,{onClick:e,text:c.a._("Cancel")})}),Object(r.jsx)(p.e,{paddingX:1,children:Object(r.jsx)(p.f,{disabled:!n,onClick:this.handleConfirm,text:c.a._("Copy"),color:"red"})})]}),children:Object(r.jsx)(p.e,{padding:8,minHeight:400,children:Object(r.jsx)(R.a,{filterAllBoards:this.filterCurrentBoard,onBoardChosen:this.handleChosenBoardChange})})})}}n("Xnm/");var z=n("y9Ij"),F=n("4+TC"),U=n("yjg8");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K=()=>{},H={__style:{zIndex:1}};class W extends o.a.PureComponent{constructor(...e){super(...e),q(this,"state",{isHovered:!1}),q(this,"hover",()=>this.setState({isHovered:!0})),q(this,"unhover",()=>this.setState({isHovered:!1})),q(this,"handlePinClick",({event:e})=>{const{save:t,unsave:n,saved:r}=this.props;e.preventDefault(),e.stopPropagation(),r?n():t()})}render(){const{children:e,boardName:t,saved:n}=this.props,{isHovered:i}=this.state;return Object(r.jsxs)(p.e,{position:"relative",children:[Object(r.jsx)(p.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:Object(r.jsx)(p.T,{fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick,children:(i||n)&&Object(r.jsx)(p.e,{position:"absolute",top:!0,paddingX:4,paddingY:4,width:U.e,dangerouslySetInlineStyle:H,children:n?Object(r.jsxs)(p.e,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(r.jsx)(p.e,{flex:"grow",children:Object(r.jsx)(F.a,{isNewlySaved:!0,url:null,name:t})}),Object(r.jsx)("div",{className:"jumpstart-undo-icon",children:Object(r.jsx)(p.v,{accessibilityLabel:c.a._("Undo","Undo saving a pin to a board","Undo saving a pin to a board"),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:K})})]}):Object(r.jsx)(p.e,{display:"flex",justifyContent:"end",children:Object(r.jsx)(p.e,{children:Object(r.jsx)(z.b,{onClick:K,saved:n,variant:"lego"})})})})})}),Object(r.jsx)("div",{style:{pointerEvents:"none"},children:e})]})}}var V=n("5Ai/"),G=n("82UD");function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J extends o.a.PureComponent{constructor(...e){super(...e),Y(this,"scollRef",o.a.createRef()),Y(this,"clickLogging",e=>{const{board:t}=this.props;Object(u.b)(101,{component:13380,element:10599,reason:e,board_id:t.id})}),Y(this,"handleSave",()=>{this.clickLogging("save")}),Y(this,"handleDelete",()=>{this.clickLogging("delete")}),Y(this,"renderPin",({data:e,itemIdx:t})=>{const{board:n}=this.props;return Object(r.jsx)(V.a,{pin:e,target:{board:n},onSave:this.handleSave,onDelete:this.handleDelete,eventContext:{viewType:5,viewParameter:3173,element:10599},children:({save:i,unsave:o,saved:a})=>Object(r.jsx)(W,{save:i,unsave:o,saved:a,boardName:n.name,children:Object(r.jsx)(G.a,{attributionOption:"hide",blockClickEvents:!0,pin:e,pinId:e.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},surface:"JumpstartBoard",trackingParameters:{slotIndex:t,viewParameter:3173,viewType:5}})})})})}render(){const{resource:e}=this.props;return Object(r.jsxs)(p.e,{maxHeight:600,maxWidth:Z,overflow:"auto",ref:this.scollRef,padding:4,children:[e.isLoaded&&e.data&&Object(r.jsx)(p.C,{comp:this.renderPin,columnWidth:U.e,gutterWidth:24,items:e.data,scrollContainer:()=>this.scollRef.current,loadItems:e.fetchMore}),Object(r.jsx)(p.O,{accessibilityLabel:c.a._("Loading pins","Loading indicator","Loading indicator"),show:e.isFetching})]})}}function X({board:e}){const t=Object(S.a)({name:"BoardContentRecommendationResource",options:{type:"board",id:e.id,__track__referrer:21}});return Object(r.jsx)(J,{board:e,resource:t})}var Q=n("EC67");const Z=1112;function $({board:e,onDismiss:t}){const n=Object(Q.g)(),i=Object(Q.h)(),o=()=>{const e={...i&&i.state||{}};e.newBoard&&(delete e.newBoard,n.replace({...i,state:e})),t()};return Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("add pins to empty board modal","accessibility label for modal","accessibility label for modal"),allowScroll:!0,heading:c.a._("Save some Pins to your new board","jumpstartBoardModal.heading","heading for modal to add Pins to an empty board"),onDismiss:o,size:Z,footer:Object(r.jsx)(p.e,{display:"flex",justifyContent:"end",children:Object(r.jsx)(p.f,{color:"red",onClick:o,text:c.a._("Done","done adding pins to empty board","done adding pins to empty board"),accessibilityLabel:c.a._("Done","done adding pins to empty board","done adding pins to empty board"),inline:!0})}),children:Object(r.jsx)(X,{board:e})})}var ee=n("9WJf"),te=n("6A0I"),ne=n("VqlB"),re=n("ANjH"),ie=n("0BOE"),oe=n("qyR9");function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class se extends i.Component{constructor(...e){super(...e),ae(this,"getSections",e=>{const{board:t,boardsResource:{data:{all_boards:n}},canMoveToOtherBoards:r,sectionsResource:{data:i}}=this.props,o=n.filter(e=>e.id!==t.id);return e.length>=oe.a?[i.length?{items:Object(ie.a)([t],e),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},{items:Object(ie.a)(i,e,"title"),customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}},r?{items:Object(ie.a)(o,e)}:{items:[]}]:[i.length?{title:c.a._("Current board","title in move pins flow","title in move pins flow"),items:[t,...i],customProps:{inSectionSelection:!0,isDisabled:this.isDisabled}}:{items:[]},r?{title:c.a._("Other boards","heading text for a list of a user's other boards in the move pins flow","heading text for a list of a user's other boards in the move pins flow"),items:o}:{items:[]}]}),ae(this,"isDisabled",e=>e.id===this.props.selectedRowId)}render(){const{board:e,boardsResource:{error:t,isLoaded:n},boardSavedTo:i,onRowSelected:o,onSectionCreate:a,pinId:s,sectionsResource:{error:l,isLoaded:d},selectedRowId:u}=this.props;return Object(r.jsx)(oe.b,{boardSavedTo:i,createButtonLabel:c.a._("Add section","Button for creating a board section","Button for creating a board section"),disabledRowId:u,hasLoadError:!!t||!!l,isLoaded:n&&d,getSections:this.getSections,onCreate:a,onSelected:o,pinId:s},e.id)}}var ce=Object(re.compose)(Object(S.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id})}),Object(S.b)({name:"BoardPickerBoardsResource",key:"boardsResource",options:{field_set_key:"board_picker",onlyFetchBoards:!0}}))(se);function le({board:e,boardSavedTo:t,onMove:n,onSectionedBoardSelect:i,onSectionCreate:o,selectedRowId:a,showOtherBoards:s}){const l=s&&!e.section_count?c.a._("Choose board"):c.a._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section");return Object(r.jsxs)(p.e,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:"absolute",rounding:2,width:330,dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[Object(r.jsx)(p.e,{paddingY:3,paddingX:3,children:Object(r.jsx)(p.t,{size:"sm",children:l})}),Object(r.jsx)(ce,{board:e,boardSavedTo:t,canMoveToOtherBoards:s,onRowSelected:t=>{if("board_section"===t.type){n(e,t)}else if("board"===t.type){const r=t;r&&r.id!==e.id&&(r.section_count||0)>0?i(r):n(r,null)}},onSectionCreate:o,selectedRowId:a})]})}var de=n("8BbR"),ue=n("WjpJ"),he=n.n(ue);function pe({previewPin:e,extraPinCount:t,showFullImage:n}){if(!e)return Object(r.jsx)(de.a,{height:214,pin:null,rounded:!0,width:142});const{description:i,images:o={},dominant_color:a}=e,s=o["474x"],c=Math.min(217*s.height/s.width,450),l=n?c:214,d=n?217:142;return Object(r.jsx)(de.a,{additionalPinCount:t,height:l,pin:{description:i,dominantColor:a,imageUrl:s.url},rounded:!0,width:d})}function fe({pins:e}){const t=e.length>0&&e.length<=2?e.length:4,n=he()(0,t).map(n=>Object(r.jsx)("div",{style:{padding:3,display:"inline-block"},children:Object(r.jsx)(pe,{previewPin:e[n],extraPinCount:3===n?Math.max(e.length-t,0):0,showFullImage:1===e.length})},n));return Object(r.jsx)(p.e,{display:0===e.length||e.length>2?"inlineBlock":"flex",alignItems:"center",justifyContent:"center",width:296,height:440,children:n})}var be=n("6SCp"),ge=n("B6Tf"),me=n("Wer7");function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ye extends o.a.Component{constructor(e){super(e),ve(this,"showSuccessToast",()=>{const{movedBoard:e,movedSection:t}=this.state,{board:n,inSelectAll:i,toastManagerContext:o}=this.props;if(i)o.showOneToast(({onHide:e})=>Object(r.jsx)(g.a,{duration:ge.a,onHide:e,text:c.a._("Got it! Hang tight while we move all those Pins...","Toast message for bulk pins move.","Toast message for bulk pins move.")}));else if(e){const i=t?Object(m.b)(c.a._("Moved to {{sectionName}} in {{boardName}}","Toast for successfully moving pins to a section within a board","Toast for successfully moving pins to a section within a board"),{sectionName:t.title,boardName:e.name}).join(""):Object(m.b)(c.a._("Moved to {{boardName}}","Toast for successfully moving pins to a different board","Toast for successfully moving pins to a different board"),{boardName:e.name}).join(""),a=t?`${e.url}${t.slug}`:e.url;o.showOneToast(({onHide:e})=>Object(r.jsx)(g.a,{duration:ge.a,href:a,imageUrl:n.image_cover_url,onHide:e,text:i}))}}),ve(this,"handleMove",(e,t)=>{const{board:n,boardSection:r,inSelectAll:i,onCompleteMove:o,movePins:a,selectedPinIds:s}=this.props,c={boardId:n.id,sectionId:r&&r.id||null},l={boardId:e.id,sectionId:t&&t.id||null};if(c.boardId===l.boardId&&c.sectionId===l.sectionId)return;const d=l.sectionId||l.boardId;this._setBoardSavedTo(d,ge.c.LOADING),a({inverseSelection:i,selectedPinIds:s,source:c,target:l}).then(()=>{this._setBoardSavedTo(d,ge.c.SUCCESS),this.setState({movedBoard:e,movedSection:t}),o()})}),ve(this,"handleSectionedBoardSelect",e=>{this.setState({initialBoardName:"",selectedBoard:e})}),ve(this,"handleSectionCreateComplete",e=>{const{onCompleteMove:t,toastManagerContext:n}=this.props;t();const i=Object(m.b)(c.a._("Moved to {{sectionName}} in {{boardName}}","moveSectionModal.handleSectionCreate.toast","Toast for successfully moving pins to a section within a board"),{sectionName:e.title,boardName:e.board.name});n.showOneToast(({onHide:t})=>Object(r.jsx)(g.a,{duration:ge.a,href:`${e.board.url}${e.slug}`,imageUrl:" ",onHide:t,text:i.join("")}))}),ve(this,"handleShowCreate",e=>{this.setState({initialBoardName:e,showCreate:!0})}),ve(this,"handleHideCreate",()=>{const{onClearModal:e,sectionCount:t}=this.props;0===t?e():this.setState({initialBoardName:"",showCreate:!1})});const{board:t,viewer:n,showCreateOnly:i}=e;this.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:i||t.owner.id!==n.id&&0===t.section_count}}componentWillUnmount(){const{invalidateResource:e,viewer:t}=this.props,{movedBoard:n,movedSection:r}=this.state;n&&(r||e("BoardFeedResource",Object(be.a)(n,t)),this.showSuccessToast())}_setBoardSavedTo(e,t){this.setState({boardSavedTo:{board:e,state:t}})}render(){const{board:e,boardSection:t,inSelectAll:n,onClearModal:i,selectedPinIds:o,selectedPins:a,shouldShowOtherBoards:s}=this.props,{boardSavedTo:d,initialBoardName:u,selectedBoard:h,showCreate:f}=this.state,b=n?330:660;return Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("Choose the section or board you want to move pins to","moveSectionModal.modal.accessibilityLabelForModal","Accessibility label for modal"),onDismiss:i,size:b,children:Object(r.jsxs)(p.e,{color:"white",display:"flex",height:540,rounding:2,width:b,children:[!n&&Object(r.jsx)(p.e,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2,children:Object(r.jsx)(fe,{pins:a})}),f?Object(r.jsx)(te.a,{board:h,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:u,onClearModal:this.handleHideCreate,pinImport:{all:n,pinIds:o},showTitle:!0}):Object(r.jsx)(le,{board:h,boardSavedTo:d,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:t&&t.id||e&&e.id,showOtherBoards:s})]})})}}var je=Object(re.compose)(Object(a.connect)((e,t)=>({selectedPins:t.selectedPinIds.reduce((t,n)=>{const r=e.pins[n];return r?t.concat([r]):t},[]),shouldShowOtherBoards:Object(ee.a)({action:2,board:t.board})||!t.selectedPinIds.some(t=>{const{pins:n,viewer:r}=e,i=r,o=n[t];return o&&o.pinner&&o.pinner.id&&o.pinner.id!==i.id}),sectionCount:(e.boards.content[t.board.id]||{}).section_count,viewer:e.viewer}),(e,t)=>({invalidateResource:Object(re.bindActionCreators)(me.f,e),movePins:Object(re.bindActionCreators)(ne.a,e)})),v.c)(ye),_e=n("A6Hx"),Oe=n("t9Ac"),xe=n("Pv/+"),we=n("zpPL");function Se(e){const{viewer:t}=we.a.instance&&we.a.instance.getState()||{};return(null==t?void 0:t.isAuth)&&(e||{}).id===t.id}var Ce=n("1inl"),Ie=n("4TDQ"),Ee=n("NXrh");function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class De extends o.a.Component{constructor(...e){super(...e),ke(this,"state",{section:null}),ke(this,"handleSectionChange",e=>{this.setState({section:e})}),ke(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{section:t}=this.state;t&&e(t)})}render(){const{board:e,boardSection:t,onCancel:n}=this.props,{section:i}=this.state;return Object(r.jsx)(l.b,{size:"md",accessibilityModalLabel:c.a._("Move Pins","BoardPage.ModalContents.SectionMergeModal","accessibility label for merging modal"),onDismiss:()=>{n()},heading:i?c.a._("Move Pins and delete section?","title for board section merging modal","title for board section merging modal"):c.a._("Move all Pins to...","title for board section merging modal","title for board section merging modal"),footer:Object(r.jsx)(p.e,{display:"flex",justifyContent:"end",children:Object(r.jsxs)(p.g,{children:[Object(r.jsx)(p.f,{inline:!0,onClick:n,text:c.a._("Cancel"),size:"lg"}),Object(r.jsx)(p.f,{color:"red",disabled:!i,inline:!0,onClick:this.handleSubmit,text:c.a._("Move Pins and delete section","button for merging a board section","button for merging a board section"),size:"lg"})]})}),children:Object(r.jsx)(p.e,{padding:8,minHeight:400,children:Object(r.jsx)(Ee.b,{board:e,mergingFromSectionId:t.id,onSectionChange:this.handleSectionChange,selectedSectionId:i?i.id:null})})})}}var Te=n("uVIr"),Me=n("MhBu"),Pe=n("eOdZ"),Be=n("KFEb"),Ae=n("Sihc");function Re(e,t,n){return r=>Pe.a.create("BoardSectionEditResource",{section_id:t,title:n}).callCreate({showError:!1}).then(t=>{const n=t.resource_response.data;return r(function(e,t){return n=>{const r=t.board;r&&r.id!==e?(n(Object(xe.b)(e,t.id)),n(Object(Me.a)({feedId:e,feedType:Be.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(h.c)(e,"pin_count")),n(Object(Ae.b)(r.id,t)),n(Object(Te.a)({feedId:r.id,feedType:Be.a.BOARD_SECTIONS,itemIds:[t.id],itemType:"board_section"})),n(Object(h.c)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),r(Object(me.f)("BoardSectionsRepinResource",{board_id:e})),n})}var Le=n("vVEi");function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ze extends i.Component{constructor(...e){super(...e),Ne(this,"state",{deleting:!1,editMode:"main",title:this.props.boardSection.title}),Ne(this,"handleSaveSection",e=>{if(e.preventDefault(),this.saveDisabled())return;const{board:t,boardSection:n,dispatch:r,onSaveSection:i}=this.props,{title:o}=this.state;r(Re(t.id,n.id,o.trim())).then(i).catch(e=>this.setState({titleErrorMessage:e.message||c.a._("Invalid section name","error message of section name input field","error message of section name input field")}))}),Ne(this,"saveDisabled",()=>this.state.title===this.props.boardSection.title||""===this.state.title.trim()),Ne(this,"handleChangeTitle",({value:e})=>{this.setState({title:e,titleErrorMessage:void 0})}),Ne(this,"handleDeleteSectionButtonClick",()=>{this.setState({editMode:"confirmDelete"})}),Ne(this,"handleMergeButtonClick",()=>{this.setState({editMode:"merge"})}),Ne(this,"handleBackToMainMenu",()=>{this.setState({editMode:"main"})}),Ne(this,"handleDeleteSection",()=>{const{board:e,boardSection:t,dispatch:n,onDeleteSection:i,toastManagerContext:o}=this.props;if(this.state.deleting)return;const{id:a}=t;this.setState({deleting:!0}),n(Object(xe.a)(e.id,a)).then(()=>{i(),o.showToast(({onHide:e})=>Object(r.jsx)(g.a,{onHide:e,text:c.a._("Section deleted!","Toast for successfully deleting a board section","Toast for successfully deleting a board section")}))}).catch(e=>Ce.a.showError(e.message||c.a._("Failed to delete the section","error message for failed to delete section","error message for failed to delete section")))}),Ne(this,"handleMergeSection",e=>{const{board:t,boardSection:n,dispatch:r,showBlockingActionToast:i,onDeleteSection:o}=this.props;this.state.deleting||(this.setState({deleting:!0}),Object(u.b)(7173,{objectId:n.id,merge_flow:"menu"}),r(Object(Ie.a)(t.id,n.id,e.id)).then(o).then(()=>{i({actionType:"merge",board:t,section:e})}).catch(e=>Ce.a.showError(e.message||c.a._("Failed to merge the section","error message for failed to merge section","error message for failed to merge section"))))})}componentDidMount(){window.requestAnimationFrame(()=>{const e=this._textField;e&&(e.focus(),e.select())})}render(){const{board:e,boardSection:t,onClearModal:n}=this.props,{title:i,titleErrorMessage:o,editMode:a}=this.state,s=Se(t.user)||Object(ee.a)({action:10,board:e}),d=e.section_count>1&&(Se(t.user)||Object(ee.a)({action:13,board:e}));return"confirmDelete"===a?Object(r.jsx)(b.a,{confirmButtonLabel:c.a._("Delete section","button for deleting a board section","button for deleting a board section"),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection,message:c.a._("Once you delete a section and all its Pins, you can't undo it!")}):"merge"===a?Object(r.jsx)(De,{board:e,boardSection:t,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("Edit your section"),size:"md",onDismiss:n,heading:c.a._("Edit your section"),footer:Object(r.jsxs)(p.e,{justifyContent:"between",display:"flex",children:[Object(r.jsx)(p.l,{span:6,children:(s||d)&&Object(r.jsxs)(p.e,{display:"flex",marginStart:-1,marginEnd:-1,children:[s&&Object(r.jsx)(p.e,{paddingX:1,children:Object(r.jsx)(p.f,{onClick:this.handleDeleteSectionButtonClick,inline:!0,text:c.a._("Delete","Delete button","Delete button")})}),d&&Object(r.jsx)(p.e,{paddingX:1,children:Object(r.jsx)(p.f,{inline:!0,onClick:this.handleMergeButtonClick,text:c.a._("Merge","button for merging a board section","button for merging a board section")})})]})}),Object(r.jsx)(p.l,{span:6,children:Object(r.jsxs)(p.e,{display:"flex",justifyContent:"end",children:[Object(r.jsx)(p.e,{marginEnd:3,children:Object(r.jsx)(p.f,{text:c.a._("Cancel"),onClick:n,inline:!0})}),Object(r.jsx)(p.f,{type:"submit",color:"red",text:c.a._("Save"),inline:!0,disabled:this.saveDisabled(),onClick:({event:e})=>{this.handleSaveSection(e)}})]})})]}),children:Object(r.jsx)("form",{onSubmit:this.handleSaveSection,children:Object(r.jsx)(p.e,{display:"flex",direction:"column",padding:8,children:Object(r.jsx)(p.W,{errorMessage:o,id:"title",label:c.a._("Name"),onChange:this.handleChangeTitle,ref:e=>{this._textField=e},size:"lg",value:i})})})})}}var Fe=Object(re.compose)(Object(a.connect)(),Le.d,v.c)(ze);function Ue({source:e,target:t,onConfirm:n,onCancel:i}){return Object(r.jsx)(l.b,{accessibilityModalLabel:c.a._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),heading:c.a._("Move Pins and delete section?","title for board section merging confirmation","title for board section merging confirmation"),onDismiss:i,footer:Object(r.jsx)(p.e,{display:"flex",justifyContent:"end",children:Object(r.jsxs)(p.g,{children:[Object(r.jsx)(p.f,{inline:!0,onClick:i,text:c.a._("Cancel")}),Object(r.jsx)(p.f,{color:"red",inline:!0,onClick:n,text:c.a._("Move Pins and delete section","button for merging a board section","button for merging a board section")})]})}),children:Object(r.jsx)(p.e,{padding:8,children:Object(r.jsx)(p.U,{children:Object(m.b)(c.a._("You're about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.","helper text for section merge confirmation modal","helper text for section merge confirmation modal"),{sourceName:Object(r.jsx)(p.U,{inline:!0,weight:"bold",children:e.title},"source"),targetName:Object(r.jsx)(p.U,{inline:!0,weight:"bold",children:t.title},"target")})})})})}var qe=n("pC0d"),Ke=n("juW8");function He({actions:e,board:t,boardSection:n,bulkEditSelectedPins:i,currentModal:o,groupPinsData:a,inSelectAll:s,onClearModal:c,mergeConfirmationModalProps:l}){const{completeCreateSectionAction:d,completeMoveAction:u,onBoardArchiveChange:h,onBoardDelete:p,onBoardLeave:b,onBoardSectionDelete:g,onBoardSectionSave:m,onCollaboratorInviteClick:v,onConfirmMergeSection:O,onCopyPinsToBoard:x,onDeletePins:w,onBoardMerge:S}=e;switch(o){case Ke.a.addOrEditDate:return Object(r.jsx)(f,{boardId:t.id,onClose:c});case Ke.a.boardArchiveConfirmation:return h?Object(r.jsx)(y,{shouldArchive:!0,board:t,onClose:c,onConfirm:h}):null;case Ke.a.boardUnarchiveConfirmation:return h?Object(r.jsx)(y,{shouldArchive:!1,board:t,onClose:c,onConfirm:h}):null;case Ke.a.boardEdit:return Object(r.jsx)(_.a,{boardId:t.id,onBoardArchiveChange:h,onBoardDelete:p,onBoardLeave:b,onClose:c,onCollaboratorInviteClick:v});case Ke.a.bulkDelete:return w?Object(r.jsx)(A,{pinCountToDelete:i&&i.length||0,onCompleteBulkDelete:w,onClearModal:c}):null;case Ke.a.bulkCopy:return x?Object(r.jsx)(N,{currentBoardId:t.id,onCopyToBoard:x,onClearModal:c,pinCountToCopy:i&&i.length||0}):null;case Ke.a.collaboratorsAndPermissions:return Object(r.jsx)(j.a,{board:t,onDismiss:c});case Ke.a.editSection:return n?Object(r.jsx)(Fe,{board:t,boardSection:n,onClearModal:c,onDeleteSection:g,onSaveSection:m}):null;case Ke.a.mergeBoard:return S?Object(r.jsx)(I.a,{onCancel:c,onSubmit:S,sourceBoardId:t.id}):null;case Ke.a.createSection:case Ke.a.moveSection:return!!i&&!!u&&Object(r.jsx)(je,{board:t,boardSection:n,inSelectAll:s,selectedPinIds:i,showCreateOnly:o===Ke.a.createSection,onClearModal:c,onCompleteMove:u});case Ke.a.sectionMergeConfirm:return l&&O?Object(r.jsx)(Ue,{onCancel:c,onConfirm:O,source:l.source,target:l.target}):null;case Ke.a.followers:return Object(r.jsx)(C,{boardId:t.id,onDismiss:c,followersCount:t.follower_count});case Ke.a.pincode:return Object(r.jsx)(_e.a,{onHide:c,objectId:t.id,children:Object(r.jsx)(B,{boardId:t.id,customizable:!!t.owner.is_partner})});case Ke.a.jumpstartBoard:return Object(r.jsx)($,{board:t,onDismiss:c});case Ke.a.simpleCreateSection:return d?Object(r.jsx)(Oe.a,{selectedBoard:t,onClose:c,onSectionCreate:d}):null;case Ke.a.groupPins:return Object(r.jsx)(qe.a,{boardId:t.id,clusterId:null==a?void 0:a.clusterId,suggestedSectionTitle:(null==a?void 0:a.suggestedSectionName)||"",onDismiss:c});default:return null}}},fOPN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},fUU4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default={handleKeyCommand:function(e,t,n,i){var o=i.setEditorState,a=void 0;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":a=r.RichUtils.onBackspace(t);break;case"delete":case"delete-word":case"delete-to-end-of-block":a=r.RichUtils.onDelete(t);break;default:return"not-handled"}return null!=a?(o(a),"handled"):"not-handled"}}},fevN:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("rYoy"),s=n("n6mq");const c=Object(i.lazy)(()=>n.e("SendObjectWrapperCommon").then(n.bind(null,"geGc")));function l(e){return Object(r.jsx)(a.a,{fallback:Object(r.jsx)(s.e,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:Object(r.jsx)(s.O,{accessibilityLabel:o.a._("Loading sharing","Accessibility label for loading sharing UI","Accessibility label for loading sharing UI"),show:!0})}),children:Object(r.jsx)(c,{...e})})}},fhMV:function(e,t,n){n.d(t,"a",(function(){return T}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("Ye/N"),s=n("dH2W");const c="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",l="#e60023",d="0 0 222 222";function u({size:e}){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:d,children:Object(r.jsx)("path",{d:c,fill:l,fillRule:"evenodd"})})}var h=n("n6mq");function p({getThumbnailImageSrcSet:e,images:t,onTouch:n}){return Object(r.jsx)(h.e,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,i)=>Object(r.jsx)(h.e,{padding:1,children:Object(r.jsx)(h.i,{children:Object(r.jsx)(h.T,{fullWidth:!1,onTap:()=>n("logo"===t?"logo":i-1),rounding:2,children:Object(r.jsx)(h.B,{rounding:"circle",width:85,height:85,children:"logo"===t?Object(r.jsx)(u,{size:85}):Object(r.jsx)(h.w,{alt:a.a._("Pincode Hero Image","accessibility label for the Pincode hero image","accessibility label for the Pincode hero image"),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height,naturalWidth:t.width,src:t.url,srcSet:e&&e(t.url)})})})})},"logo"===t?t:t.url))})}var f=n("w70y");const b="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${g||222}" height="${g||222}" x="${m||0}" y="${m||0}" viewBox="0 0 222 222">\n    <path d="${c}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim());var g,m;const v=600;function y(e,t,n){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===n?300:0)}"\n      width="${v/("row"===t?1:2)}"\n      height="${v/("column"===n?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function j(e,t){const n=function(e){switch(e.length){case 0:case 1:return;case 2:return[y(e[0],"left","column"),y(e[1],"right","column")].join("");case 3:return[y(e[0],"left","column"),y(e[1],"right","top"),y(e[2],"right","bottom")].join("");default:return[y(e[0],"left","top"),y(e[1],"right","top"),y(e[2],"left","bottom"),y(e[3],"right","bottom")].join("")}}(t);return n?e.replace(/<image[^>]*>/,n):e}class _ extends i.Component{constructor(...e){var t,n,r;super(...e),r=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(n="handleFetchChange")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:n,pincodeImageResource:{data:i,isLoaded:o}}=this.props,s=n,c=n;return Object(r.jsxs)(h.e,{display:"flex",justifyContent:"center",alignItems:"center",width:s,height:c,children:[o&&!!i&&Object(r.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:j(i,t)},style:{width:s,height:c}}),Object(r.jsx)(h.O,{accessibilityLabel:a.a._("Loading Pincode Image","accessibility label for loading the Pincode image","accessibility label for loading the Pincode image"),show:!i})]})}}var O=Object(f.b)({name:"PincodeImageResource",key:"pincodeImageResource",options:({id:e,imageUrls:t})=>({object_id:e,hero_image_url:t[0]||b})})(_),x=n("U4JR");function w(e){return new Promise((t,n)=>{const r=new XMLHttpRequest;r.ontimeout=n,r.onreadystatechange=()=>{if(4!==r.readyState)return;if(200!==r.status)return void n();const e=new FileReader;e.onloadend=()=>{const r=e.result;"string"==typeof r?t(r.split(/,/)[1]):n()},e.readAsDataURL(r.response)},r.open("GET",e,!0),r.timeout=3e4,r.responseType="blob",r.send()})}function S(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const n=e.href.baseVal;if(n.startsWith("data:"))return Promise.resolve();const r=t?t(n):n;return Promise.resolve(r).then(w).then(e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(r)};base64,${e}`).then(t=>new Promise((n,r)=>{e.onerror=r,e.href.baseVal=t,window.requestAnimationFrame(n)}))}(e,t);const n=Array.from(e.childNodes);return Promise.all(n.map(e=>S(e,t)))}function C(e,t){return new Promise((n,r)=>{const i=document.createElement("div");i.innerHTML=e.innerHTML,S(i,t).then(()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>n(t))},t.onerror=r;const o=i&&i.querySelector("svg");o&&(/^[0-9]+$/.test(o.getAttribute("width")||"")||o.setAttribute("width",""+e.scrollWidth),/^[0-9]+$/.test(o.getAttribute("height")||"")||o.setAttribute("height",""+e.scrollHeight));const a=i.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a.trim())})})}function I(e,t){return new Promise((n,r)=>{(function(e){return new Promise((t,n)=>{if(e.toBlob)return void e.toBlob(t);let r="";try{r=e.toDataURL("image/png")}catch(s){n()}const i=window.atob(r.split(",")[1]),o=i.length,a=new Uint8Array(o);for(let e=0;e<o;e+=1)a[e]=i.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))})})(e).then(e=>window.URL.createObjectURL(e)).then(e=>{const r=document.createElement("a");r.download=t,r.href=e,r.style.display="none",window.document.body.appendChild(r),window.requestAnimationFrame(()=>{const t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),r.removeAttribute("href"),r.removeEventListener("click",t),window.document.body.removeChild(r),n()})};r.addEventListener("click",t),r.click()})}).catch(r)})}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k="pincodeMain",D="pincodeCTA";class T extends o.a.PureComponent{constructor(...e){super(...e),E(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),E(this,"getCustomHeroImages",()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:n}=this.state;if(!t)return e;const r="logo"!==n&&e[n];return r?[r]:[]}),E(this,"normalizeUrl",e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))}),E(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),E(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),E(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),E(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),E(this,"downloadPincodeImage",()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:n,isDownloading:r}=this.state;if(!e||!t||n||r)return;const i=e.querySelector(".pincodeMain"),o=e.querySelector(".pincodeCTA");if(!i||!o)return;const{getDownloadImageURL:a,id:s}=this.props;Object(x.b)(7078,{component:13141,objectId:s}),this.setState({isDownloading:!0}),Promise.all([C(i,a),C(o)]).then(e=>{const[t,n]=e;return((e,t)=>{const n=document.createElement("canvas");n.width=3544,n.height=3544;const r=Math.round(.1*n.width),i=Math.round(.05*n.width),o=n.width-2*r,a=n.width-2*i,s=n.height-o,[c,l]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],d=n.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,n.width,n.height),d.drawImage(e,r,0,o,o),d.drawImage(t,(n.width-c)/2,o+(n.height-o-l)/2,c,l),n})(t,n)}).then(e=>I(e,`pincode_${this.props.id}.png`)).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){const{id:e,isLoadingImages:t,images:n,getThumbnailImageSrcSet:i,customizable:o}=this.props,{ctaIsLoaded:c,errorFlyoutIsOpen:l,isFetchingPincodeImage:d,isDownloading:u,isPickingHeroImage:f}=this.state;return f?Object(r.jsx)(h.e,{width:350,color:"white",rounding:2,padding:4,children:Object(r.jsxs)(h.e,{children:[Object(r.jsx)(h.e,{paddingY:1,children:Object(r.jsx)(h.t,{size:"md",truncate:!0,children:a.a._("Change Image","Title of the Pincode hero image picker modal","Title of the Pincode hero image picker modal")})}),Object(r.jsx)(h.o,{}),Object(r.jsx)(p,{images:n,getThumbnailImageSrcSet:i,onTouch:this.handleSelectImage}),Object(r.jsx)(h.e,{padding:1,children:Object(r.jsx)(h.f,{text:a.a._("Cancel","Button to dismiss Pincode hero image picker","Button to dismiss Pincode hero image picker"),onClick:this.handleCancelButtonClick})})]})}):Object(r.jsx)(h.e,{width:350,color:"white",rounding:2,padding:4,children:Object(r.jsxs)(h.e,{children:[Object(r.jsx)(h.e,{ref:e=>{this.previewNode=e},children:Object(r.jsxs)(h.e,{color:"white",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:288,children:[t?Object(r.jsx)(h.e,{width:"100%",height:230,display:"flex",justifyContent:"center",alignItems:"center",children:Object(r.jsx)(h.O,{accessibilityLabel:a.a._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})}):Object(r.jsx)(O,{className:k,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url)),onFetchingChange:this.handleFetchChange,size:230}),Object(r.jsx)(h.e,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(r.jsx)("div",{className:D,children:Object(r.jsx)(s.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:55})})})]})}),Object(r.jsxs)(h.e,{marginTop:2,padding:1,children:[o&&n.length>0&&Object(r.jsx)(h.e,{paddingY:1,children:Object(r.jsx)(h.f,{text:a.a._("Change Image","Button to pick Pincode hero image","Button to pick Pincode hero image"),onClick:this.handleEditButtonClick})}),Object(r.jsxs)(h.e,{paddingY:1,children:[Object(r.jsx)(h.e,{ref:e=>{this.downloadButton=e},children:Object(r.jsx)(h.f,{text:a.a._("Download Pincode","Button to download the Pincode image","Button to download the Pincode image"),color:"red",onClick:this.downloadPincodeImage,disabled:t||!c||d||u})}),l&&Object(r.jsx)(h.r,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:Object(r.jsx)(h.e,{padding:3,children:Object(r.jsx)(h.U,{color:"white",weight:"bold",children:Object(r.jsx)("span",{children:a.a._("Oops! Your browser does not support downloading Pincodes.","Error message shown when user attempts to download Pincode on a browser not supported","Error message shown when user attempts to download Pincode on a browser not supported")})})})})]})]})]})})}}},flQA:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},fpRd:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI").memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));r.displayName="DragPreviewImage",t.default=r},fxrM:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},fyOY:function(e,t,n){var r=n("lFJn"),i=n("M6rc"),o=n("ilWa"),a=n("c203"),s=n("DYKh"),c=n("zVay"),l=n("L2EA"),d=n("81KI"),u=n("mFyV"),h=n("Mh8y"),p=n("bu5B"),f=n("fEyW"),b=n("B0ab"),g=c.OrderedSet,m={replaceText:function(e,t,n,i,o){var a=p(e,t),s=f(a,t),c=r.create({style:i||g(),entity:o||null});return d(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,i){return t.isCollapsed()||u(!1),m.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=s(e,t),i=m.removeRange(e,t,"backward");return m.replaceWithFragment(i,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=p(e,t),o=f(i,t);return l(o,o.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,i,o,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),o=e.getBlockForKey(r),s=e.getBlockForKey(i);var c=t.getStartOffset(),l=t.getEndOffset(),d=o.getEntityAt(c),u=s.getEntityAt(l-1);if(r===i&&d&&d===u){var h=a(e.getEntityMap(),o,s,t,n);return f(e,h)}var b=p(e,t);return f(b,t)},splitBlock:function(e,t){var n=p(e,t),r=f(n,t);return b(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return i.add(e,t,n)},removeInlineStyle:function(e,t,n){return i.remove(e,t,n)},setBlockType:function(e,t,n){return h(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return h(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return h(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=p(e,t);return o(r,t,n)}};e.exports=m},fyRy:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("YeVe"),a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("fyOY"),d=n("3sOJ"),u=n("rJY1"),h=n("cwFY"),p=n("zVay"),f=n("I2Ug"),b=h("draft_tree_data_support"),g=b?c:s,m=p.List,v=p.Repeat,y={insertAtomicBlock:function(e,t,n){var i=e.getCurrentContent(),s=e.getSelection(),c=l.removeRange(i,s,"backward"),h=c.getSelectionAfter(),p=l.splitBlock(c,h),f=p.getSelectionAfter(),y=l.setBlockType(p,f,"atomic"),j=a.create({entity:t}),_={key:u(),type:"atomic",text:n,characterList:m(v(j,n.length))},O={key:u(),type:"unstyled"};b&&(_=r({},_,{nextSibling:O.key}),O=r({},O,{prevSibling:_.key}));var x=[new g(_),new g(O)],w=o.createFromArray(x),S=l.replaceWithFragment(y,f,w),C=S.merge({selectionBefore:s,selectionAfter:S.getSelectionAfter().set("hasFocus",!0)});return d.push(e,C,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,o=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=f(o,t,s,r)}else{var c=l.removeRange(o,n,"backward"),u=c.getSelectionAfter(),h=c.getBlockForKey(u.getFocusKey());if(0===u.getStartOffset())i=f(c,t,h,"before");else if(u.getEndOffset()===h.getLength())i=f(c,t,h,"after");else{var p=l.splitBlock(c,u),b=p.getSelectionAfter(),g=p.getBlockForKey(b.getFocusKey());i=f(p,t,g,"before")}}var m=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return d.push(e,m,"move-block")}};e.exports=y},"g/XF":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("JW66")),o=n("zwad"),a=n("n6mq");function s({url:e,description:t,color:n}){return n=n||i.a.DEFAULT_IMAGELESS_PIN_COLOR,Object(r.jsx)(a.e,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}},children:Object(r.jsxs)(a.e,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&Object(r.jsx)(a.e,{marginBottom:2,children:Object(r.jsx)(a.U,{color:"white",size:"sm",children:o.a.parse(e).hostname||e})}),Object(r.jsx)(a.e,{maxHeight:144,children:Object(r.jsx)(a.U,{color:"white",overflow:"normal",weight:"bold",children:t})})]})})}},gONw:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("n6mq");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{isHovering:!1}),a(this,"onHover",()=>{this.setState({isHovering:!0})}),a(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:i}=this.props;return i?Object(r.jsxs)(o.e,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[Object(r.jsx)(o.e,{children:Object(r.jsx)(o.B,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?Object(r.jsx)(o.w,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):Object(r.jsx)(o.e,{color:"lightGray",height:40,width:40})})}),Object(r.jsx)(o.e,{padding:2,children:Object(r.jsx)(o.t,{size:"sm",children:e})})]}):Object(r.jsxs)(o.e,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[Object(r.jsx)(o.e,{children:Object(r.jsx)(o.u,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),Object(r.jsx)(o.e,{marginStart:3,children:Object(r.jsx)(o.U,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var c=n("Ye/N"),l=n("w70y"),d=n("U4JR"),u=n("seP0");t.a=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:a,minHeight:h,onBoardSelected:p})=>{const[f,b]=Object(i.useState)(-1),g=Object(u.c)(),{data:m=[],error:v,isLoaded:y}=Object(l.a)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),j=(_=m,Object(i.useMemo)(()=>_&&_.length?_.map(e=>e.title):[],[_]));var _;Object(i.useEffect)(()=>{y&&t&&g&&(v?g.error():g.stop())},[y]);const O=()=>{b(-1)},x=(t,n)=>{const i=f===n;return Object(r.jsx)("li",{children:Object(r.jsx)(o.T,{onMouseEnter:()=>(e=>{b(e)})(n),onMouseLeave:O,onTap:()=>(e=>{p(j[e],!1),Object(d.b)(101,{component:13025,element:23})})(n),children:Object(r.jsx)(s,{selected:i,name:t,inFlyoutExp:e,image:a})})},n)};return y?j&&j.length?e?Object(r.jsx)("div",{children:Object(r.jsx)("ul",{children:j.map(x)})}):t?Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.e,{marginTop:5,marginStart:6,marginBottom:3,children:Object(r.jsx)(o.U,{children:c.a._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),Object(r.jsx)("ul",{children:j.map(x)})]}):Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.e,{marginTop:2,paddingX:5,children:Object(r.jsx)(o.U,{children:c.a._("Suggested board names")})}),Object(r.jsx)("ul",{children:j.map(x)})]}):null:Object(r.jsx)(o.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:h||"",children:Object(r.jsx)(o.O,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},gYog:function(e,t,n){var r=n("q1tI"),i=n("i8i4"),o=n("/MKj"),a=n("ZbwW"),s=n("D2p8"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};class u extends r.Component{constructor(e){super(e),l(this,"trackImpression",()=>{try{this.node=Object(i.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),l(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:r,componentType:i,contextLogData:o,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:u,objectIdStr:h,slotIndex:p,trackCarousel:f,viewData:b,viewParameter:g,viewType:m}=this.props,v=d[l],y=v.idType,j=e.forcedExit&&"removed"===e.forcedExit?0:void 0,_={endTime:e.endTime,[y]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:j};if(f||Object(c.b)(v.eventType,{closeup_navigation_type:r,component:i,element:a,eventData:{[v.impressionType]:[_]},objectIdStr:h,view:m,viewData:b||{},viewParameter:g,...o}),t&&f){const{carousel_slots:e,index:n,id:r}=t;Object(c.b)(7352,{component:i,eventData:{pinCarouselSlotImpressions:[{..._,carouselDataId:Number(r),carouselSlotId:e[n]&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:m,viewData:b||{},viewParameter:g,...o})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return r.Children.only(this.props.children)}}t.a=Object(o.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},gmhe:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=(n("q1tI"),n("7pfs")),o=n("TNox"),a=n("z19Z"),s=n("n6mq");function c({children:e,onClick:t,rounding:n=2,url:c,target:l}){const d=c?Object(r.jsx)(o.a,{target:l,onHistoryChange:a.e,onTap:t,href:c,children:e}):Object(r.jsx)(s.T,{onTap:t,rounding:n,children:e});return Object(r.jsx)(i.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>Object(r.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:e?"rgba(0, 0, 0, 0.06)":void 0}},onMouseEnter:t,onMouseLeave:i,rounding:n,children:d})})}},grng:function(e,t,n){var r=n("jCsd"),i=n("GQ6P"),o=n("N8u9"),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var i=t[n].type;if(!r.isImage(i))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=l},guDk:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("Ye/N");const i=()=>r.a._("We can’t complete this action because you’re in ‘read-only’ mode. Switch to ‘edit mode’ to make changes.","adminMode.writeOnlyAction.errorMessage","A toast message indicating that the user is trying to perform a write action in read-only mode."),o=[25],a=e=>!!e&&("string"==typeof e?e===i():!!e.code&&o.includes(e.code)),s=e=>e&&o.includes(e.code)?i():null},"h/2P":function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("4pIB"),a=n("hpMJ"),s=n("T401"),c=n("Yrnb"),l=n("qysv"),d=n("XddS"),u=o.isBrowser("Firefox");function h(e,t,n,o,a){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,o);return i.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var o=n.getSelection(),p=o.getStartOffset(),f=o.getAnchorKey();if(!o.isCollapsed())return t.preventDefault(),void e.update(h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var b,g=h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),m=!1;if(m||(m=c(e._latestCommittedEditorState)),!m){var v=n.getBlockTree(f),y=g.getBlockTree(f);m=v.size!==y.size||v.zip(y).some((function(e){var t=e[0],n=e[1],i=t.get("start"),o=i+(i>=p?r.length:0),a=t.get("end"),s=a+(a>=p?r.length:0),c=n.get("start"),l=n.get("end"),d=n.get("decoratorKey");return t.get("decoratorKey")!==d||t.get("leaves").size!==n.get("leaves").size||o!==c||s!==l||null!=d&&l-c!=a-i}))}if(m||(b=r,m=u&&("'"==b||"/"==b)),m||(m=l(g.getDirectionMap()).get(f)!==l(n.getDirectionMap()).get(f)),m)return t.preventDefault(),g=i.set(g,{forceSelection:!0}),void e.update(g);g=i.set(g,{nativelyRenderedContent:g.getCurrentContent()}),e._pendingStateFromBeforeInput=g,d((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},h2as:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default=function(e){var t=e.getCurrentContent().getBlockMap(),n=t.last().getKey(),i=t.last().getLength(),o=new r.SelectionState({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i});return r.EditorState.acceptSelection(e,o)}},hBSE:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("c0rk")),o=n("n6mq");function a(e,t){return Object(r.jsx)(o.e,{children:e},t)}function s(e){const{buttonsLeft:t,buttonsRight:n,children:s,headerHeight:c,minHeight:l,shouldStick:d}=e;return Object(r.jsx)(i.a,{position:d?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=c?c:"pending",children:Object(r.jsx)(o.e,{color:"white",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%",children:Object(r.jsxs)(o.e,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:l,width:"100%",children:[Object(r.jsx)(o.e,{alignItems:"center",column:2,display:"flex",children:t.map(a)}),Object(r.jsx)(o.e,{margin:"auto",children:s}),Object(r.jsx)(o.e,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:n.map(a)})]})})})}},hM3f:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return p}));var r=n("aAE7"),i=n.n(r),o=n("n6mq"),a=n("v83y"),s=n("TgLd");const c=5,l=5,d=({text:e,mentions:t})=>{const n=[],r={},i=[];t&&t.forEach((e,t)=>{const{length:n,offset:o,object_id:a}=e;r[t]={data:{mention:{id:a}},mutability:"IMMUTABLE",type:"mention"},i.push({key:t,length:n,offset:o})}),n.push({text:e,key:null,depth:null,inlineStyleRanges:null,type:"unstyled",entityRanges:i});return Object(a.convertFromRaw)({entityMap:r,blocks:n})},u=e=>{const t=[];let n=0;return e.getBlocksAsArray().forEach((r,i)=>{let o=null;r.findEntityRanges(t=>{const n=t.getEntity();if(!n)return!1;const r=e.getEntity(n);return"mention"===r.getType()&&(o=r.data.mention,!0)},(e,r)=>{o&&t.push({object_id:o.id,offset:n+e,length:r-e,tag_type:1})}),n+=1+r.getLength()}),t},h=({suggestions:e})=>e.map(e=>({...e,name:e.username})),p=({decoratorRect:e,popover:t,state:n,props:r,...a})=>{const c=(e.x||e.left)+t.offsetWidth,l=(e.y||e.top)+t.offsetHeight,{top:d,left:u}=i()({decoratorRect:e,popover:t,state:n,props:r});let h=null;c>window.innerWidth&&(h=parseFloat(u)-c%window.innerWidth+"px");let p="",f=parseFloat(d)+5+"px";return l>window.innerHeight&&(p="translateY(-100%)",f=parseFloat(d)-20+"px"),{display:"block",top:f,left:h||u,zIndex:new o.m([s.a]).index(),transform:p}}},hMpd:function(e,t,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset(),a=this.getEndOffset();return t<=o&&o<=n||t<=a&&a<=n}if(e!==r&&e!==i)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n("zVay").Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},hUD8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVT4"),i=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=r.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=r.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=i},hlDC:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("1dBE");const{Provider:i,Consumer:o,useHook:a}=Object(r.c)("ExperimentContext")},hpMJ:function(e,t,n){var r=n("Gn5D").notEmptyKey;function i(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:i(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return n=s===c.getLength()?null:c.getEntityAt(s),i(e.getEntityMap(),n)}},hyAj:function(e,t,n){var r=n("DYKh");e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},"i/p3":function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("Ye/N"),a=n("qD10"),s=n("8BbR"),c=n("WjpJ"),l=n.n(c),d=n("ANjH"),u=n("U4JR"),h=n("gdcG"),p=n("n6mq");function f({pin:e}){return Object(r.jsx)(p.B,{rounding:4,width:138,children:Object(r.jsx)(s.a,{height:207,pin:e&&{imageUrl:e.images["474x"].url,dominantColor:e.dominant_color,description:e.description},width:138})})}t.a=Object(d.compose)(Object(i.connect)((e,t)=>{const n=e.stories[t.storyId];return n&&"board_ideas_preview_detailed"===n.story_type?{story:n}:{story:void 0}}),h.a)((function({collection:e,hoverHandlers:t,isHovering:n,story:i,url:s}){if(!i)return null;const c=i.objects.reduce((e,t)=>e.concat("pin"===t.type?[t]:[]),[]);return Object(r.jsx)("div",{className:"moreIdeasOnBoard",children:Object(r.jsx)(a.a,{to:`${s}?ideas_referrer=${i.referring_source}`,onClick:()=>Object(u.b)(101,{element:10600,view:"board_section"===e.type?164:5,objectId:e.id,viewParameter:3069}),children:Object(r.jsx)(p.T,{fullWidth:!1,onMouseEnter:t.onMouseOver,onMouseLeave:t.onMouseLeave,rounding:4,children:Object(r.jsxs)(p.e,{alignItems:"start",color:n?"lightGray":"white",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[Object(r.jsx)(p.e,{padding:2,children:Object(r.jsx)(p.t,{size:"sm",truncate:!0,children:"board_section"===e.type?o.a._("Find some ideas for this section:","Call-to-action text that upsells more ideas tab for an empty section","Call-to-action text that upsells more ideas tab for an empty section"):o.a._("Find some ideas for this board:","Call-to-action text that upsells more ideas tab for an empty board","Call-to-action text that upsells more ideas tab for an empty board")})}),Object(r.jsx)(p.e,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:l()(0,5).map(e=>{const t=c[e];return Object(r.jsx)(p.e,{children:Object(r.jsx)(f,{pin:t})},""+(t?t.id:e))})})]})})})})}))},i6L0:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("/MKj"),i=n("OWXb"),o=n("nGHF"),a=n("vVEi");function s(){const e=Object(r.useDispatch)(),{showToast:t}=Object(o.b)();return{showBlockingActionToast:({actionType:n,board:r,section:o})=>{t(Object(a.f)("inProgress",n,r,o)),Object(a.c)({check:()=>e(Object(i.a)(r.id)).then(e=>!Object(a.e)({blockingActions:e,actionType:n,boardId:r.id,sectionId:o&&o.id})),checkDelay:a.a,checkInterval:a.b,onComplete:()=>t(Object(a.f)("completed",n,r,o))})}}}},i97C:function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n("/MKj"),o=n("1inl"),a=n("Ye/N"),s=n("4TDQ"),c=n("Sp3T"),l=n("i6L0"),d=n("U4JR");function u({board:e}){const[t,n]=Object(r.useState)(null),u=Object(i.useDispatch)(),{showBlockingActionToast:h}=Object(l.a)(),p=Object(c.a)(),f=Object(r.useCallback)(()=>p(()=>{if(!t)return;const{source:r,target:i}=t;n(null),Object(d.b)(7173,{objectId:r.id,merge_flow:"dnd"}),u(Object(s.a)(e.id,r.id,i.id)).then(()=>{h({actionType:"merge",board:e,section:i})}).catch(e=>{o.a.showError(e.message||a.a._("Failed to merge sections","useSectionMergeAction.errorMessage","Error message when failed to merge sections"))})}),[null==t?void 0:t.source,null==t?void 0:t.target]);return{handleShowMergeSectionsConfirmationModal:(e,t)=>p(()=>{n({source:e,target:t})}),mergeConfirmationModalProps:t,onConfirm:f}}},iBcn:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default={keyBindingFn:function(e){return(0,r.getDefaultKeyBinding)(e)}}},iTI2:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("U4JR");function i(){Object(r.b)(101,{element:10776,component:13216,view:5,viewParameter:3069})}},icWV:function(e,t,n){var r=n("Lakr");e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},ilWa:function(e,t,n){var r=n("vYwu"),i=n("zVay");e.exports=function(e,t,n){var o=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),d=o.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(i.OrderedMap([[c,o.get(c)]])).map((function(e,t){var i=t===a?s:0,o=t===c?l:e.getLength();return r(e,i,o,n)}));return e.merge({blockMap:o.merge(d),selectionBefore:t,selectionAfter:t})}},iuhU:function(e,t,n){function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.r(t),t.default=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},"j+6V":function(e,t,n){var r=n("fxrM");function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},jCsd:function(e,t,n){var r={isImage:function(e){return"image"===i(e)[0]},isJpeg:function(e){var t=i(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function i(e){return e.split("/")}e.exports=r},jH4x:function(e,t,n){var r=n("3sOJ");e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},jHGc:function(e,t,n){n.r(t),n.d(t,"PinRepEditButton",(function(){return s}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("dtqy"),a=n("n6mq");function s({handlePinEditButtonClick:e,style:t,useLegoStyles:n=!1,usePersistentOneClickSaveStyles:o,wrappingIconStyle:s,shouldUseLegoStyles:c,onDelete:l}){const d=Object(r.jsx)(a.v,{accessibilityLabel:i.a._("Edit","edit button on pin","edit button on pin"),bgColor:t&&t.bgColor||"white",icon:"edit",iconColor:t&&t.iconColor||"darkGray",onClick:({event:t})=>e(t),size:t&&t.size||"md"});return c?Object(r.jsx)(a.f,{size:"lg",color:"gray",text:i.a._("Saved","PinRepEditButton.SavedButton","saved button on pin"),onClick:l,accessibilityLabel:i.a._("Pin Saved Button","PinRepEditButton.SavedButtonLabel","saved button label on pin"),selected:!0}):n||o?Object(r.jsx)("div",{style:{...s||{}},children:d}):d}t.default=Object(o.a)(s)},jaOL:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fOPN");t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var r=n("nKUr"),i=(n("q1tI"),n("8cMa")),o=n("JW66"),a=n("Ye/N"),s=n("n6mq");function c(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,i,o)=>{if(n.length>0&&e&&e.length){const a=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(Object(r.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(a,a+e.length)},o),i)}return[i]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:l,isSelectMode:d,isWithinSectionPicker:u,saveState:h,searchQuery:p,selected:f}=e,b=l?null:n,g=l?n:null,m=g&&g.title||b&&b.name||"";let v="",y=!1,j="",_=0;b&&({image_cover_url:v,is_collaborative:y,privacy:j,section_count:_=0}=b);const O=c(p,m),x=j===o.a.BoardPrivacy.SECRET,w=!t&&(f||!!h),S=!u&&_>0,C=_>0?"boardWithSection":"boardWithoutSection",I=d?a.a._("Select","Board select button label","Board select button label"):a.a._("Save","Pin save button label","Pin save button label");return Object(r.jsxs)(s.e,{alignItems:"center",color:w?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":C,children:[b?Object(r.jsx)(s.e,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:v?Object(r.jsx)(s.w,{src:v,alt:m,fit:"cover",naturalWidth:1,naturalHeight:1}):Object(r.jsx)("span",{})}):Object(r.jsx)(s.e,{height:36,paddingX:2}),Object(r.jsxs)(s.e,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow",children:[Object(r.jsx)(s.U,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold",children:O}),(S||!w)&&Object(r.jsxs)(s.e,{alignItems:"center",display:"flex",children:[x&&Object(r.jsx)(i.a,{type:"secret"}),y&&Object(r.jsx)(i.a,{type:"group"}),S&&Object(r.jsx)(i.a,{type:"sections"})]}),!S&&w&&!h&&Object(r.jsxs)(s.e,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:[!d&&Object(r.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}},children:Object(r.jsx)(s.u,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})}),Object(r.jsx)(s.U,{color:"white",overflow:"normal",size:"md",weight:"bold",children:I})]}),!S&&w&&"loading"===h&&Object(r.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:Object(r.jsx)(s.O,{accessibilityLabel:a.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},jiHH:function(e,t,n){},jirY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/ZYE"),i=n("H3Jb"),o=n("q1tI"),a=n("2S0S");t.useDrag=function(e){var t=o.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=i.useDragSourceMonitor(),s=n[0],c=n[1];i.useDragHandler(t,s,c);var l=r.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),d=o.useMemo((function(){return c.hooks.dragSource()}),[c]),u=o.useMemo((function(){return c.hooks.dragPreview()}),[c]);return o.useEffect((function(){c.dragSourceOptions=t.current.options||null,c.reconnect()}),[c]),o.useEffect((function(){c.dragPreviewOptions=t.current.previewOptions||null,c.reconnect()}),[c]),[l,d,u]}},jl1W:function(e,t,n){var r=n("4XrY"),i=n("fyOY"),o=n("Iq8E"),a=n("3sOJ"),s=n("pMlp"),c=n("4pIB"),l=n("WJOU"),d=n("0IKU"),u=n("Zgb7"),h=n("hpMJ"),p=n("qysv"),f=c.isBrowser("IE"),b=!1,g=!1,m=null;var v={onCompositionStart:function(e){g=!0,function(e){m||(m=new r(d(e))).start()}(e)},onCompositionEnd:function(e){b=!1,g=!1,setTimeout((function(){b||v.resolveComposition(e)}),20)},onSelect:l,onKeyDown:function(e,t){if(!g)return v.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!g){var t=p(m).stopAndFlushMutations();m=null,b=!0;var n=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=o.decode(t),c=s.blockKey,l=s.decoratorKey,d=s.leafKey,u=n.getBlockTree(c).getIn([l,"leaves",d]),p=u.start,f=u.end,b=n.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:p,focusOffset:f,isBackward:!1}),g=h(r,b),m=r.getBlockForKey(c).getInlineStyleAt(p);r=i.replaceText(r,b,e,m,g),n=a.set(n,{currentContent:r})}));var s=u(n,d(e)).selectionState;e.restoreEditorDOM();var c=f?a.forceSelection(n,s):a.acceptSelection(n,s);e.update(a.push(c,r,"insert-characters"))}else e.update(n)}}};e.exports=v},juW8:function(e,t,n){n.d(t,"a",(function(){return r}));const r={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},jxrL:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("X6C7")),r(n("1tpI")),r(n("eiom"))},jyDg:function(e,t,n){var r=n("fyOY"),i=n("Iq8E"),o=n("3sOJ"),a=n("4pIB"),s=n("Gn5D").notEmptyKey,c=n("kc9Y"),l=n("3Br+"),d=n("qysv"),u=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,h=n.isCollapsed,p=(null==a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null==a?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(null!=a&&!p){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var f=a.parentNode;if(null==f)return;a.nodeValue=f.textContent;for(var b=f.firstChild;null!=b;b=b.nextSibling)b!==a&&f.removeChild(b)}var g=a.textContent,m=e._latestEditorState,v=d(c(a)),y=i.decode(v),j=y.blockKey,_=y.decoratorKey,O=y.leafKey,x=m.getBlockTree(j).getIn([_,"leaves",O]),w=x.start,S=x.end,C=m.getCurrentContent(),I=C.getBlockForKey(j),E=I.getText().slice(w,S);if(g.endsWith("\n\n")&&(g=g.slice(0,-1)),g!==E){var k,D,T,M,P=m.getSelection(),B=P.merge({anchorOffset:w,focusOffset:S,isBackward:!1}),A=I.getEntityAt(w),R=s(A)?C.getEntity(A):null,L="MUTABLE"===(null!=R?R.getMutability():null),N=L?"spellcheck-change":"apply-entity",z=r.replaceText(C,B,g,I.getInlineStyleAt(w),L?I.getEntityAt(w):null);if(u)k=n.anchorOffset,D=n.focusOffset,M=(T=w+Math.min(k,D))+Math.abs(k-D),k=T,D=M;else{var F=g.length-E.length;T=P.getStartOffset(),M=P.getEndOffset(),k=h?M+F:T,D=M+F}var U=z.merge({selectionBefore:C.getSelectionAfter(),selectionAfter:P.merge({anchorOffset:k,focusOffset:D})});e.update(o.push(m,U,N))}else{var q=t.nativeEvent.inputType;if(q){var K=function(e,t){switch(e){case"deleteContentBackward":return l(t)}return t}(q,m);if(K!==m)return e.restoreEditorDOM(),void e.update(K)}}}}},k9Pu:function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("9WJf"),a=n("0Rm8"),s=n("n6mq");t.a=Object(i.connect)(({pins:e},{board:t,selectedPinIds:n})=>({removeIsDisabled:!Object(o.a)({action:5,board:t})&&!!n.find(t=>!(!e[t]||!e[t].access||e[t].access.includes("write")))}),()=>({}))((function(e){const{children:t,paddingY:n=0,removeIsDisabled:i}=e;return Object(r.jsx)(a.a,{children:e=>Object(r.jsx)(s.P,{zIndex:new s.p(2),top:e,children:Object(r.jsx)(s.e,{color:"white",display:"flex",justifyContent:"center",paddingY:n,children:Object(r.jsx)(s.e,{maxWidth:768,width:"100%",children:t({removeIsDisabled:i})})})})})}))},kDkJ:function(e,t,n){var r=n("YeVe"),i=n("lFJn"),o=n("grng"),a=n("fyOY"),s=n("PQhE"),c=n("3sOJ"),l=n("Nx4+"),d=n("hpMJ"),u=n("HKS5"),h=n("T401"),p=n("RK+W");function f(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var b=n.getFiles(),g=n.getText();if(b.length>0){if(e.props.handlePastedFiles&&h(e.props.handlePastedFiles(b)))return;return void u(b,(function(t){if(t=t||g){var n=e._latestEditorState,o=p(t),u=i.create({style:n.getCurrentInlineStyle(),entity:d(n.getCurrentContent(),n.getSelection())}),h=l.getCurrentBlockType(n),f=s.processText(o,u,h),b=r.createFromArray(f),m=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),b);e.update(c.push(n,m,"insert-fragment"))}}))}}var m=[],v=n.getText(),y=n.getHTML(),j=e._latestEditorState;if(e.props.formatPastedText){var _=e.props.formatPastedText(v,y);v=_.text,y=_.html}if(!e.props.handlePastedText||!h(e.props.handlePastedText(v,y,j))){if(v&&(m=p(v)),!e.props.stripPastedStyles){var O,x=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&x){if(-1!==(null===(O=y)||void 0===O?void 0:O.indexOf(e.getEditorKey()))||1===m.length&&1===x.size&&x.first().getText()===v)return void e.update(f(e._latestEditorState,x))}else if(x&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(m,x))return void e.update(f(e._latestEditorState,x));if(y){var w=s.processHTML(y,e.props.blockRenderMap);if(w){var S=w.contentBlocks,C=w.entityMap;if(S){var I=r.createFromArray(S);return void e.update(f(e._latestEditorState,I,C))}}}e.setClipboard(null)}if(m.length){var E=i.create({style:j.getCurrentInlineStyle(),entity:d(j.getCurrentContent(),j.getSelection())}),k=l.getCurrentBlockType(j),D=s.processText(m,E,k),T=r.createFromArray(D);e.update(f(e._latestEditorState,T))}}}},kE58:function(e,t,n){var r=n("pMlp");e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},kGJw:function(e,t,n){var r=n("dt0z"),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},"kT2/":function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("JW66"),a=n("Ye/N"),s=n("n6mq");const c=e=>{const t=e.split("\n");t.push("");const n=[];let r,i=[];return t.forEach(e=>{const t=e.indexOf("•");t>-1?(r||(r=""),i.push(e.substring(t+1).trim())):((r||i.length>0)&&n.push({heading:r,items:i}),r=e,i=[])}),n},l=e=>{let t="";return e.forEach((n,r)=>{const{heading:i,items:o}=n;i&&(t+=i),o&&o.length>0&&(t+="\n• "+o.join("\n• ")),r<e.length-1&&(t+="\n\n")}),t};t.a=function({header:e,helperText:t,listBlocks:n,onUpdate:d,placeholderListBlocks:u}){const h=l(u||[{heading:a.a._("What you'll need","storyboard.detailsList.placeholder","Placeholder text header for details list of story Pin"),items:[a.a._("Write a bullet list of tools, materials and anything else!","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin"),a.a._("Type it up or copy and paste.","storyboard.detailsList.placeholder","Placeholder text instructions for details list of story Pin")]}]),[p,f]=Object(i.useState)(n?l(n):"");return Object(r.jsx)(s.e,{children:Object(r.jsx)(s.V,{id:"storyboard-details-list",helperText:t,label:e,onChange:({value:e})=>{f(e),d(c(e))},onBlur:()=>{""===p.trim()&&f("")},onKeyDown:({event:e,value:t})=>{const{keyCode:n,target:r,shiftKey:i}=e;if(r instanceof HTMLTextAreaElement){const{selectionStart:a,selectionEnd:s}=r;if(a===s){let s=0,l=0,u="";if(n===o.a.KeyCode.ENTER?"\n• "!==t.substring(a-3,a)||"\n"!==t.substring(a,a+1)&&a!==t.length?i||"\n"===t.substring(a-1,a)||(s=0,u="\n• "):(s=-3,u="\n"):n!==o.a.KeyCode.BACKSPACE&&n!==o.a.KeyCode.DELETE||("\n• "===t.substring(a-3,a)?s=-3:"\n•"===t.substring(a-2,a)?s=-2:"\n"===t.substring(a-1,a)&&"•"===t.substring(a,a+1)&&(s=-1,l=1)),0!==s||0!==l||""!==u){const n=t.substring(0,a+s)+u+t.substring(a+l);f(n);const i=a+s+u.length;setTimeout(()=>{r.selectionStart=i,r.selectionEnd=i},10),d(c(n)),e.preventDefault()}}}},placeholder:h,rows:7,value:p})})}},kWjT:function(e,t,n){n("Z6/o");e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(t>o){var c=r.getKeyBefore(i);if(null==c)a=i;else a=c,s=r.getBlockForKey(c).getText().length}else s=o-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},ka8t:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y"),i=a(n("eATT")),o=a(n("P1kZ"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n,a,s){var c=e.getCurrentContent().createEntity((0,o.default)(a),s,{mention:t}).getLastCreatedEntityKey(),l=e.getSelection(),d=(0,i.default)(e,l,a),u=d.begin,h=d.end,p=l.merge({anchorOffset:u,focusOffset:h}),f=r.Modifier.replaceText(e.getCurrentContent(),p,""+n+t.name,null,c),b=p.getAnchorKey();e.getCurrentContent().getBlockForKey(b).getLength()===h&&(f=r.Modifier.insertText(f,f.getSelectionAfter()," "));var g=r.EditorState.push(e,f,"insert-mention");return r.EditorState.forceSelection(g,f.getSelectionAfter())}},kc9Y:function(e,t,n){var r=n("F09w"),i=n("zORg");e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}},"ks/r":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("nKUr"),i=n("q1tI"),o=n("LT60"),a=n("L2iP"),s=n("N/FO"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),l(this,"state",{animation:null,visible:!1}),l(this,"setRef",e=>{this.element||(this.element=e,e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragleave",this.handleDragLeave))}),l(this,"handleDragOver",()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,n=Object(s.a)({window,duration:1/0,run:(e,n,r)=>{const i=n<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+i*t*r)}});n.start(),this.setState({animation:n})}}),l(this,"handleDragLeave",()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))}),l(this,"element",null),l(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:n}=this.state;return Object(r.jsx)(c.e,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:n?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:Object(r.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:a.a;return Object(r.jsx)(o.a,{children:Object(r.jsx)(c.y,{children:Object(r.jsxs)(c.e,{children:[Object(r.jsx)(d,{placement:"top",height:120+t}),Object(r.jsx)(d,{placement:"bottom",height:120})]})})})}},lFJn:function(e,t,n){var r=n("zVay"),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),c={style:s,entity:null},l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return d;var t=i({style:s,entity:null}).merge(e),n=u.get(t);if(n)return n;var o=new r(t);return u=u.set(t,o),o},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?o(t):t,entity:Array.isArray(n)?o(n):n})},r}(a(c)),d=new l,u=i([[i(c),d]]);l.EMPTY=d,e.exports=l},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ");e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},lUWX:function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("nKUr"),i=(n("q1tI"),n("TSYQ")),o=n.n(i),a=n("Ye/N"),s=n("G35+"),c=n("+zF7"),l=n("n6mq");const{FACEBOOK:d,GPLUS:u,YAHOO:h}=s.a,p="40px";function f(e){const t={[d]:a.a._("Find friends from Facebook"),[u]:a.a._("Find friends from Google+"),[h]:a.a._("Find friends from Yahoo")},{network:n}=e;return Object(r.jsx)(l.T,{onTap:()=>function(e){c.a.instance().handleConnect(e,!0,{})}(n),children:Object(r.jsxs)(l.e,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[Object(r.jsx)(l.e,{width:p,height:p,marginEnd:4,children:Object(r.jsx)("div",{className:"SocialConnectCell",children:Object(r.jsx)("div",{className:o()("icon","socialConnect-"+n),children:Object(r.jsx)("em",{})})})}),Object(r.jsx)(l.e,{display:"flex",flex:"grow",alignItems:"start",direction:"column",children:Object(r.jsx)(l.U,{color:"darkGray",size:"md",weight:"bold",children:t[n]})})]})})}},lXCh:function(e,t,n){},lh2y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Bfq7"),i=n("NFjV");t.createNativeDragSource=function(e){return new i.NativeDragSource(r.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.nativeTypesConfig).filter((function(e){return r.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},lihF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},lnQP:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("zUcL"),c=n("Ye/N"),l=n("Hz/G"),d=n("n6mq"),u=n("w70y");function h({label:e,path:t,selected:n}){return Object(r.jsx)(d.u,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:t},color:n?"darkGray":"gray",size:24})}function p({selected:e}){return Object(r.jsx)(h,{label:c.a._("Dense","Label for selecting the dense pin density view","Label for selecting the dense pin density view"),path:"M16.00,20.00 L20.00,20.00 L20.00,16.00 L16.00,16.00 L16.00,20.00 Z M10.00,8.00 L10.00,4.00 L14.00,4.00 L14.00,8.00 L10.00,8.00 Z M4.00,8.00 L4.00,4.00 L8.00,4.00 L8.00,8.00 L4.00,8.00 Z M16.00,8.00 L16.00,4.00 L20.00,4.00 L20.00,8.00 L16.00,8.00 Z M4.00,14.00 L4.00,10.00 L8.00,10.00 L8.00,14.00 L4.00,14.00 Z M10.00,14.00 L10.00,10.00 L14.00,10.00 L14.00,14.00 L10.00,14.00 Z M16.00,14.00 L16.00,10.00 L20.00,10.00 L20.00,14.00 L16.00,14.00 Z M4.00,20.00 L4.00,16.00 L8.00,16.00 L8.00,20.00 L4.00,20.00 Z M10.00,20.00 L10.00,16.00 L14.00,16.00 L14.00,20.00 L10.00,20.00 Z",selected:e})}function f({selected:e}){return Object(r.jsx)(h,{label:c.a._("Regular","Label for selecting the regular pin density view","Label for selecting the regular pin density view"),path:"M13.00,20.00 L13.00,13.00 L20.00,13.00 L20.00,20.00 L13.00,20.00 Z M4.00,11.00 L4.00,4.00 L11.00,4.00 L11.00,11.00 L4.00,11.00 Z M13.00,11.00 L13.00,4.00 L20.00,4.00 L20.00,11.00 L13.00,11.00 Z M4.00,20.00 L4.00,13.00 L11.00,13.00 L11.00,20.00 L4.00,20.00 Z",selected:e})}var b=n("t3tn"),g=n("ANjH");class m extends o.a.Component{constructor(...e){var t,n,r;super(...e),r=({activeIndex:e})=>{const{viewType:t,component:n,pinView:r}=this.props,i=0===e?"regular":"dense";Object(l.a)({boardDensity:i,component:n,surface:r,viewType:t})},(n="handleItemChange")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidUpdate(){const{dispatch:e,metadata:t,pinView:n,updatedBoardPinDensity:r}=this.props;if(t&&t.data&&""===r){const{profile_pin_rep_view_type:r,board_pin_rep_view_type:i}=t.data;"board"===n&&e(r?Object(b.a)(r):Object(b.a)("regular")),"profile"===n&&e(i?Object(b.d)(i):Object(b.d)("regular"))}}render(){const{metadata:e,updatedBoardPinDensity:t}=this.props;if(!e||!e.data)return null;const n="dense"===t?1:0;return Object(r.jsx)("div",{className:"OwnBoardSelector",children:Object(r.jsx)(d.L,{items:[Object(r.jsx)(f,{selected:"regular"===t}),Object(r.jsx)(p,{selected:"dense"===t})],onChange:this.handleItemChange,selectedItemIndex:n,responsive:!0})})}}var v=Object(g.compose)(Object(a.connect)((function({ui:e,viewer:t},{pinView:n}){return{updatedBoardPinDensity:e.views&&e.views[n+"PinView"],viewer:t}})),Object(u.b)({name:"UserMetadataResource",key:"metadata",options:e=>({user:{id:e.viewer.username}}),allowStale:!1}))(m),y=n("v/Q4"),j=n("sxkF"),_=n("MD/U");function O({board:e,currentView:t,inBoardOrganizationMode:n,onContentViewChange:i,onOrganizeClick:a,pinCount:s,showSortOptions:l}){const u=Object(y.a)();return Object(r.jsxs)(d.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,children:[Object(r.jsx)(d.e,{paddingX:1,flex:"grow",children:Object(r.jsx)(d.t,{children:c.a._("Pins","Heading for Pins outside of board sections on board page","Heading for Pins outside of board sections on board page")})}),l&&Object(j.c)(s)&&Object(r.jsx)(d.e,{paddingX:2,children:Object(r.jsx)(j.a,{currentView:t,onChange:i,board:e,viewer:u})}),s>=_.b&&Object(r.jsxs)(o.a.Fragment,{children:[s>=_.a&&Object(r.jsx)(v,{viewType:5,component:13183,pinView:"board"}),!n&&Object(r.jsx)(d.e,{paddingX:2,children:Object(r.jsx)(d.f,{text:c.a._("Organize","The board organization button","The board organization button"),onClick:a})})]})]})}var x=n("KFEb"),w=n("6SCp"),S=n("P2Et");const C=Object(g.compose)(Object(a.connect)((e,t)=>Object(S.b)(e.feeds[x.a.BOARD_PINS][t.board.id])),Object(u.b)({name:"BoardFeedResource",key:"resource",options:e=>Object(w.a)(e.board,e.viewer,e.currentView,e.currentFilter)}))(S.a);C.displayName="BoardSectionlessPinGrid";var I=C,E=n("qD10");var k=({children:e,shouldNavigate:t,to:n})=>t?Object(r.jsx)(E.a,{to:n,children:e}):e,D=n("eBDd");var T=e=>{const{numberOfSelectedPins:t}=e;return Object(r.jsx)(d.e,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:Object(r.jsx)(d.e,{color:"white",padding:3,rounding:"pill",children:Object(r.jsx)(d.U,{weight:"bold",children:Object(D.a)(c.a.ngettext("Move {{ count }} Pin here","Move {{ count }} Pins here",t,"Call to action overlay on a section to move selected Pins","Call to action overlay on a section to move selected Pins"),{count:t})})})})},M=n("WjpJ"),P=n.n(M);const B=157,A=141,R=118,L=106;function N(e){return"dense"===e?2:3}function z(e){return(("dense"===e?R:L)+1)*N(e)-1}function F({isHovered:e,mode:t,pins:n}){const i=N(t),o="dense"===t,a=o?B:A,s=o?R:L,c=z(t);return Object(r.jsx)(d.B,{rounding:4,width:c,children:Object(r.jsxs)(d.e,{display:"flex",children:[Object(r.jsx)(d.e,{bottom:!0,dangerouslySetInlineStyle:{__style:e?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),P()(i).map(e=>{const t=e===i-1,o=n[e];return Object(r.jsx)("div",{style:{paddingRight:!t&&1},children:Object(r.jsx)(d.B,{height:a,width:s,rounding:0,wash:!0,children:o&&Object(r.jsx)(d.w,{alt:o.description,color:"transparent",fit:"cover",naturalHeight:o.image_large_size_pixels.height,naturalWidth:o.image_large_size_pixels.width,src:o.image_large_url})})},e)})]})})}var U=n("0NP8");function q({children:e,mode:t}){return"dense"===t?Object(r.jsx)(d.U,{weight:"bold",children:e}):Object(r.jsx)(d.t,{size:"sm",truncate:!0,children:e})}function K({children:e,displayEditIcon:t,mode:n,mouseCursor:i,onEditClick:o,onTouch:a,pinCount:s,title:l}){const u=Object(r.jsxs)(d.e,{children:[Object(r.jsxs)(d.e,{position:"relative",children:[e,t&&Object(r.jsx)(d.e,{position:"absolute",bottom:!0,right:!0,children:Object(r.jsx)(d.e,{padding:2,children:Object(r.jsx)(d.v,{bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:o,accessibilityLabel:c.a._("Edit","BoardSectionCard.SectionRep.EditIcon","accessibility label for the board section name edit button"),accessibilityHaspopup:!0,size:"sm"})})})]}),Object(r.jsx)(d.e,{alignItems:"start",display:"flex",justifyContent:"between",width:z(n),children:Object(r.jsxs)(d.e,{padding:2,flex:"grow",children:[Object(r.jsx)(q,{mode:n,children:l}),Object(r.jsx)(d.e,{marginTop:1,children:Object(r.jsx)(U.b,{count:s,size:"sm"})})]})})]});return a?Object(r.jsx)(d.T,{fullWidth:!1,mouseCursor:i,onTap:a,rounding:4,children:u}):u}var H=e=>{const{board:t,boardSection:n,canEdit:i,focused:s,hovered:c,inOrganizationMode:l,isDragging:u,isMergeTarget:h,onBlur:p,oneTapMovePinsHandler:f,onFocus:b,onMouseEnter:g,onMouseLeave:m,onShowEditSectionModal:v}=e,{slug:y,title:j,preview_pins:_=[]}=n,O=Object(a.useSelector)(({ui:e})=>e.views.boardPinView),x=f&&f.numberOfSelectedPins;let w;x&&f&&(w=()=>{f.moveToSection(n)});let S="pointer";u?S="grabbing":!x&&l&&(S="grab");const C=!!i&&!u&&(c||s),I=f&&f.numberOfSelectedPins>0&&!!x&&c&&!u&&Object(r.jsx)(T,{numberOfSelectedPins:f.numberOfSelectedPins});return Object(r.jsxs)(d.e,{alignItems:"center",color:"white",direction:"row",display:"flex",onBlur:p,onFocus:b,onMouseEnter:g,onMouseLeave:m,position:"relative",rounding:2,children:[Object(r.jsx)(k,{shouldNavigate:!l,to:`${t.url}${y}/`,children:Object(r.jsx)(K,{displayEditIcon:C,mode:O,mouseCursor:S,onEditClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),v(n)},onTouch:w,pinCount:n.pin_count,title:j,children:Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(F,{isHovered:c||h||s,mode:O,pins:_}),I]})})}),Object(r.jsx)("div",{className:"sectionHoverSurface"})]})},W=n("ks/r"),V=n("7pfs"),G=n("9X5u"),Y=n("rg+c"),J=n("9ip6");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends i.Component{constructor(...e){super(...e),X(this,"state",{dragDrop:null,sectionIds:this.props.sections.map(e=>e.id)}),X(this,"cancelHoverTimeout",()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null}),X(this,"dragHoverTimeout",null),X(this,"isDragging",()=>!!this.state.dragDrop),X(this,"handleSectionDragBegin",e=>{this.setState({dragDrop:{previewIndex:e,sourceIndex:e,target:null}})}),X(this,"handleSectionDragHover",(e,t)=>{const{dragDrop:n}=this.state,r=this.props.allowReordering;if(!t||!n)return;const{previewIndex:i}=n,o=Object(J.a)({hoverRelativePosition:t,centerEnabled:e!==i&&r}),a={itemIndex:e,regionWithinItem:o};if(this.dragHoverTimeout&&Object(J.c)(a,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const s="center"===o?"merge":"reorder",c={action:s,index:Object(J.b)({hoverLocation:a,sourceIndex:i})};c.index!==i?this.dragHoverTimeout={hoverLocation:a,timeoutId:setTimeout(()=>{this.dragHoverTimeout=null,"reorder"===s?this.setState({dragDrop:{...this.state.dragDrop,target:c,previewIndex:c.index},sectionIds:Object(x.c)(this.state.sectionIds,i,c.index)}):this.setState({dragDrop:{...this.state.dragDrop,target:c}})},"reorder"===s?200:20)}:n.target&&n.target.index!==c.index&&this.setState({dragDrop:{...n,target:c}})}),X(this,"handleSectionDragEnd",e=>{const{sections:t,onShowMergeSectionsConfirmationModal:n,onSectionReorder:r}=this.props,{dragDrop:i,sectionIds:o}=this.state,a=i&&i.target;if(this.cancelHoverTimeout(),!e||!i||!a||a.index===i.sourceIndex)return void this.setState({dragDrop:null,sectionIds:t.map(e=>e.id)});const{previewIndex:s,sourceIndex:c}=i,{action:l,index:d}=a;if(this.setState({dragDrop:null}),"merge"===l){const e=e=>{const n=o[e];return n&&t.find(({id:e})=>e===n)},r=e(s),i=e(d);r&&i&&n(r,i)}else r(c,d)}),X(this,"renderSection",(e,t)=>{const{allowReordering:n,board:i,canEdit:o,oneTapMovePinsHandler:a,onShowEditSectionModal:s,organizeMode:c}=this.props,{dragDrop:l}=this.state,u=l&&l.target;return Object(r.jsx)(d.e,{padding:2,children:Object(r.jsx)(V.a,{children:({focused:l,hovered:d,onBlur:h,onFocus:p,onMouseEnter:f,onMouseLeave:b})=>Object(r.jsx)(H,{allowReordering:n,board:i,boardSection:e,canEdit:o,focused:l,hovered:d,inOrganizationMode:c,isDragging:this.isDragging(),isMergeTarget:!!u&&"merge"===u.action&&t===u.index,onBlur:e=>{const t=e.currentTarget;setTimeout(()=>{t.contains(document.activeElement)||h()},0)},onFocus:p,onMouseEnter:f,onMouseLeave:b,oneTapMovePinsHandler:a,onShowEditSectionModal:s})})})})}componentDidUpdate(e){const{sections:t}=e,{sections:n}=this.props,r=e=>e.map(({id:e})=>e).join(",");if(t.length!==n.length&&r(t)!==r(n)){this.cancelHoverTimeout();const e=n.map(e=>e.id);this.setState({dragDrop:null,sectionIds:e})}}componentWillUnmount(){this.cancelHoverTimeout()}render(){const{allowReordering:e,connectDropTarget:t,isDragWithinBounds:n,sections:i}=this.props,{sectionIds:o}=this.state,a=this.isDragging(),s=i.reduce((e,t)=>({...e,[t.id]:t}),{}),c=Object(r.jsx)(d.e,{display:"flex",justifyContent:"center",marginStart:6,marginEnd:6,wrap:!0,children:o.map(e=>s[e]).filter(e=>!!e).map((t,i)=>Object(r.jsx)(d.e,{children:e?Object(r.jsx)(Y.b,{index:i,onDragBegin:this.handleSectionDragBegin,onDragEnd:this.handleSectionDragEnd,onDragHover:this.handleSectionDragHover,type:Y.a.Section,children:Object(r.jsx)("div",{style:{opacity:a&&!n?.5:1},children:this.renderSection(t,i)})}):Object(r.jsx)(d.e,{children:this.renderSection(t,i)})},t.id))});return Object(r.jsxs)(d.e,{width:"100%",children:[e&&t?t(Object(r.jsx)("div",{children:c})):c,a&&Object(r.jsx)(W.a,{})]})}}const Z=Object(G.a)(Y.a.Section)(Q);function $(e){const{allowReordering:t,fetchMore:n,isAtEnd:i,isFetching:o}=e;return Object(r.jsxs)(d.e,{width:"100%",children:[Object(r.jsx)(d.J,{isAtEnd:i,isFetching:o,fetchMore:n}),t?Object(r.jsx)(Z,{...e}):Object(r.jsx)(Q,{...e}),o&&!i&&Object(r.jsx)(d.e,{position:"relative",paddingY:6,children:Object(r.jsx)(d.O,{accessibilityLabel:c.a._("Loading sections","loading state for board sections","loading state for board sections"),show:!0})})]})}var ee=n("MaRn"),te=n("eOdZ");var ne=n("U4JR");class re extends i.Component{constructor(...e){var t,n,r;super(...e),r=(e,t)=>{const{board:n,dispatch:r,enableReordering:i,sections:o,viewParameter:a}=this.props;if(!i)return;const s=o[e].id,c=o[t].id,l=Object(x.c)(o,e,t).map(e=>e.id),d=l.indexOf(s),u=e=>e>=0&&e<l.length,h={boardId:n.id,sourceSectionId:s,targetSectionId:c,...u(d+1)?{sectionIdAfter:l[d+1]}:{},...u(d-1)?{sectionIdBefore:l[d-1]}:{}},p={objectId:s,view:5,viewParameter:a};var f;r((f=h,e=>{const{boardId:t,sectionIdBefore:n,sectionIdAfter:r,sourceSectionId:i,targetSectionId:o}=f;e(Object(ee.a)({feedType:x.a.BOARD_SECTIONS,feedId:t,itemType:"board_section",sourceItemId:i,targetItemId:o}));const a={section_id:i,section_before:n||void 0,section_after:r||void 0};return te.a.create("BoardSectionsReorderResource",a).callUpdate({showError:!1})})).then(()=>Object(ne.b)(7133,p))},(n="handleSectionReorder")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const{sectionsInvalidated:e,onLoadedAll:t,sectionsResource:{isFetching:n,refreshData:r,isAtEnd:i}}=this.props;e&&!n&&r(),i&&t()}componentDidUpdate(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}render(){const{board:e,enableReordering:t,inBoardOrganizationMode:n,oneTapMovePinsHandler:i,onShowEditSectionModal:o,onShowMergeSectionsConfirmationModal:a,sections:s,sectionsResource:l}=this.props,{isLoaded:u,isFetching:h,fetchMore:p,isAtEnd:f}=l;if(!u)return c.a._("Board sections loading spinner","BoardPage.BoardSections.loadingSpinner","Accessibility label for the spinner on board sections"),Object(r.jsx)(d.O,{accessibilityLabel:c.a._("Board sections loading spinner"),show:!0});const b=(e.access||[]).includes("write");return Object(r.jsx)(d.e,{justifyContent:"center",display:"flex",children:Object(r.jsx)($,{allowReordering:t,board:e,canEdit:b,fetchMore:p,isAtEnd:f,isFetching:h,oneTapMovePinsHandler:i,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:o,onShowMergeSectionsConfirmationModal:a,organizeMode:n,sections:s})})}}var ie=Object(g.compose)(Object(a.connect)((function(e,t){const{feeds:{[x.a.BOARD_SECTIONS]:n={}},sections:r}=e,{board:{id:i}}=t,o=n[i];return{sections:(o||[]).reduce((e,t)=>"board_section"===t.type&&r[t.id]?e.concat([r[t.id]]):e,[]),sectionsInvalidated:null===o}})),Object(u.b)({name:"BoardSectionsResource",key:"sectionsResource",options:e=>({board_id:e.board.id,redux_normalize_feed:!0})}))(re),oe=n("i/p3"),ae=n("79tv"),se=n("Sp3T");t.a=Object(a.connect)((function({boards:e,ui:t,viewer:n},{board:r}){const{views:{boardPinView:i}}=t,o=((e||{}).content||{})[r.id];return{boardPinView:i,sectionCount:(o?o.section_count:r.section_count)||0,viewer:n}}),()=>({}))((function({actions:e,board:t,boardPinView:n,bulkEditSelectedPins:o,currentFilter:a,currentView:c,displayActionBar:l,enableReordering:u,inBoardOrganizationMode:h,inSectionOrganizationMode:p,inSelectAll:f,isOwnBoard:b,isPinGridSorted:g,onBulkEditPinClick:m,onContentViewChange:v,oneTapMovePinsHandler:y,onPinDelete:j,onShowEditSectionModal:x,onShowMergeSectionsConfirmationModal:w,sectionCount:S,viewParameter:C,viewer:E}){const[k,D]=Object(i.useState)(0===S),T=Object(se.a)(),M=Object(ae.a)(t.url),{is_collaborative:P,pin_count:B}=t,A=(t.access||[]).includes("write"),R=b||t.collaborated_by_me,L=B>=_.c&&P&&R;return Object(r.jsxs)(d.e,{marginBottom:12,children:[Object(r.jsx)(s.a,{setMaxWidth:!1,children:Object(r.jsxs)(d.e,{children:[S>0&&Object(r.jsx)(ie,{board:t,enableReordering:u,inBoardOrganizationMode:h,inSectionOrganizationMode:p,oneTapMovePinsHandler:y,onLoadedAll:()=>D(!0),onShowEditSectionModal:x,onShowMergeSectionsConfirmationModal:w,viewParameter:C}),l&&k&&R&&S>0&&Object(r.jsx)(O,{board:t,currentView:c,inBoardOrganizationMode:h,onContentViewChange:v,onOrganizeClick:()=>T(()=>{const{onBoardOrganizeClick:t}=e;Object(ne.b)(101,{component:69,element:400}),t(!0)}),pinCount:B,showSortOptions:L})]})}),k&&Object(r.jsx)(d.e,{"data-test-id":"board-feed",dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},paddingX:3,position:"relative",children:Object(r.jsx)(I,{board:t,bulkEditSelectedPins:o,currentFilter:a,currentView:c,denseViewSelected:A&&"dense"===n,inBoardOrganizationMode:h,inSectionOrganizationMode:p,inSelectAll:f,isOwnBoard:b,isPinGridSorted:g,onBulkEditPinClick:m,onPinDelete:j,renderFooterStory:e=>!t.archived_by_me_at&&Object(r.jsx)(d.e,{marginBottom:6,children:Object(r.jsx)(s.a,{children:Object(r.jsx)(oe.a,{collection:t,storyId:e,url:M})})}),viewParameter:C,viewer:E})})]})}))},m75S:function(e,t,n){e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},mEMi:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n.n(r),o=n("DzJC"),a=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.a.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",e=>{this.containerRef=e}),s(this,"fetchMoreIfNecessary",a()(()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},r)=>e+t+(r?r(t):2*t)>n)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},mFyV:function(e,t,n){var r=function(e){};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},mHb8:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const r=(e,t)=>{const n="object"==typeof t.owner?t.owner.id:t.owner;return e.isAuth&&n===e.id},i=(e,t)=>e.isAuth&&t.collaborated_by_me,o=(e,t)=>r(e,t)?3069:3070},mLS1:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("Ye/N"),c=n("82UD"),l=n("tMjw"),d=n("n6mq");function u({handleTogglePinSelection:e,index:t,isSelected:n,pin:i}){return Object(r.jsx)(d.T,{onTap:()=>{e(t)},rounding:l.b,children:Object(r.jsx)(c.a,{attributionOption:"hide",blockClickEvents:!0,pin:i,pinId:i.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:n?"selected":"no-selection",surface:"BoardCoverSelectablePin",trackingParameters:{slotIndex:t}})})}var h=({boardPins:e,coverPinIndex:t,fetchMore:n,isLoaded:i,handleTogglePinSelection:o})=>i?Object(r.jsx)(d.C,{columnWidth:152,comp:({data:e,itemIdx:n})=>Object(r.jsx)(u,{handleTogglePinSelection:o,index:n,isSelected:t===n,pin:e}),gutterWidth:16,items:e||[],loadItems:n}):Object(r.jsx)(d.e,{padding:6,children:Object(r.jsx)(d.O,{show:!0,accessibilityLabel:s.a._("Loading","BoardCoverEdit.Accessibility.Label","accessibility label for loading spinner")})}),p=n("TgLd"),f=n("eOdZ"),b=n("Wrea"),g=n("yaUg");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return Object(r.jsx)("div",{className:"ImageCrop",children:Object(r.jsx)("div",{className:"holder",children:Object(r.jsx)(d.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(d.O,{accessibilityLabel:s.a._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0})})})})}const y={border:0,top:120};class j extends o.a.Component{constructor(...e){super(...e),m(this,"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),m(this,"handleUpdateImage",()=>{const e=this.image;if(!e)return;const t=e.offsetHeight,n=e.offsetWidth;this.setState({isSpinnerShown:!1,startBgPos:{left:-(n-this.state.holderWidth)/2,top:-(t-this.state.holderHeight)/2}})}),m(this,"handleOnMouseUp",()=>{this.isDragging=!1,this.setState({startBgPos:{left:this.getBgLeft(),top:this.getBgTop()},deltaX:0,deltaY:0}),this.props.updateImgCrop(this.getCropData())}),m(this,"isDragging",!1)}componentDidMount(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth}),document.body&&document.body.addEventListener("mouseup",this.handleOnMouseUp,!1)}componentDidUpdate(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}componentWillUnmount(){document.body&&document.body.removeEventListener("mouseup",this.handleOnMouseUp)}getFrameBounds(){const{frameHeight:e,frameWidth:t}=this.props,{holderHeight:n,holderWidth:r}=this.state;return{left:r/2-t/2,width:t,height:e,top:n/2-e/2}}getBgLeft(){const{frameWidth:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),i=r.imgHeight*n,o=r.imgWidth*n;let a=0;return i&&o&&(a=this.state.startBgPos.left+this.state.deltaX,a+o-e<t.left&&(a=t.left-o+e),a>t.left&&(a=t.left)),a}getBgTop(){const{frameHeight:e}=this.props,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),i=r.imgHeight*n,o=r.imgWidth*n;let a=0;return i&&o&&(a=this.state.startBgPos.top+this.state.deltaY,a+i-e<t.top&&(a=t.top-i+e),a>t.top&&(a=t.top)),a}getImgScale(){const{frameHeight:e,frameWidth:t}=this.props,{imgHeight:n,imgWidth:r}=this._getImageDimensions(),i=this.getFrameBounds();if(n&&r){let o=n/r;return o=o>=i.height/i.width?t/r:e/n,o}return 1}getImageBounds(){const{imgHeight:e,imgWidth:t}=this._getImageDimensions();let n={};if(e&&t){const r=this.getImgScale();n={width:r*t,height:r*e}}return n}getBgBounds(){return{left:this.getBgLeft(),top:this.getBgTop()}}getCropData(){const{frameHeight:e,frameWidth:t}=this.props,n=this.getFrameBounds(),r=this.getBgBounds(),i=this.getImgScale();return{cropX:Math.round(-(r.left-n.left)/i),cropY:Math.round(-(r.top-n.top)/i),height:Math.round(e/i),width:Math.round(t/i),scale:i}}handleOnMouseDown(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}handleOnMouseMove(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}_getImageDimensions(){const{pin:e}=this.props,t=e.images["236x"];return{imgHeight:t.height,imgWidth:t.width}}render(){const{boardName:e,frameHeight:t,frameWidth:n,isFirst:i,isLast:o,pin:a,showNextPin:c,showPrevPin:l}=this.props,{isSpinnerShown:u}=this.state,{imgHeight:h,imgWidth:p}=this._getImageDimensions(),f=this.getFrameBounds(),b=this.getImageBounds(),m=this.getBgBounds();let v="";return h&&p&&(v="in"),Object(r.jsxs)("div",{className:"ImageCrop",children:[Object(r.jsxs)("div",{className:"holder",ref:e=>{this.holder=e},children:[Object(r.jsx)("div",{className:"bg",style:m,children:Object(r.jsx)("img",{alt:Object(g.a)(s.a._("Board cover for {{ boardName }}"),{boardName:e}),className:v,onLoad:this.handleUpdateImage,ref:e=>{this.image=e},src:a.images["236x"].url,style:b})}),Object(r.jsxs)("div",{className:"mask",children:[Object(r.jsx)("span",{style:{top:0,left:0,right:0,height:f.top}}),Object(r.jsx)("span",{style:{top:f.top,left:f.left+n,right:0,height:t}}),Object(r.jsx)("span",{style:{top:t+f.top,left:0,right:0,bottom:0}}),Object(r.jsx)("span",{style:{top:f.top,left:0,width:f.left,height:t}})]}),Object(r.jsx)("div",{className:"frame",style:f}),Object(r.jsx)("div",{className:"drag",onMouseDown:e=>{this.handleOnMouseDown(e)},onMouseMove:e=>{this.handleOnMouseMove(e)}}),Object(r.jsx)("div",{className:"spinner",style:{display:u?"":"none"}})]}),i?null:Object(r.jsx)(d.e,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...y,left:100}},children:Object(r.jsx)(d.v,{icon:"arrow-back",accessibilityLabel:s.a._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:l})}),o?null:Object(r.jsx)(d.e,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:{...y,right:100}},children:Object(r.jsx)(d.v,{icon:"arrow-forward",accessibilityLabel:s.a._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:c})})]})}}m(j,"defaultProps",{frameHeight:236,frameWidth:236});var _=n("w70y");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return e.reduce((e,t)=>("pin"===t.type&&e.push(t),e),[])}function w({boardFeedResource:{data:e},coverPinId:t}){return Math.max(0,x(e||[]).findIndex(e=>e.id===t))}class S extends o.a.Component{constructor(...e){super(...e),O(this,"state",{coverPinIndex:w(this.props),imgCropData:null,previousBoardFeedResourceData:null}),O(this,"handleSave",()=>{const{boardId:e,dispatch:t,inWebBoardModalExp:n}=this.props,{coverPinIndex:r,imgCropData:i}=this.state,o=(this.pins||[])[r];let a=i?{crop_x:i.cropX,crop_y:i.cropY,height:i.height,width:i.width,scale:i.scale}:{};if(!o)return;const s=o.images["236x"],c=s.url;n&&(a={crop_x:0,crop_y:0,height:s.height,width:s.width,scale:1});const l={board_id:e,url:c,pin_id:o.id,pin_image_url:c,...a},d={height:s.height,width:s.width,x:i?i.cropX:0,y:i?i.cropY:0};f.a.create("BoardResource",l).callUpdate().then(()=>{this.props.onSave(c),t(Object(b.a)(e,{custom_cover:!0,scale:i?i.scale:1,pin_id:o.id,crop:d,image_url:c}))})}),O(this,"updateImgCrop",e=>this.setState({imgCropData:e})),O(this,"handleShowNextPin",()=>{const{boardFeedResource:{isAtEnd:e,isFetching:t,fetchMore:n}}=this.props,r=(this.pins||[]).length;r&&this.setState(({coverPinIndex:e})=>({coverPinIndex:(e+1)%r}),()=>{this.pins&&this.state.coverPinIndex+5>=this.pins.length&&!e&&!t&&n()})}),O(this,"handleShowPrevPin",()=>{const e=(this.pins||[]).length;e&&this.setState(({coverPinIndex:t})=>({coverPinIndex:(t||e)-1}))}),O(this,"handleTogglePinSelection",e=>{this.setState({coverPinIndex:e},this.handleSave)})}static getDerivedStateFromProps(e,t){const n=e.boardFeedResource.data,{previousBoardFeedResourceData:r}=t;return!r&&n?{previousBoardFeedResourceData:n,coverPinIndex:w(e)}:{previousBoardFeedResourceData:n}}componentDidUpdate(e){const t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach(e=>{if("pin"===e.type){(new Image).src=e.url}})}get pins(){const{boardFeedResource:{data:e}}=this.props;return e?x(e):void 0}render(){const{boardName:e,boardFeedResource:t,frameHeight:n,frameWidth:i,heading:o,onCancel:a,inWebBoardModalExp:c}=this.props,{coverPinIndex:l}=this.state,{data:u,fetchMore:f,isLoaded:b}=t,g=this.pins||[],m=g[l];return Object(r.jsx)(p.b,{accessibilityModalLabel:s.a._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:o,onDismiss:a,footer:!c&&Object(r.jsxs)(d.e,{display:"flex",justifyContent:"end",children:[Object(r.jsx)(d.e,{padding:2,children:Object(r.jsx)(d.f,{inline:!0,onClick:a,text:s.a._("Cancel")})}),Object(r.jsx)(d.e,{padding:2,children:Object(r.jsx)(d.f,{disabled:!m,inline:!0,onClick:this.handleSave,text:s.a._("Save Changes","Button for saving board cover edit","Button for saving board cover edit"),color:"red"})})]}),children:c?Object(r.jsx)(h,{boardPins:u,coverPinIndex:l,fetchMore:f,handleTogglePinSelection:this.handleTogglePinSelection,isLoaded:b}):Object(r.jsx)(d.e,{position:"relative",dangerouslySetInlineStyle:{__style:{userSelect:"none"}},children:m?Object(r.jsx)(j,{boardName:e,frameHeight:n,frameWidth:i,isFirst:!l,isLast:l===g.length-1,pin:m,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop}):Object(r.jsx)(v,{})})})}}function C(e){const t=Object(a.useDispatch)(),n=Object(_.a)({name:"BoardFeedResource",options:{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}});return Object(r.jsx)(S,{...e,boardFeedResource:n,dispatch:t})}var I=n("0rqM");const E=({label:e,labelId:t})=>t?Object(r.jsx)(d.x,{htmlFor:t,children:Object(r.jsx)(d.U,{size:"sm",children:e})}):Object(r.jsx)(d.U,{size:"sm",children:e});function k(e){const{children:t,label:n,labelId:o}=e;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(d.e,{marginBottom:2,children:Object(r.jsx)(E,{label:n,labelId:o})}),t]})}const D=138;function T({coverPin:e,handleShowBoardCoverEditModal:t}){const[n,o]=Object(i.useState)(!1);return Object(r.jsx)(k,{label:s.a._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover"),children:Object(r.jsx)(d.e,{width:D,position:"relative",children:Object(r.jsx)(d.T,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:t,rounding:4,children:(null==e?void 0:e.custom_cover)?Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(d.B,{height:D,rounding:4,width:D,children:Object(r.jsx)(d.w,{alt:e.image_url,color:"gray",fit:"cover",naturalHeight:e.size&&e.size[0]||D,naturalWidth:e.size&&e.size[0]||D,src:e.image_url})}),Object(r.jsx)(d.e,{position:"absolute",right:!0,bottom:!0,padding:2,children:Object(r.jsx)(d.e,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:n?"white":"rgba(255, 255, 255, 0.8)"}},children:Object(r.jsx)(d.u,{accessibilityLabel:s.a._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})})})]}):Object(r.jsx)(d.e,{alignItems:"center",color:n?"darkWash":"lightGray",display:"flex",height:D,justifyContent:"center",rounding:4,width:D,children:Object(r.jsx)(d.u,{accessibilityLabel:s.a._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})})})})})}function M({children:e,label:t,labelId:n,subtext:o,useCheckbox:a}){return a?Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(d.e,{alignItems:"start",display:"flex",justifyContent:"start",paddingY:1,children:[e,Object(r.jsx)(d.e,{marginStart:2,children:Object(r.jsxs)(d.x,{htmlFor:n,children:[Object(r.jsx)(d.U,{size:"lg",weight:"bold",children:t}),o]})})]})}):Object(r.jsxs)(i.Fragment,{children:[Object(r.jsxs)(d.e,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1,children:[Object(r.jsx)(d.x,{htmlFor:n,children:Object(r.jsx)(d.t,{size:"sm",children:t})}),e]}),o]})}function P({hasCollabBoardEmail:e,isCollaborative:t,onChange:n,onCheckboxChange:i,useCheckbox:o}){return t&&Object(r.jsx)(M,{label:s.a._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:Object(r.jsx)(d.U,{color:"gray",size:"lg",children:s.a._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form")}),useCheckbox:o,children:Object(r.jsx)(d.e,{alignItems:"center",display:"flex",paddingY:o?0:2,children:Object(r.jsx)(d.e,{marginEnd:1,children:o?Object(r.jsx)(d.j,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:i}):Object(r.jsx)(d.Q,{switched:e,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var B=n("+HMQ"),A=n("88U9"),R=n("8Mj5"),L=n("zpFB");function N({board:e,onCollaboratorInviteClick:t}){return Object(r.jsx)(B.a,{board:e,children:e=>{const{limitedCollaborators:n,overflowNumber:i}=Object(A.a)(e.length,e);return Object(r.jsxs)(d.q,{alignItems:"center",justifyContent:"between",children:[Object(r.jsx)(R.a,{additionalCount:i,faces:n.map(e=>({...e,key:e.name})),faceSize:"lg",overlap:L.a}),Object(r.jsx)(d.v,{accessibilityLabel:s.a._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}})}var z=n("KEt0"),F=n("EC51"),U=n("kmwA");function q({board:e,onCollaboratorInviteClick:t}){const n=Object(r.jsxs)(d.q,{alignItems:"center",justifyContent:"start",children:[Object(r.jsx)(d.U,{size:"sm",inline:!0,children:s.a._("Collaborators")}),Object(r.jsx)(z.a,{}),Object(r.jsx)(d.U,{inline:!0,size:"sm",weight:"bold",children:Object(r.jsx)(F.a,{inline:!0,target:"blank",href:U.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE,children:s.a._("Learn more")})})]});return Object(r.jsx)(k,{alignTop:!0,label:n,labelId:"collaborators",children:Object(r.jsx)(N,{board:e,onCollaboratorInviteClick:t})})}function K({collaboratorInvitesEnabled:e,isCollaborative:t,onChange:n,onCheckboxChange:i,useCheckbox:o}){return t&&Object(r.jsx)(M,{label:s.a._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox",useCheckbox:o,children:o?Object(r.jsx)(d.j,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:i}):Object(r.jsx)(d.e,{paddingY:2,children:Object(r.jsx)(d.Q,{switched:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})})}var H=n("QoKk");function W({boardDates:e,onChange:t,onToggleFlyout:n}){return Object(r.jsx)(k,{label:s.a._("Dates","BoardForm.BoardFormDateField.label","Label next to date picker for adding a date to a board"),labelId:"secret",children:Object(r.jsx)(H.a,{dates:e,onChange:t,onToggleFlyout:n})})}function V({description:e,descriptionValidatorErrors:t,onChange:n}){const i="boardEditDescription";return Object(r.jsx)(k,{alignTop:!0,label:s.a._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:i,children:Object(r.jsx)(d.V,{errorMessage:t.join(", "),id:i,name:"description",onChange:n,placeholder:s.a._("What's your board about?"),value:e})})}var G=({children:e})=>Object(r.jsx)(d.e,{paddingX:8,role:"list",children:i.Children.map(e,(t,n)=>t&&Object(r.jsx)(d.e,{role:"listitem",marginBottom:n===i.Children.count(e)-1?1:8,children:t},n))}),Y=n("JW66");function J({isProtectedToggler:e,isToggleDisable:t,onChange:n,onCheckboxChange:o,privacy:a,useCheckbox:c}){if(!0===e)return Object(r.jsx)(M,{label:s.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",children:Object(r.jsx)(d.e,{paddingY:2,children:Object(r.jsx)(d.Q,{onChange:n,switched:a===Y.a.BoardPrivacy.PROTECTED,id:"protected",disabled:t})})});if(a!==Y.a.BoardPrivacy.PROTECTED){const e=s.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),l=Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(d.U,{color:"gray",size:"lg",children:[s.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",Object(r.jsx)(F.a,{inline:!0,target:"blank",href:U.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:s.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return Object(r.jsx)(M,{label:e,labelId:"secret",subtext:l,useCheckbox:c,children:Object(r.jsx)(d.e,{display:"flex",alignItems:"center",children:c?Object(r.jsx)(d.j,{checked:a===Y.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:o,disabled:t}):Object(r.jsx)(d.Q,{switched:a===Y.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:n,disabled:t})})})}return null}function X({allowHomefeedRecommendations:e,onChange:t,onCheckboxChange:n,useCheckbox:i}){return Object(r.jsx)(M,{label:s.a._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:Object(r.jsx)(d.U,{color:"gray",size:"lg",children:s.a._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility")}),useCheckbox:i,children:i?Object(r.jsx)(d.j,{checked:e,id:"recommendation",name:"recommendation",onChange:n}):Object(r.jsx)(d.Q,{switched:e,id:"recommendation",name:"recommendation",onChange:t})})}function Q({boardOwnerHasActiveAds:e,hasActiveAds:t,isAdAccountOwner:n,onChange:o,onCheckboxChange:a,privacy:c,showConfirmation:l,showCheckboxConfirmation:u,useCheckbox:h}){if(!1===n)return Object(r.jsx)(M,{label:s.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected",useCheckbox:h,children:Object(r.jsx)(d.e,{paddingY:2,children:Object(r.jsx)(d.Q,{onChange:()=>{},id:"protected",switched:!0,disabled:!0})})});if(c!==Y.a.BoardPrivacy.PROTECTED){const n=s.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),p=Object(r.jsx)(i.Fragment,{children:Object(r.jsxs)(d.U,{color:"gray",size:"lg",children:[e?s.a._("Ads from secret boards won’t run.","BoardForm.BoardFormSecretToggle","notifying the board owner ads will not run if the board is set to secret"):s.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",Object(r.jsx)(F.a,{inline:!0,target:"blank",href:U.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE,children:s.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards")})]})});return Object(r.jsx)(M,{label:n,labelId:"secret",subtext:p,useCheckbox:h,children:Object(r.jsx)(d.e,{display:"flex",alignItems:"center",children:h?Object(r.jsx)(d.j,{checked:"secret"===c,id:"secret",name:"secret",onChange:"public"===c&&t?u:a}):Object(r.jsx)(d.Q,{switched:"secret"===c,id:"secret",name:"secret",onChange:"public"===c&&t?l:o})})})}return null}function Z({name:e,nameValidatorErrors:t,onChange:n}){return Object(r.jsx)(k,{label:s.a._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName",children:Object(r.jsx)(d.W,{errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:s.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:e})})}var $=n("4dcN"),ee=n("eBDd"),te=n("M1Uz"),ne=n("d90F"),re=n("VwDf"),ie=n("vvax"),oe=n("nGHF"),ae=n("guDk"),se=n("c50B");function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const le=e=>Object(se.j)({max:e,maxErrorString:Object(ee.a)(s.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})}),de=()=>[le(Y.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION)],ue=()=>[Object(se.o)({message:s.a._("Don't forget to name your board!")}),le(Y.a.MAX_CHARS_FOR_BOARD_TITLE)],he=({condition:e,children:t})=>e?Object(r.jsx)(d.e,{position:"absolute",zIndex:p.a,children:t}):t;class pe extends i.Component{constructor(e){super(e),ce(this,"handleChangeName",({value:e})=>{const t=Object(se.r)(ue(),e);this.setState({name:e,nameValidatorErrors:t})}),ce(this,"handleChangeDescription",({value:e})=>{const t=Object(se.r)(de(),e);this.setState({description:e,descriptionValidatorErrors:t})}),ce(this,"handleChangeBoardDates",e=>{this.setState({boardDates:e})}),ce(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),ce(this,"handleChangePrivateToggle",({value:e})=>{this.setState({privacy:e?"secret":"public"})}),ce(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),ce(this,"handleShowSecretConfirmation",()=>{this.setState({showSecretConfirmation:!0})}),ce(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),ce(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),ce(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),ce(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),ce(this,"handleCancel",()=>{$.a.trackEvent(this.props.gaCategory,"click_cancel"),this.props.onClose()}),ce(this,"handleCheckboxChange",e=>({event:t,checked:n})=>e({event:t,value:n})),ce(this,"handleSubmit",e=>{const{board:{event_date:t,event_start_date:n},onSubmit:i,toastManagerContext:o,onClose:a}=this.props,{boardDates:c,collab_board_email:l,collaboratorInvitesEnabled:d,description:u,name:h,privacy:p,allowHomefeedRecommendations:f}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;const b=h.trim(),g=u.trim(),{eventEndDate:m,eventStartDate:v}=Object(re.a)({currentEventStartDate:c.length>1?c[0]:null,currentEventEndDate:c[1]||c[0],initialEventStartDate:n,initialEventEndDate:t});this.setState({submitting:!0,submitError:""}),$.a.trackEvent(this.props.gaCategory,"click_submit"),i({event_start_date:v,event_date:m,name:b,collab_board_email:l,collaborator_invites_enabled:d,description:g,privacy:p,allow_homefeed_recommendations:f}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=s.a._("Uh oh! Something went wrong.");if(e.message){const{message:n,message_detail:r}=e;t=r?`${n} ${r}`:n}else"string"==typeof e&&(t=e);t=Object(ae.b)(e)||t,Object(ae.c)(e)?(o.showOneToast(({onHide:e})=>Object(r.jsx)(te.a,{color:"red",duration:500,onHide:e,text:t})),a()):this.setState({submitting:!1,submitError:t})})}),ce(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),ce(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),ce(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();const{onCropChange:t}=this.props;t&&t(e)});const{board:{collab_board_email:t,collaborator_invites_enabled:n,description:i,event_date:o,event_start_date:a,name:c,pin_count:l,privacy:d,allow_homefeed_recommendations:u}}=e,h=[];a&&h.push(new Date(a)),o&&h.push(new Date(o)),this.state={boardDates:h,collab_board_email:t,description:i,name:c,pin_count:l,privacy:d,allowHomefeedRecommendations:u,collaboratorInvitesEnabled:n,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showSecretConfirmation:!1,submitting:!1,previousName:c,previousDescription:i,previousPrivacy:d}}static getDerivedStateFromProps(e,t){const n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=Object(se.r)(ue(),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=Object(se.r)(de(),e.board.description)),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}getFormFooter(){const{board:{archived_by_me_at:e},isArchivable:t,isDeletable:n,onArchiveButtonClick:o,onDeleteButtonClick:a,onMergeButtonClick:c,onUnarchiveButtonClick:l,submitText:u,inWebBoardModalExp:h}=this.props,{submitError:p,submitting:f}=this.state;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsxs)(d.e,{alignItems:"center",display:"flex",justifyContent:"between",wrap:!0,children:[Object(r.jsxs)(d.e,{alignItems:"center",display:"flex",children:[n&&Object(r.jsx)(d.e,{"data-test-id":"deleteBoardButton",padding:h?0:1,height:h?48:"auto",children:Object(r.jsx)(d.f,{disabled:f,inline:!0,onClick:a,size:"lg",text:s.a._("Delete","button label during board edit","button label during board edit")})}),t&&!e&&!h&&Object(r.jsx)(d.e,{padding:1,children:Object(r.jsx)(d.f,{disabled:f,inline:!0,onClick:o,size:"lg",text:s.a._("Archive","button label during board edit","button label during board edit")})}),e&&!h&&Object(r.jsx)(d.e,{padding:1,children:Object(r.jsx)(d.f,{disabled:f,inline:!0,onClick:l,size:"lg",text:s.a._("Unarchive","button label during board edit","button label during board edit")})}),c&&!h&&Object(r.jsx)(d.e,{padding:1,children:Object(r.jsx)(d.f,{disabled:f,inline:!0,onClick:c,size:"lg",text:s.a._("Merge","button label during board edit","button label during board edit")})})]}),Object(r.jsx)(d.e,{children:Object(r.jsx)(d.e,{display:"flex",children:Object(r.jsx)(d.e,{padding:h?0:1,height:h?48:"auto",children:Object(r.jsx)(d.f,{color:"red",disabled:this.submitDisabled(),inline:!0,onClick:this.handleSubmit,size:"lg",text:u,type:"submit"})})})})]}),p&&Object(r.jsx)(d.e,{paddingX:1,children:Object(r.jsx)(d.U,{color:"red",children:p})})]})}submitDisabled(){const{descriptionValidatorErrors:e,name:t,nameValidatorErrors:n,submitting:r}=this.state;return!t||n.length>0||e.length>0||r}render(){const{board:e,board:{archived_by_me_at:t,board_owner_has_active_ads:n,cover_pin:o,has_active_ads:a,id:c,is_collaborative:l,name:u},coverImageHeight:h,coverImageWidth:f,currentUserIsOwner:b,handleBoardLeave:g,isAdAccount:m,isAdAccountOwner:v,isEditable:y,isNameAndSecretView:j,onClose:_,onCollaboratorInviteClick:O,onToggleFlyout:x,title:w,useModalWithNoLayer:S,inWebBoardModalExp:E}=this.props,{allowHomefeedRecommendations:k,boardDates:D,collab_board_email:M,collaboratorInvitesEnabled:B,description:A,descriptionValidatorErrors:R,name:L,nameValidatorErrors:N,pin_count:z,privacy:F,showBoardCoverEdit:U,showSecretConfirmation:H}=this.state,Y=y&&z>0;let $=Object(r.jsxs)(G,{children:[Y&&Object(r.jsx)(T,{coverPin:o,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),Object(r.jsx)(Z,{name:L,nameValidatorErrors:N,onChange:this.handleChangeName}),Object(r.jsx)(V,{description:A,descriptionValidatorErrors:R,onChange:this.handleChangeDescription}),Object(r.jsx)(W,{boardDates:D,onChange:this.handleChangeBoardDates,onToggleFlyout:x}),b&&!!g&&!!O&&Object(r.jsx)(q,{board:e,onCollaboratorInviteClick:O}),Object(r.jsx)(d.e,{marginBottom:-7,children:Object(r.jsx)(d.U,{size:"sm",children:s.a._("Settings","BoardForm.BoardForm","Section heading in board edit form")})}),Object(r.jsx)(ne.a,{name:"sterling_protected_board_by_owner",activate:!0,children:({anyEnabled:e})=>e?Object(r.jsx)(J,{isProtectedToggler:!!m,isToggleDisable:!!m&&!v,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:F,useCheckbox:E}):Object(r.jsx)(Q,{boardOwnerHasActiveAds:n,hasActiveAds:a,isAdAccountOwner:v,onChange:this.handleChangePrivateToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivateToggle),privacy:F,showConfirmation:this.handleShowSecretConfirmation,showCheckboxConfirmation:this.handleShowSecretConfirmation,useCheckbox:E})}),!t&&Object(r.jsx)(X,{allowHomefeedRecommendations:k,onChange:this.handleChangeRecommendationToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle),useCheckbox:E}),Object(r.jsx)(P,{hasCollabBoardEmail:M,isCollaborative:l,onChange:this.handleChangeCollabBoardEmail,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),useCheckbox:E}),Object(r.jsx)(K,{collaboratorInvitesEnabled:B,isCollaborative:l,onChange:this.handleChangeCollaboratorInvitesEnabled,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),useCheckbox:E})]});b?j&&($=Object(r.jsxs)(G,{children:[Object(r.jsx)(Z,{name:L,nameValidatorErrors:N,onChange:this.handleChangeName}),Object(r.jsx)(W,{onChange:this.handleChangeBoardDates,onToggleFlyout:x}),Object(r.jsx)(ne.a,{name:"sterling_protected_board_by_owner",activate:!0,children:({anyEnabled:e})=>e?Object(r.jsx)(J,{isProtectedToggler:!!m,isToggleDisable:!!m&&!v,onChange:this.handleChangePrivacyToggle,privacy:F,useCheckbox:E,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)}):Object(r.jsx)(Q,{boardOwnerHasActiveAds:n,hasActiveAds:a,isAdAccountOwner:!!v,onChange:this.handleChangePrivateToggle,privacy:F,showConfirmation:this.handleShowSecretConfirmation,onCheckboxChange:this.handleCheckboxChange(this.handleShowSecretConfirmation),showCheckboxConfirmation:this.handleShowSecretConfirmation,useCheckbox:E})})]})):$=Object(r.jsxs)(G,{children:[!!g&&!!O&&Object(r.jsx)(q,{board:e,onCollaboratorInviteClick:O}),Object(r.jsx)(P,{hasCollabBoardEmail:M,isCollaborative:l,onChange:this.handleChangeCollabBoardEmail,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),useCheckbox:E}),!t&&Object(r.jsx)(X,{allowHomefeedRecommendations:k,onChange:this.handleChangeRecommendationToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle),useCheckbox:E}),Object(r.jsx)(d.U,{color:"gray",size:"lg",children:Object(ie.b)(s.a._("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features","BoardForm.CollaboratorPermissionsCopy","Copy on board edit form letting collaborators know of their permissions on a board"),{boardOwner:Object(r.jsx)(d.U,{color:"gray",inline:!0,size:"lg",weight:"bold",children:e.owner.full_name})})})]});const ee=S?d.F:p.b;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(he,{condition:!!S,children:Object(r.jsx)(ee,{accessibilityModalLabel:s.a._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:_,footer:this.getFormFooter(),heading:w,children:Object(r.jsx)(d.e,{marginEnd:"auto",marginStart:"auto",rounding:2,children:Object(r.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:$})})})}),U&&Object(r.jsx)(C,{boardId:c,boardName:L,coverPinId:null==o?void 0:o.pin_id,frameHeight:h,frameWidth:f,heading:`${s.a._("Change Board Cover")}/ ${u}`,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal,inWebBoardModalExp:E}),H&&Object(r.jsx)(I.a,{confirmButtonLabel:s.a._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:s.a._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:s.a._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret})]})}}ce(pe,"defaultProps",{isNameAndSecretView:!1});t.a=Object(oe.c)(pe)},mQlh:function(e,t,n){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("tXUN"),a=(r=o)&&r.__esModule?r:{default:r};var s="-",c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorators=a.default.List(t)}return i(e,[{key:"getDecorations",value:function(e,t){var n=new Array(e.getText().length).fill(null);return this.decorators.forEach((function(r,i){r.getDecorations(e,t).forEach((function(e,t){e&&(n[t]=i+s+e)}))})),a.default.List(n)}},{key:"getComponentForKey",value:function(t){return this.getDecoratorForKey(t).getComponentForKey(e.getInnerKey(t))}},{key:"getPropsForKey",value:function(t){return this.getDecoratorForKey(t).getPropsForKey(e.getInnerKey(t))}},{key:"getDecoratorForKey",value:function(e){var t=e.split(s),n=Number(t[0]);return this.decorators.get(n)}}],[{key:"getInnerKey",value:function(e){return e.split(s).slice(1).join(s)}}]),e}();e.exports=c},mbKr:function(e,t,n){var r=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},mc7v:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},mmKv:function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("+ip3"),a=n("ELJR"),s=n("qD10"),c=n("g5OB"),l=n("n6mq");const d=1.25*c.a;function u({story:e}){const{action:{text:t,url:n},custom_properties:{image:i,image_alt:o}}=e;return Object(r.jsxs)(l.e,{position:"relative",children:[Object(r.jsx)(l.B,{rounding:4,height:d,width:c.a,children:Object(r.jsx)(l.w,{alt:o,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),Object(r.jsx)(l.e,{bottom:!0,display:"flex",justifyContent:"center",position:"absolute",width:c.a,padding:4,children:Object(r.jsx)(s.a,{to:n,children:Object(r.jsx)(l.f,{color:"white",text:t})})})]})}t.a=Object(i.connect)((e,t)=>({story:e.stories[t.storyId]}),()=>({}))((function({story:e,...t}){if(!e)return null;switch(e.story_type){case"BUBBLE_ONE_COL":return Object(r.jsx)(a.a,{bubbles:e.objects,id:t.storyId,referringSource:e.referring_source,slotIndex:t.slot,storyType:e.story_type,title:e.title,viewType:t.viewType,viewParameter:t.viewParameter});case"feed_card_default":return Object(r.jsx)(u,{story:e});case"add_pin":return Object(r.jsx)(o.b,{});default:return null}}))},mvLR:function(e,t,n){function r(e){let t=!1;return{promise:new Promise((n,r)=>{e.then(e=>t?r({isCanceled:!0}):n(e),e=>r(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return r}))},mxGF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("P1kZ"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(t,n,r){t.findEntityRanges((function(t){var n=t.getEntity();return null!==n&&r.getEntity(n).getType()===(0,o.default)(e)}),n)}}},n34E:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=n("q1tI"),o=n("82UD"),a=n("n6mq");function s({index:e,isSelected:t,pin:n,handlePinSelectionChanged:s}){const c=n.id,l=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),s(c,!t)},[c,t]);return Object(r.jsx)(a.T,{onTap:l,rounding:4,children:Object(r.jsx)(o.a,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:t?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}},nEfj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("tXUN"),i=a(n("WPzw")),o=a(n("mQlh"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return"function"==typeof e.getDecorations&&"function"==typeof e.getComponentForKey&&"function"==typeof e.getPropsForKey},c=function(e){var t=e.decorators,n=e.plugins;return(0,r.List)([{decorators:t}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))).filter((function(e){return void 0!==e.decorators})).flatMap((function(e){return e.decorators}))};t.default=function(e,t,n){var r=c(e),a=(0,i.default)(r.filter((function(e){return!s(e)})),t,n),l=r.filter((function(e){return s(e)}));return new o.default(l.push(a))}},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},nnOA:function(e,t,n){e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},nokP:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSuggestionsFilter=t.defaultTheme=t.MentionSuggestions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("fEmT");Object.defineProperty(t,"MentionSuggestions",{enumerable:!0,get:function(){return v(i).default}});var o=v(n("q1tI")),a=n("s5IZ"),s=v(n("z2oT")),c=v(i),l=v(n("16ai")),d=v(n("aAL+")),u=v(n("mxGF")),h=v(n("5Wuq")),p=v({mention:"draftJsMentionPlugin__mention__29BEd"}),f=v({mentionSuggestions:"draftJsMentionPlugin__mentionSuggestions__2DWjA"}),b=v({mentionSuggestionsEntry:"draftJsMentionPlugin__mentionSuggestionsEntry__3mSwm",mentionSuggestionsEntryFocused:"draftJsMentionPlugin__mentionSuggestionsEntryFocused__3LcTd draftJsMentionPlugin__mentionSuggestionsEntry__3mSwm",mentionSuggestionsEntryText:"draftJsMentionPlugin__mentionSuggestionsEntryText__3Jobq",mentionSuggestionsEntryAvatar:"draftJsMentionPlugin__mentionSuggestionsEntryAvatar__1xgA9"}),g=v(n("9qGe")),m=v(n("aAE7"));function v(e){return e&&e.__esModule?e:{default:e}}var y=t.defaultTheme={mention:p.default.mention,mentionSuggestions:f.default.mentionSuggestions,mentionSuggestionsEntry:b.default.mentionSuggestionsEntry,mentionSuggestionsEntryFocused:b.default.mentionSuggestionsEntryFocused,mentionSuggestionsEntryText:b.default.mentionSuggestionsEntryText,mentionSuggestionsEntryAvatar:b.default.mentionSuggestionsEntryAvatar};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},n={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0},i=(0,a.Map)(),p=void 0,f=(0,a.Map)(),b=void 0,g={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:function(e){return f.get(e)()},getAllSearches:function(){return i},isEscaped:function(e){return p===e},escapeSearch:function(e){p=e},resetEscapedSearch:function(){p=void 0},register:function(e){i=i.set(e,e)},updatePortalClientRect:function(e,t){f=f.set(e,t)},unregister:function(e){i=i.delete(e),f=f.delete(e)},getIsOpened:function(){return b},setIsOpened:function(e){b=e}},v=e.mentionPrefix,j=void 0===v?"":v,_=e.theme,O=void 0===_?y:_,x=e.positionSuggestions,w=void 0===x?m.default:x,S=e.mentionComponent,C=e.mentionSuggestionsComponent,I=void 0===C?c.default:C,E=e.entityMutability,k=void 0===E?"SEGMENTED":E,D=e.mentionTrigger,T=void 0===D?"@":D,M=e.mentionRegExp,P=void 0===M?d.default:M,B=e.supportWhitespace,A=void 0!==B&&B,R={ariaProps:n,callbacks:t,theme:O,store:g,entityMutability:k,positionSuggestions:w,mentionTrigger:T,mentionPrefix:j},L=function(e){return o.default.createElement(I,r({},e,R))},N=function(e){return o.default.createElement(s.default,r({},e,{theme:O,mentionComponent:S}))},z=function(e){return o.default.createElement(l.default,r({},e,{store:g}))};return{MentionSuggestions:L,decorators:[{strategy:(0,u.default)(T),component:N},{strategy:(0,h.default)(T,A,P),component:z}],getAccessibilityProps:function(){return{role:"combobox",ariaAutoComplete:"list",ariaHasPopup:n.ariaHasPopup,ariaExpanded:n.ariaExpanded,ariaActiveDescendantID:n.ariaActiveDescendantID,ariaOwneeID:n.ariaOwneeID}},initialize:function(e){var t=e.getEditorState,n=e.setEditorState;g.getEditorState=t,g.setEditorState=n},keyBindingFn:function(e){return t.keyBindingFn&&t.keyBindingFn(e)},handleReturn:function(e){return t.handleReturn&&t.handleReturn(e)},onChange:function(e){return t.onChange?t.onChange(e):e}}};t.defaultSuggestionsFilter=g.default},nrB0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("2S0S"),i=!1,o=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){r(!i,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{i=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;r(!o,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{o=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},nwWm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWk2"),i=n("TT16"),o=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dragSource:function(e,n){t.dragSourceOptions=n||null,i.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,i.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!o(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!o(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},o2GA:function(e,t,n){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},oRM1:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n("zQfT");function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:o,resourceOptions:a,value:s}){const c=Object(i.a)({allowSearchOnMount:e,resourceName:o,resourceOptions:a,value:s});return Object(r.useEffect)(()=>{c.length&&n(c)},[c]),t||null}},ocgx:function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("DYKh");e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,c=t.getAnchorKey(),l=e.getCurrentContent(),d=l.getBlockForKey(c).getLength();if(d<=1)return e;n===d?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var u=o(l,a),h=r.removeRange(l,a,"backward"),p=h.getSelectionAfter(),f=p.getAnchorOffset()-1,b=p.merge({anchorOffset:f,focusOffset:f}),g=r.replaceWithFragment(h,b,u),m=i.push(e,g,"insert-fragment");return i.acceptSelection(m,s)}},"otv/":function(e,t,n){var r=n("nmnc"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},pC0d:function(e,t,n){n.d(t,"a",(function(){return g}));var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("Sihc"),s=n("Ye/N"),c=n("TgLd"),l=n("VqlB"),d=n("n34E"),u=n("w70y"),h=n("oN2T"),p=n("shej"),f=n("U4JR"),b=n("n6mq");function g({boardId:e,clusterId:t,handleAddClick:n,isBoardOrganizeFeed:g,onDismiss:m,suggestedSectionTitle:v}){const y=Object(i.useRef)(null),[j,_]=Object(i.useState)([]),[O,x]=Object(i.useState)(v),{data:w,fetchMore:S,isFetching:C,isLoaded:I}=Object(u.a)({name:"SectionSuggestionsPinsResource",options:{boardId:e,clusterId:t}}),E=g?3541:3069,k=Object(o.useDispatch)(),D=Object(i.useCallback)(()=>{if(w){const t=w.map(e=>e.id),r=t.length,i=t.filter(e=>!j.includes(e));n&&n(O),k(Object(a.a)({boardId:e,name:O})).then(t=>{k(Object(l.a)({inverseSelection:!1,selectedPinIds:i,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:t.id}}))}).then(()=>{k(Object(h.c)(e,"pin_count")),Object(f.b)(8606,{number_pins_suggested:r,number_pins_selected:i.length,objectId:e,section_title:O,suggested_section_name:v,view:5,viewParameter:E}),m(),g||k(Object(p.b)())})}},[j,O,w]),T=(e,t)=>{const n=[...j],r=n.indexOf(e);t&&-1!==r?n.splice(r,1):t||-1!==r||n.push(e),_(n)};return Object(r.jsx)(c.b,{accessibilityModalLabel:s.a._("Add suggested pins to your newly created section modal","sectionSuggestionPinsModal.modal.accessibilityLabelForModal","Accessibility label for modal"),allowScroll:!0,footer:Object(r.jsxs)(b.e,{display:"flex",justifyContent:"end",paddingX:2,children:[Object(r.jsx)(b.e,{display:"inlineBlock",marginEnd:2,children:Object(r.jsx)(b.f,{inline:!0,onClick:()=>{m(),g||k(Object(p.b)()),Object(f.b)(8607,{objectId:e,suggested_section_name:v,view:5,viewParameter:E})},text:s.a._("Not now","sectionSuggestionPinsModal.footer.cancelButton","Cancel creating a board section")})}),Object(r.jsx)(b.e,{display:"inlineBlock",children:Object(r.jsx)(b.f,{color:"red",inline:!0,onClick:D,text:s.a._("Add section","sectionSuggestionPinsModal.footer.addSectionButton","Add pins and section")})})]}),heading:s.a._("Pick your Pins and you're all set!","sectionSuggestionPinsModal.modal.heading","Heading for modal to add suggested pins to your newly created section"),onDismiss:m,size:704,children:Object(r.jsxs)(b.e,{maxHeight:600,maxWidth:704,ref:y,overflow:"auto",children:[Object(r.jsxs)(b.e,{padding:4,paddingX:2,children:[Object(r.jsx)(b.U,{size:"md",children:s.a._("Section name","sectionSuggestionPinsModal.modal.sectionNameTitle","Title for section name")}),Object(r.jsx)(b.e,{paddingY:2,children:Object(r.jsx)(b.W,{id:"SectionSuggestionPinsTitle",onChange:({value:e})=>{x(e)},placeholder:s.a._("Add a name for this group","sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder","Placeholder for section name"),size:"lg",value:O})})]}),I&&w&&Object(r.jsx)(b.C,{columnWidth:152,comp:({data:e,itemIdx:t})=>Object(r.jsx)(d.a,{index:t,isSelected:!j.includes(e.id),pin:e,handlePinSelectionChanged:T}),gutterWidth:16,items:w,loadItems:S,scrollContainer:()=>y.current}),Object(r.jsx)(b.O,{accessibilityLabel:s.a._("Loading pins","sectionSuggestionPinsModal.modal.spinner","Loading indicator"),show:C})]})})}},pIlY:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n("nKUr"),i=n("q1tI"),o=n("1dBE"),a=n("DzJC"),s=n.n(a);const{Provider:c,Consumer:l,useHook:d}=Object(o.c)("HeaderShadow");function u({children:e}){const[t,n]=Object(i.useState)(!1),[o,a]=Object(i.useState)(!1),[l,d]=Object(i.useState)(0),[u,h]=Object(i.useState)(null),p=s()(()=>{t&&(a(window.scrollY>0),d(window.scrollY))},50);return Object(i.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(i.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),Object(r.jsx)(c,{value:{currentScrollPosition:l,isScrolled:o,setSubheaderShadow:h,subheaderShadow:u},children:e})}},pLLR:function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i);const a=Object(i.createContext)(),s=a.Provider;function c(e){function t(t){const n=Object(i.useContext)(a);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return Object(r.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=Object(i.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},d=({children:e})=>{const t=Object(i.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function u(){const e=o.a.useContext(a);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},pMlp:function(e,t,n){e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},pWkb:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("yaUg"),i=n("Ye/N");function o(e,t){const{isAbbreviated:n,skipSeconds:o}=t||{},a=36e5,s=864e5,c=new Date(e),l=(new Date).getTime()-c.getTime(),d=Math.floor(l/1e3),u=Math.floor(l/6e4),h=Math.floor(l/a),p=Math.floor(l/s),f=Math.floor(l/6048e5),b=Math.floor(l/31536e6);return b>0?n?Object(r.a)(i.a._("{{ years }}y","Abbreviation for years","Abbreviation for years"),{years:""+b}):Object(r.a)(i.a.ngettext("{{ years }} year ago","{{ years }} years ago",b,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{years:""+b}):f>1?n?Object(r.a)(i.a._("{{ weeks }}w","Abbreviation for weeks","Abbreviation for weeks"),{weeks:""+f}):Object(r.a)(i.a.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",f,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{weeks:""+f}):p>0?n?Object(r.a)(i.a._("{{ days }}d","Abbreviation for days","Abbreviation for days"),{days:""+p}):Object(r.a)(i.a.ngettext("{{ days }} day ago","{{ days }} days ago",p,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{days:""+p}):h>0?n?Object(r.a)(i.a._("{{ hours }}h","Abbreviation for hours","Abbreviation for hours"),{hours:""+h}):Object(r.a)(i.a.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",h,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{hours:""+h}):u>0?n?Object(r.a)(i.a._("{{ minutes }}m","Abbreviation for minutes","Abbreviation for minutes"),{minutes:""+u}):Object(r.a)(i.a.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",u,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{minutes:""+u}):d>=0&&!o?n?Object(r.a)(i.a._("{{ numSecondsBetween }}s","Abbreviation for seconds","Abbreviation for seconds"),{numSecondsBetween:""+d}):Object(r.a)(i.a.ngettext("{{ numSecondsBetween }} second ago","{{ numSecondsBetween }} seconds ago",d,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{numSecondsBetween:""+d}):i.a._("just now","describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages")}},pWuj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("pYMm"),i=n("fOPN"),o=n("N4T/"),a=n("YuQ1"),s=n("LTlA");t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case r.HOVER:break;case i.ADD_SOURCE:case i.ADD_TARGET:case i.REMOVE_TARGET:case i.REMOVE_SOURCE:return a.NONE;case r.BEGIN_DRAG:case r.PUBLISH_DRAG_SOURCE:case r.END_DRAG:case r.DROP:default:return a.ALL}var n=t.payload,c=n.targetIds,l=void 0===c?[]:c,d=n.prevTargetIds,u=void 0===d?[]:d,h=s.xor(l,u);if(!(h.length>0||!o.areArraysEqual(l,u)))return a.NONE;var p=u[u.length-1],f=l[l.length-1];return p!==f&&(p&&h.push(p),f&&h.push(f)),h}},pXmp:function(e,t,n){function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},pYMm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVL4"),i=n("rV1A"),o=n("sAMb"),a=n("BEzM"),s=n("vmVG");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("7nh8")),t.default=function(e){return{beginDrag:r.default(e),publishDragSource:i.default(e),hover:o.default(e),drop:a.default(e),endDrag:s.default(e)}}},peh1:function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function o(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every((function(e,r){return t(e,n[r])}))||(r=e.apply(void 0,o)),n=o,r}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var s=0,c=i.pop(),l=a(i),d=e.apply(void 0,[function(){return s++,c.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=l.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,r(a))};return u.resultFunc=c,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var c=t.createSelector=s(o)},pg4M:function(e,t,n){var r=n("3sOJ"),i=n("4pIB");e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},px3X:function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("QIf8"),a=n("4dcN"),s=n("Ye/N"),c=n("U4JR"),l=n("nGHF"),d=n("dMCU"),u=n("n6mq"),h=n("+qOO");t.a=Object(d.a)((function({authAction:e,boardId:t,boardImage:n,boardName:d,boardUrl:p,children:f,isFollowed:b,showPulsar:g,variant:m="default"}){const{showOneToast:v}=Object(l.b)(),y=Object(i.useDispatch)(),j=Object(i.useSelector)(({boards:e})=>{const n=e.content[t];return n?Boolean(n.followed_by_me):b}),_=j?s.a._("Following","BoardFollowButton.ButtonText.Following","Text for a button to follow a board"):s.a._("Follow","BoardFollowButton.ButtonText.Follow","Text for board follow button on a board the user follows"),O=()=>{j?y(Object(h.b)(t)):(y(Object(h.a)(t)),v(({onHide:e})=>Object(r.jsx)(o.a,{boardImage:n,boardName:d,boardUrl:p,onHide:e})))},x=({event:n})=>{n.preventDefault(),n.stopPropagation(),e(O)(),Object(c.b)(101,{component:1,element:j?1154:37,objectId:t,view:4}),a.a.trackEvent(j?"board_unfollow":"board_follow","click")},w="lego"===m?Object(r.jsx)(u.f,{color:"red",inline:!0,onClick:x,selected:j,size:"lg",text:_}):Object(r.jsx)(u.f,{color:j?"gray":"red",inline:!0,onClick:x,text:_});return Object(r.jsxs)(u.e,{position:"relative",display:"flex","data-test-id":`board-${j?"unfollow":"follow"}-button`,children:[f?f({buttonText:_,handleFollow:x,isFollowed:j}):w,g&&Object(r.jsx)(u.T,{onTap:e=>x(e),children:Object(r.jsx)(u.e,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:Object(r.jsx)(u.H,{paused:j})})})]})}))},q2v6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=b(o),s=b(n("CsLl")),c=n("v83y"),l=n("tXUN"),d=b(n("Undz")),u=b(n("h2as")),h=b(n("nEfj")),p=b(n("iBcn")),f=b(n("fUU4"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v=function(e){var t=void 0;return null!=e.decorators?t=e.decorators:null!=e._decorators&&(t=e._decorators),null!=t.size?t.size:t.length},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return j.call(n),[n.props].concat(m(n.resolvePlugins())).forEach((function(e){"function"==typeof e.initialize&&e.initialize(n.getPluginMethods())})),d.default.forEach((function(e){n[e]=function(){var t;return(t=n.editor)[e].apply(t,arguments)}})),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=(0,h.default)(this.props,this.getEditorState,this.onChange),t=c.EditorState.set(this.props.editorState,{decorator:e});this.onChange((0,u.default)(t))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.editorState.getDecorator(),n=e.editorState.getDecorator();if(t&&!(t===n||t&&n&&v(t)===v(n))){var r=c.EditorState.set(e.editorState,{decorator:t});this.onChange((0,u.default)(r))}}},{key:"componentWillUnmount",value:function(){var e=this;this.resolvePlugins().forEach((function(t){t.willUnmount&&t.willUnmount({getEditorState:e.getEditorState,setEditorState:e.onChange})}))}},{key:"render",value:function(){var e=this,t=this.createPluginHooks(),n=this.resolveCustomStyleMap(),i=this.resolveAccessibilityProps(),o=this.resolveblockRenderMap();return a.default.createElement(c.Editor,r({},this.props,i,t,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:o,onChange:this.onChange,editorState:this.props.editorState,ref:function(t){e.editor=t}}))}}]),t}(o.Component);y.propTypes={editorState:s.default.object.isRequired,onChange:s.default.func.isRequired,plugins:s.default.array,defaultKeyBindings:s.default.bool,defaultKeyCommands:s.default.bool,defaultBlockRenderMap:s.default.bool,customStyleMap:s.default.object,decorators:s.default.array},y.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var j=function(){var e=this;this.onChange=function(t){var n=t;e.resolvePlugins().forEach((function(t){t.onChange&&(n=t.onChange(n,e.getPluginMethods()))})),e.props.onChange&&e.props.onChange(n,e.getPluginMethods())},this.getPlugins=function(){return e.props.plugins.slice(0)},this.getProps=function(){return r({},e.props)},this.getReadOnly=function(){return e.props.readOnly},this.setReadOnly=function(t){t!==e.state.readOnly&&e.setState({readOnly:t})},this.getEditorRef=function(){return e.editor},this.getEditorState=function(){return e.props.editorState},this.getPluginMethods=function(){return{getPlugins:e.getPlugins,getProps:e.getProps,setEditorState:e.onChange,getEditorState:e.getEditorState,getReadOnly:e.getReadOnly,setReadOnly:e.setReadOnly,getEditorRef:e.getEditorRef}},this.createEventHooks=function(t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=[].slice.apply(i);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&!0===e[t].apply(e,m(a))}))}},this.createHandleHooks=function(t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=[].slice.apply(i);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&"handled"===e[t].apply(e,m(a))}))?"handled":"not-handled"}},this.createFnHooks=function(t,n){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=[].slice.apply(o);if(s.push(e.getPluginMethods()),"blockRendererFn"===t){var c={props:{}};return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,m(s));if(null!=n){var i=n.props,o=g(n,["props"]),a=c,l=a.props,d=g(a,["props"]);c=r({},d,o,{props:r({},l,i)})}}})),!!c.component&&c}if("blockStyleFn"===t){var l=void 0;return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,m(s));null!=n&&(l=(l?l+" ":"")+n)}})),l||""}var d=void 0,u=n.some((function(e){return"function"==typeof e[t]&&void 0!==(d=e[t].apply(e,m(s)))}));return!!u&&d}},this.createPluginHooks=function(){var t={},n=[],r=[],i=[],o=[e.props].concat(m(e.resolvePlugins()));return o.forEach((function(e){Object.keys(e).forEach((function(e){"onChange"!==e&&(-1===n.indexOf(e)&&-1===i.indexOf(e)&&(0===e.indexOf("on")?n.push(e):0===e.indexOf("handle")?r.push(e):e.length-2===e.indexOf("Fn")&&i.push(e)))}))})),n.forEach((function(n){t[n]=e.createEventHooks(n,o)})),r.forEach((function(n){t[n]=e.createHandleHooks(n,o)})),i.forEach((function(n){t[n]=e.createFnHooks(n,o)})),t},this.resolvePlugins=function(){var t=e.props.plugins.slice(0);return!0===e.props.defaultKeyBindings&&t.push(p.default),!0===e.props.defaultKeyCommands&&t.push(f.default),t},this.resolveCustomStyleMap=function(){return e.props.plugins.filter((function(e){return void 0!==e.customStyleMap})).map((function(e){return e.customStyleMap})).concat([e.props.customStyleMap]).reduce((function(e,t){return r({},e,t)}),{})},this.resolveblockRenderMap=function(){var t=e.props.plugins.filter((function(e){return void 0!==e.blockRenderMap})).reduce((function(e,t){return e.merge(t.blockRenderMap)}),(0,l.Map)({}));return e.props.defaultBlockRenderMap&&(t=c.DefaultDraftBlockRenderMap.merge(t)),e.props.blockRenderMap&&(t=t.merge(e.props.blockRenderMap)),t},this.resolveAccessibilityProps=function(){var t={};return[e.props].concat(m(e.resolvePlugins())).forEach((function(e){if("function"==typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),i={};void 0===t.ariaHasPopup?i.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(i.ariaHasPopup="true"),void 0===t.ariaExpanded?i.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(i.ariaExpanded=!0),t=r({},t,n,i)}})),t}};t.default=y},q8wg:function(e,t,n){var r=n("nKUr"),i=(n("q1tI"),n("8wun")),o=n("1u47");t.a=e=>Object(r.jsx)(o.a,{...e,timeSpentManager:i.a})},qD10:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("zwad"),s=n("ANjH"),c=n("Y8Sn"),l=n("z19Z"),d=n("EC67");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{spamCheck:null}),u(this,"spamCheckExperimentGroup",null),u(this,"mounted",!1),u(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pinId:n,pin:r,surface:i,to:o}=this.props;(e||a.a.isOffsiteUrl(o))&&r&&!Object(c.g)(r)&&Object(l.f)({location:t,pinId:n,surface:i})&&o&&Object(l.a)({isMounted:this.mounted,pin:r,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:o})}),u(this,"handleClick",e=>{const{auxData:t,external:n,focusOnBody:r,forceOnClick:i,history:o,internalNewTab:s,location:c,onClick:d,pin:u,pinId:h,shouldShowAltLinks:p,stopPropagation:f,to:b}=this.props;f&&e.stopPropagation();const g=n||a.a.isOffsiteUrl(b);Object(l.b)({isExternalLink:g,event:e,forceOnClick:i})||(e.nativeEvent.preventDefault(),d&&d(e),b&&!p&&(g?Object(l.c)({href:b,pinId:h,pin:u,location:c,auxData:t,spamCheck:this.state.spamCheck}):Object(l.d)({event:e,onHistoryChange:()=>{r&&Object(l.e)()},href:b,history:o,target:s?"blank":null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,"data-test-id":i,external:o,noFollow:a,setAnchorRef:s,style:c,tabIndex:l,target:d,to:u}=this.props;return Object(r.jsx)("a",{"aria-label":e,className:n,"data-test-id":i,href:u,onClick:this.handleClick,ref:s,rel:o||a?"nofollow":"",style:c,tabIndex:l,target:d?"_blank":null,children:t})}}t.a=Object(s.compose)(Object(o.connect)((function({pins:e},{pinId:t}){return{pin:t&&e&&e[t]}}),()=>({})),d.k)(h)},qFZT:function(e,t,n){var r=n("PnD8"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=c(t),b=c(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||b&&b[m]||s&&s[m])){var v=h(n,m);try{l(t,m,v)}catch(y){}}}return t}return t}},qLDv:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));const r=36,i=44,o=446,a=["enabled_left_stela","employees","enabled_v2_holdout"],s=["employees","enabled","enabled_pwt"],c=["employees","enabled_popular_bestseller_colorful","enabled_popular_bestseller_neutral","enabled_popular_colorful","enabled_popular_neutral"]},qUzp:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("8A+h"),i=n("E58E");function o({board:e,viewer:t}){return Object(r.a)(t,e)||Object(i.a)({board:e,viewer:t})}},qYux:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("nKUr"),i=n("q1tI"),o=n("1dBE");const{Provider:a,Consumer:s,useHook:c}=Object(o.c)("ContentHeader");function l({children:e}){const[t,n]=Object(i.useState)(!1);return Object(r.jsx)(a,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n},children:e})}},qdVQ:function(e,t,n){n.d(t,"a",(function(){return E}));var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("0rqM"),s=n("weYu"),c=n("1inl"),l=n("4dcN"),d=n("Ye/N"),u=n("eOdZ"),h=n("M1Uz"),p=n("vVEi"),f=n("ANjH"),b=n("vvax"),g=n("U4JR"),m=n("QAzJ"),v=n("mLS1"),y=n("oN2T"),j=n("pLLR"),_=n("nGHF"),O=n("n6mq");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),x(this,"state",{editMode:"main"}),x(this,"handleBoardLeave",()=>{const{board:e,onBoardLeave:t,onClose:n}=this.props;n(),t&&t(e.id)}),x(this,"handleArchive",()=>{const{archiveBoard:e,onClose:t}=this.props;e(),this.returnToMainEditMode(),t()}),x(this,"handleUnarchive",()=>{const{onClose:e,unarchiveBoard:t}=this.props;t(),this.returnToMainEditMode(),e()}),x(this,"returnToMainEditMode",()=>this.setState({editMode:"main"})),x(this,"handleShowArchiveModal",()=>this.setState({editMode:"confirmArchive"})),x(this,"handleShowUnarchiveModal",()=>this.setState({editMode:"confirmUnarchive"})),x(this,"handleShowMergeModal",()=>this.setState({editMode:"merge"})),x(this,"handleDelete",()=>{const{board:e,deleteBoard:t,onBoardDelete:n,onClose:i,toastManagerContext:o}=this.props;t().then(()=>{o.showToast(({onHide:e})=>Object(r.jsx)(h.a,{onHide:e,text:d.a._("Board deleted!","User deleted their board","User deleted their board")}))}),this.returnToMainEditMode(),i(),n&&n(e)}),x(this,"handleMerge",e=>{const{board:t,mergeToBoard:n,onBoardDelete:r,onClose:i}=this.props;Object(g.b)(7172,{objectId:t.id,merge_flow:"menu"}),n(e),i(),r&&r(t)}),x(this,"handleShowDeleteModal",()=>{l.a.trackEvent("board_delete","open_modal"),this.setState({editMode:"confirmDelete"})}),x(this,"handleSubmit",e=>{const{viewer:t,board:n,updateBoard:r,onBoardPrivacyChange:i,onBoardUpdate:o,onClose:a}=this.props,s=this.props.board.id;if(t.id===n.owner.id){const t={id:s,...e};return r(t).then(()=>{e.event_date||e.event_start_date?Object(g.b)(8624,{component:13304,objectId:t.id}):""!==e.event_date&&""!==e.event_start_date||Object(g.b)(8625,{component:13304,objectId:t.id}),n.privacy!==e.privacy&&i?i():o&&o(s,t),a()})}{const{allow_homefeed_recommendations:t,collab_board_email:i}=e;t!==n.allow_homefeed_recommendations&&r({id:s,allow_homefeed_recommendations:t});return u.a.create("BoardSettingsResource",{board_id:s,collab_board_email:i}).callUpdate({showError:!1}).then(()=>a()).catch(e=>{throw e.message})}})}render(){const{board:e,categories:t,viewer:n,onCropChange:o,onClose:c,onCollaboratorInviteClick:l,onToggleFlyout:u,inWebBoardModalExp:h}=this.props,{editMode:p}=this.state,f=n.isAuth&&n.id===e.owner.id,g=!!!e.archived_by_me_at&&f;return Object(r.jsxs)(i.Fragment,{children:["main"===p&&Object(r.jsx)(v.a,{board:e,categories:t,currentUserIsOwner:f,gaCategory:"board_edit",handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:f,isEditable:f,onClose:c,onCropChange:o,onArchiveButtonClick:this.handleShowArchiveModal,onDeleteButtonClick:this.handleShowDeleteModal,onMergeButtonClick:g?this.handleShowMergeModal:void 0,onCollaboratorInviteClick:l,onSubmit:this.handleSubmit,onToggleFlyout:u,onUnarchiveButtonClick:this.handleShowUnarchiveModal,submitText:d.a._("Done","BoardEdit.BoardEdit","Submit button text"),title:Object(r.jsx)(O.e,{paddingY:8,children:Object(r.jsx)(O.t,{align:"center",size:"md",children:d.a._("Edit your board")})}),inWebBoardModalExp:h}),"merge"===p&&Object(r.jsx)(s.a,{onCancel:this.returnToMainEditMode,onSubmit:this.handleMerge,sourceBoardId:e.id}),"confirmDelete"===p&&Object(r.jsx)(a.a,{confirmButtonLabel:d.a._("Delete forever","Confirms the user wants to permanently delete the board","Confirms the user wants to permanently delete the board"),cancelButtonLabel:d.a._("Cancel"),message:d.a._("Once you delete a board and all its Pins, you can't undo it!"),onConfirm:this.handleDelete,onCancel:this.returnToMainEditMode}),"confirmArchive"===p&&Object(r.jsx)(a.a,{confirmButtonLabel:d.a._("Archive","button label on confirming board archive","button label on confirming board archive"),heading:d.a._("Archive this board?","modal heading for board archive confirmation","modal heading for board archive confirmation"),message:Object(b.b)(d.a._("If you archive {{ boardName }}, you won’t be able to save Pins to it. We’ll hide it from your profile and stop using it for recommendations. (Don’t worry: You can unarchive your board to undo this!)","BoardEdit","Confirmation message when archiving a board"),{boardName:Object(r.jsx)(O.U,{inline:!0,weight:"bold",children:e.name},e.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleArchive}),"confirmUnarchive"===p&&Object(r.jsx)(a.a,{confirmButtonLabel:d.a._("Unarchive","button label on confirming board unarchive","button label on confirming board unarchive"),heading:d.a._("Unarchive this board?","modal heading for board unarchive confirmation","modal heading for board unarchive confirmation"),message:Object(b.b)(d.a._("If you unarchive {{ boardName }}, it will show up on your profile and you'll be able to save new Pins to it."),{boardName:Object(r.jsx)(O.U,{inline:!0,weight:"bold",children:e.name},e.name)}),onCancel:this.returnToMainEditMode,onConfirm:this.handleUnarchive})]})}}var S=Object(f.compose)(_.c,p.d,j.e,Object(o.connect)(e=>({viewer:e.viewer}),(e,t)=>{const n=e=>()=>{const{board:n,onBoardArchiveChange:i,toastManagerContext:o}=t;i&&i(),o.showToast(({onHide:t})=>{var i;return Object(r.jsx)(h.a,{imageUrl:null!==(i=n.image_cover_url)&&void 0!==i?i:"",onHide:t,text:Object(b.b)(e?d.a._("Archived {{ boardName }}","Toast text on complete archiving board","Toast text on complete archiving board"):d.a._("Unarchived {{ boardName }}","Toast text on complete unarchiving board","Toast text on complete unarchiving board"),{boardName:n.name}).join("")})})};return{archiveBoard:()=>e(Object(y.a)(t.board.id)).then(n(!0)),deleteBoard:()=>e(Object(y.h)(t.board.id)),mergeToBoard:n=>e(Object(y.j)(t.board.id,n.id)).then(()=>{t.showBlockingActionToast({actionType:"merge",board:n})}).catch(e=>{c.a.showError(e.message||d.a._("Failed to merge boards","Error message when failed to merge boards","Error message when failed to merge boards"))}),updateBoard:t=>e(Object(y.m)(t)),unarchiveBoard:()=>e(Object(y.l)(t.board.id)).then(n(!1))}}))(e=>{const{anyEnabled:t}=Object(m.a)("web_board_modal");return Object(r.jsx)(w,{...e,inWebBoardModalExp:t})}),C=n("TgLd"),I=n("w70y");function E({boardId:e,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:a,onBoardPrivacyChange:s,onBoardLeave:c,onBoardDelete:l,onBoardUpdate:u,onClose:h,onCollaboratorInviteClick:p,onCropChange:f}){const[b,g]=Object(i.useState)(!1),{data:m}=Object(I.a)({name:"CategoriesResource",allowStale:!1});Object(I.a)({name:"BoardResource",options:{field_set_key:"edit",board_id:e},allowStale:!1});const v=Object(o.useSelector)(({boards:t})=>t.content[e]);if(!!(!v||!m))return Object(r.jsx)(C.b,{accessibilityModalLabel:d.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on modal"),onDismiss:h,size:"sm",children:Object(r.jsx)(O.e,{padding:12,children:Object(r.jsx)(O.O,{accessibilityLabel:d.a._("Board edit","BoardEdit.BoardEditModal","Accessibility label on loading spinner"),show:!0})})});return Object(r.jsx)(S,{board:v,categories:m,coverImageHeight:t,coverImageWidth:n,onBoardArchiveChange:a,onBoardPrivacyChange:s,onBoardLeave:c,onBoardDelete:l,onBoardUpdate:u,onClose:()=>{b||h()},onCollaboratorInviteClick:p,onCropChange:f,onToggleFlyout:()=>g(!b)})}},qnky:function(e,t,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n("zVay").Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},quS2:function(e,t,n){n("Z6/o");var r={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return!1;var o=e.getNextSiblingKey();if(null!=o&&t.get(o).getPrevSiblingKey()!==n)return!1;return(null===o||null===i||i!==o)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),i=[];null!=r;){var o=e.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var c=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;r=c.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}};e.exports=r},qyR9:function(e,t,n){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var r=n("nKUr"),i=n("q1tI"),o=n("jdx6"),a=n("gONw"),s=n("Ye/N"),c=n("gdcG"),l=n("n6mq");var d=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:i,hasHoverState:o,hoverHandlers:a,name:c,onClick:d}=e,u=c||t||s.a._("Create board");return Object(r.jsx)(l.T,{onMouseEnter:a.onMouseOver,onMouseLeave:a.onMouseLeave,onTap:d,children:Object(r.jsxs)(l.e,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:i?"shrink":"none",height:64,width:"100%",children:[Object(r.jsx)(l.e,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:Object(r.jsx)(l.u,{accessibilityLabel:s.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),c?Object(r.jsx)(l.e,{margin:1,children:Object(r.jsxs)(l.U,{inline:!0,overflow:"normal",children:[" ",s.a._("Create: ")," "]})}):null,Object(r.jsxs)(l.U,{align:"center",inline:!0,truncate:!0,weight:"bold",children:[" ",u," "]})]})})})),u=n("9QW3"),h=n("NdQN"),p=n("IBrh"),f=n("seP0");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=2;class m extends i.Component{constructor(...e){super(...e),b(this,"state",{searchQuery:""}),b(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),b(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),b(this,"renderSectionHeader",(e,t)=>e.title?Object(r.jsxs)(l.e,{children:[t>0&&Object(r.jsx)(l.o,{}),Object(r.jsx)(l.e,{paddingX:3,paddingY:1,children:Object(r.jsx)(l.U,{size:"md",children:e.title})})]}):null),b(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:i,isSelectMode:a,disabledRowId:s}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,d=i&&i.board===e.id?i&&i.state:null,u="board_section"===e.type;return Object(r.jsx)(o.a,{isSelectMode:a,disabled:e.id===s&&l,item:e,isSection:u,isWithinSectionPicker:l,saveState:d,searchQuery:c,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:i,isLoaded:o,onCreate:c,pinId:f}=this.props;if(o){const{searchQuery:o}=this.state,s=i(o);return this.indexManager=new u.a(s.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),Object(r.jsxs)(l.e,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&Object(r.jsxs)(l.e,{children:[Object(r.jsx)(l.e,{paddingX:3,marginBottom:4,marginTop:1,children:Object(r.jsx)(h.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:o})}),Object(r.jsx)(l.o,{})]}),Object(r.jsx)(p.a,{disabled:!!e,grow:!n&&!o,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:s}),Object(r.jsx)(l.o,{}),c&&Object(r.jsx)(d,{buttonLabel:t,hasHoverState:!0,name:o,onClick:()=>c(o)}),n&&c&&f&&Object(r.jsx)(a.a,{onBoardSelected:c,pinId:f})]})}return Object(r.jsx)(l.e,{paddingY:5,children:Object(r.jsx)(l.O,{accessibilityLabel:s.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function v(e){const t=Object(f.c)();return Object(r.jsx)(m,{...e,boardPickerStopwatch:t})}},qyXF:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n("Ye/N"),i=n("vvax");const o=()=>r.a._("{{ first }}","Generic message that lists 1 item","Generic message that lists 1 item (ex: Stevie)"),a=()=>r.a._("{{ first }} and {{ second }}","Generic message that lists 2 items","Generic message that lists 2 items (ex: Stevie and Michael)"),s=()=>r.a._("{{ first }}, {{ second }} and {{ third }}","Generic message that lists 3 items","Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)"),c=()=>r.a._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}","Generic message that lists 4 items","Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)"),l=()=>r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}","Generic message that lists 5 items","Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)"),d=()=>r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}","Generic message that lists 6 items","Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)");function u(e){const t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return Object(i.b)(o(),t);case 2:return Object(i.b)(a(),t);case 3:return Object(i.b)(s(),t);case 4:return Object(i.b)(c(),t);case 5:return Object(i.b)(l(),t);case 6:return Object(i.b)(d(),t);default:return Object(i.b)(r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others","Generic message that lists more than 6 items","Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)"),t)}}function h(e){const t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return Object(i.b)(o(),t);case 2:return Object(i.b)(a(),t);case 3:return Object(i.b)(s(),t);case 4:return Object(i.b)(c(),t);case 5:return Object(i.b)(l(),t);case 6:return Object(i.b)(d(),t);case 7:return Object(i.b)(r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}","Generic message that lists 7 items","Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)"),t);default:return Object(i.b)(r.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others","Generic message that lists more than 7 items","Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)"),t)}}},qysv:function(e,t,n){e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},r8eU:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("QLaP"),i=n.n(r);class o{constructor(e,t){i()(e,"You must pass a requestContext to check an Experiment"),i()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_isSeoExperiment(){return this.experimentName.startsWith("seo_")}_getGroup(e){return this.requestContext.isBot?this._isSeoExperiment()&&this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":this._isSeoExperiment()?e?"":this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends o{getGroup(e=!1){return this._getGroup(e)}}class s extends o{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},rAV9:function(e,t,n){var r=n("q1tI"),i=n("pXmp"),o=(0,n("zVay").Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=o},rJY1:function(e,t,n){var r={},i=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return r[e]=!0,e}},rV1A:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8");t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:r.PUBLISH_DRAG_SOURCE}}}},rVUJ:function(e,t,n){var r,i,o,a=n("nKUr"),s=n("q1tI"),c=n.n(s),l=n("/MKj"),d=n("B2N+"),u=n("n6mq");class h extends s.Component{renderPulsar(){const{anchor:e,handleComplete:t,zIndex:n}=this.props;return Object(a.jsx)(d.a,{anchor:e,onTouch:t,zIndex:n})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:r,handleComplete:i}=this.props;if(!n)return null;const{cancelButtonText:o,confirmButtonText:s,mainText:c,idealDirection:l="down"}=n,d=o&&r&&s&&i;return Object(a.jsx)(u.r,{anchor:e,color:"blue",idealDirection:l,onDismiss:r,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(a.jsxs)(u.e,{maxWidth:284,padding:3,width:"max-content",children:[Object(a.jsx)(u.U,{color:"white",overflow:t,weight:"bold",children:c}),d?Object(a.jsxs)(u.e,{marginTop:2,display:"flex",alignItems:"center",children:[Object(a.jsx)(u.e,{column:6,marginEnd:1,children:Object(a.jsx)(u.f,{color:"transparentWhiteText",onClick:e=>r(e),size:"md",text:String(o)})}),Object(a.jsx)(u.e,{column:6,children:Object(a.jsx)(u.f,{color:"white",size:"md",text:String(s),onClick:i})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}o={overflow:"breakWord"},(i="defaultProps")in(r=h)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o;var p=n("NdXn"),f=n("AAEI"),b=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:r,experience:i,isHidden:o,onCompleteClick:d,overflow:g,zIndex:m})=>{var v;const y=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(l.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:i}),j=Object(f.a)(null==y?void 0:y.placement_id),_=(null==y||null===(v=y.display_data)||void 0===v?void 0:v.delay)||0,[O,x]=Object(s.useState)(!!_);if(Object(s.useEffect)(()=>{if(_>0&&O){const e=setTimeout(()=>{x(!1)});return()=>clearTimeout(e)}return()=>{}},[_,O]),Object(s.useEffect)(()=>{!O&&y&&j.viewExperience(y.placement_id,y.experience_id)},[O,y]),!y||O||o)return c.a.Children.only(n);const w=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(b.a)(p.a,!0)(t)})(y);return Object(a.jsxs)(u.e,{position:"relative",height:null==r?void 0:r.height,display:null==r?void 0:r.display,children:[Object(a.jsx)(u.T,{onMouseEnter:()=>{var e;(null===(e=y.display_data)||void 0===e?void 0:e.complete_on_hover)&&j.completeExperience(y.placement_id,y.experience_id)},onTap:()=>{d&&d(),j.completeExperience(y.placement_id,y.experience_id)},children:c.a.Children.only(n)}),Object(a.jsx)(h,{anchor:t||null,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{(null==e?void 0:e.event)&&e.event.stopPropagation(),j.dismissExperience(y.placement_id,y.experience_id)},overflow:g,pulserOnly:!!w.pulserOnly,tooltip:w.tooltip,tooltipOnly:!!w.tooltipOnly,zIndex:m})]})}},rYoy:function(e,t,n){var r=n("E8d4");t.a=r.a},"rg+c":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("nKUr"),i=n("q1tI"),o=n("P9b8"),a=n("ANjH");const s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const c={hover:({index:e,onDragHover:t},n,r)=>{t(e,function(e,t){const n=t.targetEl;if(!(n&&n instanceof HTMLElement))return null;const{x:r,y:i}=e.getClientOffset(),{left:o,right:a,top:s,bottom:c,width:l,height:d}=n.getBoundingClientRect();return{positionRelativeToCenter:{x:r-(o+a)/2,y:i-(s+c)/2},boundingBox:{width:l,height:d}}}(n,r))}};class l extends i.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:n,isDragging:i,isDraggingInternal:o}=this.props;return t(n(Object(r.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:i||o?0:1},children:e})))}}t.b=Object(a.compose)(Object(o.DropTarget)(e=>e.type,c,e=>({connectDropTarget:e.dropTarget()})),Object(o.DragSource)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(l)},rrvb:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("Ye/N"),s=n("9QW3"),c=n("NdQN"),l=n("IBrh"),d=n("gdcG"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a.Component{constructor(...e){super(...e),h(this,"state",{showFlyout:!1}),h(this,"setContainerRef",e=>{this.containerRef=e}),h(this,"handleCreate",()=>{this.hideFlyout();const{onCreate:e}=this.props;e&&e()}),h(this,"handleSelectItem",e=>{this.hideFlyout();const{onSelect:t,onCreate:n}=this.props;e?t(e):n&&n()}),h(this,"handleDropdownTouch",()=>{this.setState(e=>({showFlyout:!e.showFlyout}))}),h(this,"handleHideFlyout",e=>{this.containerRef&&e.target instanceof HTMLElement&&!this.containerRef.contains(e.target)&&this.hideFlyout()}),h(this,"hideFlyout",()=>{const{hoverHandlers:{onMouseLeave:e}}=this.props;e(),this.setState({showFlyout:!1})})}componentDidMount(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}render(){const{dropdownValue:e,fetchMore:t,hoverHandlers:{onMouseOver:n,onMouseLeave:i},isHovering:o,isStoryPin:d,onCreate:h,onSearchQueryUpdate:p,renderRow:f,searchQuery:b,sections:g,createBtnDisabled:m}=this.props,{showFlyout:v}=this.state;this.indexManager=new s.a(g.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem);const y=!b.trim()||!!m;return Object(r.jsxs)("div",{ref:this.setContainerRef,style:{...d?{flex:"grow"}:{}},children:[Object(r.jsx)(u.T,{fullWidth:!!d,onMouseEnter:n,onMouseLeave:i,onTap:this.handleDropdownTouch,rounding:2,children:Object(r.jsxs)(u.e,{alignItems:"center",color:o?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:d?4:3,rounding:d?4:2,children:[Object(r.jsx)(u.e,{display:"flex",flex:"grow",children:Object(r.jsx)(u.U,{weight:"bold",children:e})}),Object(r.jsx)(u.u,{accessibilityLabel:"",color:"darkGray",icon:"arrow-down",size:14})]})}),v&&Object(r.jsx)(u.e,{position:"relative",children:Object(r.jsxs)(u.e,{borderStyle:"sm",color:"white",dangerouslySetInlineStyle:{__style:{zIndex:1}},direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:d?4:2,width:"100%",children:[Object(r.jsx)(u.e,{children:Object(r.jsxs)(u.e,{display:"flex",marginStart:-1,marginEnd:-1,padding:2,children:[Object(r.jsx)(u.e,{display:"flex",flex:"grow",paddingX:1,children:Object(r.jsx)(c.a,{hideIcon:!0,indexManager:this.indexManager,onChange:p,value:b})}),h&&Object(r.jsx)(u.e,{paddingX:1,children:Object(r.jsx)(u.f,{disabled:y,inline:!0,onClick:this.handleCreate,text:a.a._("Create","board or section dropdown create button","board or section dropdown create button")})})]})}),Object(r.jsx)(l.a,{fetchMore:t,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:f,sections:g})]})})]})}}t.a=Object(d.a)(p)},rxSY:function(e,t,n){n.d(t,"a",(function(){return C}));var r=n("nKUr"),i=n("q1tI"),o=n("FDmi"),a=n("Ye/N"),s=n("w70y"),c=n("n6mq");function l({boardId:e,invitedUserId:t,isInvited:n,onClick:o,buttonSize:l="sm"}){const d=Object(s.a)({name:"BoardInviteResource",options:{board_id:e,invited_user_id:t}});Object(i.useEffect)(()=>{d.refreshData()},[]);const u={text:a.a._("Invite","[button] invite someone to collaborate on a board","it appears in the list expanded when click invite button at the top of board page"),color:"red",disabled:!1};return d.isFetching&&(u.text=a.a._("Loading","[button] disabled button status text when checking if the user has been invited","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),(n||d.isLoaded&&d.data)&&(u.text=a.a._("Invited","[button] disabled button status text when a user has been invited to a board","it appears in the list expanded when click invite button at the top of board page"),u.color="gray",u.disabled=!0),Object(r.jsx)(c.f,{color:u.color,size:l,disabled:u.disabled,onClick:o,text:u.text})}var d=n("ViqK"),u=n("xZ6X"),h=n("fZbY"),p=n("7w6Q"),f=n("lUWX"),b=n("oRM1"),g=n("v/Q4"),m=n("TN0d"),v=n("U4JR"),y=n("O3d3"),j=n("ZE2w");const _=[];function O({boardId:e,onInvitesDidUpdate:t,onInviteDidComplete:n,shareSuggestions:s}){const O=Object(g.a)(),[x,w]=Object(i.useState)(O.isAuth?O.socialNetwork:void 0),[S,C]=Object(i.useState)(""),[I,E]=Object(i.useState)([]),[k,D]=Object(i.useState)({}),[T,M]=Object(i.useState)({}),P=e=>{if(!e)return[];return Object.keys(e).filter(e=>_.includes(e)).filter(t=>!1===e[t].connected).map(e=>Object(r.jsx)(f.a,{network:e},"socialConnect-"+e))},B=e=>{switch(e.type){case"user":case"user_share_suggestion":return e.username||a.a._("On Pinterest","is a user of Pinterest","is a user of Pinterest");case"emailcontact":case"email_share_suggestion":return e.email||a.a._("Email Contact","invited user has an email","invited user has an email")}return""};m.b.subscribe("currentUser","socialNetworkUpdated",(e,t,n)=>{w(Object(y.a)(n))});const A=(r,i)=>{const{id:o,full_name:a,debug_reason:s}=r;let c="";s&&(c=s.reason),((t,n)=>{const r=S?1044:1039;Object(v.b)(101,{component:13029,element:r,entered_query:S,result_index:t+1,rs:n,objectId:e,view:5,viewParameter:3059})})(i,c);const l={...k};l[o]=!0,D(l),Object(j.d)(e,[o]).then(()=>{n(a,!0)}).catch(e=>{n(a,!1,e);const t={...k};t[o]=!1,D(t)}).finally(t)},R=[...P(x)];let L=s;return S&&(L=I),Object(r.jsxs)(c.e,{minHeight:0,display:"flex",direction:"column",children:[Object(r.jsx)(c.e,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:Object(r.jsx)(c.e,{flex:"grow",children:Object(r.jsx)(b.a,{onTypeaheadSuggestionsChange:e=>{p.a.increment("web_contacts_search",1,{source:"board_invite"}),E(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:{suggestion_type:"group_board",count:25},value:S,children:Object(r.jsx)(c.e,{paddingX:4,children:Object(r.jsx)(c.K,{accessibilityLabel:a.a._("Search for a name or email","accessible label for contact search input field","accessible label for contact search input field"),id:"search",onChange:({value:e})=>{C(e),Object(v.b)(4113,{component:13029,element:1043,entered_query:e,viewParameter:3059})},placeholder:a.a._("Search by name or email","search input field prompt for finding contacts","search input field prompt for finding contacts"),size:"lg",value:S})})})})}),Object(r.jsxs)(c.e,{overflow:"scrollY",maxHeight:414,children:[L.map((t,n)=>{const i=t.username?`/${t.username}/`:null;return Object(r.jsx)(c.e,{children:Object(r.jsx)(d.a,{imageUrl:t.image_medium_url||"",name:t.full_name||t.email,title:t.full_name||t.email,subtitle:B(t),accessory:Object(r.jsx)(l,{boardId:e,invitedUserId:t.id,isInvited:(o=t.id,!!k[o]),onClick:()=>A(t,n),buttonSize:"lg"}),linkURL:i})},n);var o}),S&&(Object(h.a)(S)?Object(r.jsx)(d.a,{name:S,title:S,accessory:(N=!!T[S],z=()=>{const r=S;if(!Object(h.a)(r))return;const i={...T};i[r]=!0,M(i),Object(j.c)(e,[r]).then(()=>{n(r,!0),C("")}).catch(e=>{n(r,!1,e);const t={...T};t[r]=!1,M(t)}).finally(t)},F="lg",Object(r.jsx)(c.f,{color:N?"gray":"red",disabled:!!N,size:F,onClick:z,text:N?a.a._("Invited","[button] disabled button status text when a user has been invited to a board","[button] disabled button status text when a user has been invited to a board"):a.a._("Invite","[button] invite someone to collaborate on a board","[button] invite someone to collaborate on a board")}))}):Object(r.jsx)(u.a,{iconNode:Object(r.jsx)(o.a,{name:S,size:"md"}),title:S,subtitle:a.a._("Keep typing!","boardCollabInviterForm.label","Message for user to keep typing")})),R]})]});var N,z,F}var x=n("M1Uz"),w=n("vvax"),S=n("nGHF");function C({boardId:e}){const t=Object(S.b)(),{refreshData:n}=Object(s.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},allowStale:!1}),{refreshData:o}=Object(s.a)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"pending_approval"},allowStale:!1}),{data:l,isLoaded:d}=Object(s.a)({name:"ShareSuggestionsResource",options:{page_size:5,field_set_key:"default",suggestion_type:"group_board"},allowStale:!1});Object(i.useEffect)(()=>{Object(v.b)(7120,{objectId:e,view:5,viewParameter:3059})},[]),Object(i.useEffect)(()=>{if(d){const e=l&&l.length>0?7511:7512;Object(v.b)(e,{component:13305,element:10592,view:5,viewParameter:3059})}},[d]);const u=(e,n=!1)=>{t.showOneToast(({onHide:t})=>Object(r.jsx)(x.a,{color:n?"red":void 0,duration:3e3,onHide:t,text:e}))};return d?Object(r.jsx)(O,{boardId:e,onInvitesDidUpdate:()=>{n(),o()},onInviteDidComplete:(e,t,n)=>{t?(e=>{const t=a.a._("Invited {{userIdentifier}} to collaborate","Toast for successfully sending invitation of collaborating a board","Toast for successfully sending invitation of collaborating a board");u(Object(w.b)(t,{userIdentifier:e}).join(""))})(e):((e,t)=>{const n=a.a._("Failed to invite {{userIdentifier}} to collaborate","Toast for failing to send invitation of collaborating a board","Toast for failing to send invitation of collaborating a board");u(t&&t.message?t.message:Object(w.b)(n,{userIdentifier:e}).join(""),!0)})(e,n)},shareSuggestions:l||[]}):Object(r.jsx)(c.e,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:Object(r.jsx)(c.O,{accessibilityLabel:a.a._("Loading contacts","BoardCollab.BoardCollabInviteFormContainer","Accessibility label on loading spinner"),show:!0})})}},s5IZ:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[u])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[p])}function l(e){return s(e)||c(e)}function d(e){return!(!e||!e[f])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=d,n.Keyed=r,n.Indexed=i,n.Set=o;var u="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",b="delete",g=5,m=1<<g,v=m-1,y={},j={value:!1},_={value:!1};function O(e){return e.value=!1,e}function x(e){e&&(e.value=!0)}function w(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(E)),e.size}function I(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function E(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return M(e,t,0)}function T(e,t){return M(e,t,t)}function M(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,B=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=R||L;function z(e){this.next=e}function F(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function q(e){return!!W(e)}function K(e){return e&&"function"==typeof e.next}function H(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(R&&e[R]||e[L]);if("function"==typeof t)return t}function V(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=P,z.VALUES=B,z.ENTRIES=A,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[N]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},J.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=Y,G.Set=X,G.Indexed=J;var Q,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():K(e)?new ie(e).fromEntrySeq():q(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=de(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=de(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function de(e){return V(e)?new te(e):K(e)?new ie(e):q(e)?new re(e):void 0}function ue(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function he(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?U():F(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function pe(e,t){return t?fe(t,e,"",{"":e}):be(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):ge(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function be(e){return Array.isArray(e)?J(e).map(be).toList():ge(e)?Y(e).map(be).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function me(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ve(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||d(e)!==d(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(d(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&me(i[1],e)&&(n||me(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var u=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):i?!me(t,e.get(r,y)):!me(e.get(r,y),t))return u=!1,!1}));return u&&e.size===h}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function je(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(je(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function Oe(){throw TypeError("Abstract")}function xe(){}function we(){}function Se(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[I(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?U():F(e,i,n[t?r-i++:i++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?U():F(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=H(this._iterable),r=0;if(K(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=H(this._iterable);if(!K(n))return new z(U);var r=0;return new z((function(){var t=n.next();return t.done?t:F(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return F(e,i,r[i++])}))},t(ye,J),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return me(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ye(this._value,T(t,n)-D(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return me(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return me(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?F(e,r++,n._value):U()}))},ye.prototype.equals=function(e){return e instanceof ye?me(this._value,e._value):ve(e)},t(_e,J),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+I(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=D(e,this.size),(t=T(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?U():F(e,o++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ve(this,e)},t(Oe,n),t(xe,Oe),t(we,Oe),t(Se,Oe),Oe.Keyed=xe,Oe.Indexed=we,Oe.Set=Se;var Ce="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ie(e){return e>>>1&1073741824|3221225471&e}function Ee(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ie(n)}if("string"===t)return e.length>ze?ke(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Te(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){var t=qe[e];return void 0===t&&(t=De(e),Ue===Fe&&(Ue=0,qe={}),Ue++,qe[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ie(t)}function Te(e){var t;if(Re&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=Be(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Re)Ae.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var Me=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae,Re="function"==typeof WeakMap;Re&&(Ae=new WeakMap);var Le=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var ze=16,Fe=255,Ue=0,qe={};function Ke(e){je(e!==1/0,"Cannot perform this action with an infinite size.")}function He(e){return null==e?it():We(e)&&!d(e)?e:it().withMutations((function(t){var n=r(e);Ke(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function We(e){return!(!e||!e[Ge])}t(He,xe),He.prototype.toString=function(){return this.__toString("Map {","}")},He.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},He.prototype.set=function(e,t){return ot(this,e,t)},He.prototype.setIn=function(e,t){return this.updateIn(e,y,(function(){return t}))},He.prototype.remove=function(e){return ot(this,e,y)},He.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return y}))},He.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},He.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,On(e),t,n);return r===y?void 0:r},He.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},He.prototype.merge=function(){return ht(this,void 0,arguments)},He.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},He.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},He.prototype.mergeDeep=function(){return ht(this,pt,arguments)},He.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},He.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},He.prototype.sort=function(e){return qt(un(this,e))},He.prototype.sortBy=function(e,t){return qt(un(this,t,e))},He.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},He.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},He.prototype.asImmutable=function(){return this.__ensureOwner()},He.prototype.wasAltered=function(){return this.__altered},He.prototype.__iterator=function(e,t){return new et(this,e,t)},He.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},He.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},He.isMap=We;var Ve,Ge="@@__IMMUTABLE_MAP__@@",Ye=He.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return F(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ye);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return Ve||(Ve=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=O(j),a=O(_);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===y?-1:1:0)}else{if(n===y)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===y?e:(x(s),x(a),new $e(t,r,[i,o]))}function st(e){return e.constructor===$e||e.constructor===Ze}function ct(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v;return new Xe(t,1<<a|1<<s,a===s?[ct(e,t,n+g,r,i)]:(o=new $e(t,r,i),a<s?[e,o]:[o,e]))}function lt(e,t,n,r){e||(e=new w);for(var i=new $e(e,Ee(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function dt(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var d=t[s];void 0!==d&&s!==r&&(i|=c,a[o++]=d)}return new Xe(e,i,a)}function ut(e,t,n,r,i){for(var o=0,a=new Array(m),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Qe(e,o+1,a)}function ht(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return pe(e)}))),i.push(c)}return bt(e,t,i)}function pt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):me(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return me(t,i)?t:i}}function bt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,y,(function(e){return e===y?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var i=e===y,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}je(i||e&&e.set,"invalid keyPath");var c=o.value,l=i?y:e.get(c,y),d=gt(l,t,n,r);return d===l?e:d===y?e.remove(c):(i?it():e).set(c,d)}function mt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function vt(e,t,n,r){var i=r?e:S(e);return i[t]=n,i}function yt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function jt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ye[Ge]=!0,Ye[b]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===y,c=this.entries,l=0,d=c.length;l<d&&!me(r,c[l][0]);l++);var u=l<d;if(u?c[l][1]===i:s)return this;if(x(a),(s||!u)&&x(o),!s||1!==c.length){if(!u&&!s&&c.length>=_t)return lt(e,c,r,i);var h=e&&e===this.ownerID,p=h?c:S(c);return u?s?l===d-1?p.pop():p[l]=p.pop():p[l]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Je(e,p)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=1<<((0===e?t:t>>>e)&v),o=this.bitmap;return 0==(o&i)?r:this.nodes[mt(o&i-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&v,c=1<<s,l=this.bitmap,d=0!=(l&c);if(!d&&i===y)return this;var u=mt(l&c-1),h=this.nodes,p=d?h[u]:void 0,f=at(p,e,t+g,n,r,i,o,a);if(f===p)return this;if(!d&&f&&h.length>=Ot)return ut(e,h,l,s,f);if(d&&!f&&2===h.length&&st(h[1^u]))return h[1^u];if(d&&f&&1===h.length&&st(f))return f;var b=e&&e===this.ownerID,m=d?f?l:l^c:l|c,j=d?f?vt(h,u,f,b):jt(h,u,b):yt(h,u,f,b);return b?(this.bitmap=m,this.nodes=j,this):new Xe(e,m,j)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=(0===e?t:t>>>e)&v,o=this.nodes[i];return o?o.get(e+g,t,n,r):r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&v,c=i===y,l=this.nodes,d=l[s];if(c&&!d)return this;var u=at(d,e,t+g,n,r,i,o,a);if(u===d)return this;var h=this.count;if(d){if(!u&&--h<xt)return dt(e,l,h,s)}else h++;var p=e&&e===this.ownerID,f=vt(l,s,u,p);return p?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},Ze.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=i===y;if(n!==this.keyHash)return s?this:(x(a),x(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,l=0,d=c.length;l<d&&!me(r,c[l][0]);l++);var u=l<d;if(u?c[l][1]===i:s)return this;if(x(a),(s||!u)&&x(o),s&&2===d)return new $e(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,p=h?c:S(c);return u?s?l===d-1?p.pop():p[l]=p.pop():p[l]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Ze(e,this.keyHash,p)},$e.prototype.get=function(e,t,n,r){return me(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,a){var s=i===y,c=me(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(x(a),s?void x(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(x(o),ct(this,e,t,Ee(r),[r,i])))},Je.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return U()};var _t=m/4,Ot=m/2,xt=m/4;function wt(e){var t=Bt();if(null==e)return t;if(St(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ke(r),r>0&&r<m?Pt(0,r,g,null,new Et(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[Ct])}t(wt,we),wt.of=function(){return this(arguments)},wt.prototype.toString=function(){return this.__toString("List [","]")},wt.prototype.get=function(e,t){if((e=I(this,e))>=0&&e<this.size){var n=Nt(this,e+=this._origin);return n&&n.array[e&v]}return t},wt.prototype.set=function(e,t){return At(this,e,t)},wt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},wt.prototype.insert=function(e,t){return this.splice(e,0,t)},wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},wt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},wt.prototype.pop=function(){return zt(this,0,-1)},wt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},wt.prototype.shift=function(){return zt(this,1)},wt.prototype.merge=function(){return Ft(this,void 0,arguments)},wt.prototype.mergeWith=function(t){return Ft(this,t,e.call(arguments,1))},wt.prototype.mergeDeep=function(){return Ft(this,pt,arguments)},wt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ft(this,ft(t),n)},wt.prototype.setSize=function(e){return zt(this,0,e)},wt.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:zt(this,D(e,n),T(t,n))},wt.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new z((function(){var t=r();return t===Tt?U():F(e,n++,t)}))},wt.prototype.__iterate=function(e,t){for(var n,r=0,i=Mt(this,t);(n=i())!==Tt&&!1!==e(n,r++,this););return r},wt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},wt.isList=St;var Ct="@@__IMMUTABLE_LIST__@@",It=wt.prototype;function Et(e,t){this.array=e,this.ownerID=t}It[Ct]=!0,It[b]=It.remove,It.setIn=Ye.setIn,It.deleteIn=It.removeIn=Ye.removeIn,It.update=Ye.update,It.updateIn=Ye.updateIn,It.mergeIn=Ye.mergeIn,It.mergeDeepIn=Ye.mergeDeepIn,It.withMutations=Ye.withMutations,It.asMutable=Ye.asMutable,It.asImmutable=Ye.asImmutable,It.wasAltered=Ye.wasAltered,Et.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new Et([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-g,n))===a&&o)return this}if(o&&!i)return this;var s=Lt(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Et.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&v;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-g,n))===o&&i===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var kt,Dt,Tt={};function Mt(e,t){var n=e._origin,r=e._capacity,i=Ut(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>m&&(l=m),function(){if(c===l)return Tt;var e=t?--l:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,l=o>n?0:n-o>>i,d=1+(r-o>>i);return d>m&&(d=m),function(){for(;;){if(s){var e=s();if(e!==Tt)return e;s=null}if(l===d)return Tt;var n=t?--d:l++;s=a(c&&c[n],i-g,o+(n<<i))}}}}function Pt(e,t,n,r,i,o,a){var s=Object.create(It);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Bt(){return kt||(kt=Pt(0,0,g))}function At(e,t,n){if((t=I(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=O(_);return t>=Ut(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,o):i=Rt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,i,r):e}function Rt(e,t,n,r,i,o){var a,s=r>>>n&v,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var l=e&&e.array[s],d=Rt(l,t,n-g,r,i,o);return d===l?e:((a=Lt(e,t)).array[s]=d,a)}return c&&e.array[s]===i?e:(x(o),a=Lt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Et(e?e.array.slice():[],t)}function Nt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=g;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new w,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,d=0;a+d<0;)l=new Et(l&&l.array.length?[void 0,l]:[],r),d+=1<<(c+=g);d&&(a+=d,i+=d,s+=d,o+=d);for(var u=Ut(o),h=Ut(s);h>=1<<c+g;)l=new Et(l&&l.array.length?[l]:[],r),c+=g;var p=e._tail,f=h<u?Nt(e,s-1):h>u?new Et([],r):p;if(p&&h>u&&a<o&&p.array.length){for(var b=l=Lt(l,r),m=c;m>g;m-=g){var y=u>>>m&v;b=b.array[y]=Lt(b.array[y],r)}b.array[u>>>g&v]=p}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=g,l=null,f=f&&f.removeBefore(r,0,a);else if(a>i||h<u){for(d=0;l;){var j=a>>>c&v;if(j!==h>>>c&v)break;j&&(d+=(1<<c)*j),c-=g,l=l.array[j]}l&&a>i&&(l=l.removeBefore(r,c,a-d)),l&&h<u&&(l=l.removeAfter(r,c,h-d)),d&&(a-=d,s-=d)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,c,l,f)}function Ft(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(e){return pe(e)}))),r.push(l)}return o>e.size&&(e=e.setSize(o)),bt(e,t,r)}function Ut(e){return e<m?0:e-1>>>g<<g}function qt(e){return null==e?Wt():Kt(e)?e:Wt().withMutations((function(t){var n=r(e);Ke(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Kt(e){return We(e)&&d(e)}function Ht(e,t,n,r){var i=Object.create(qt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Wt(){return Dt||(Dt=Ht(it(),Bt()))}function Vt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===y){if(!c)return e;a.size>=m&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Ht(r,i)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Qt(e){var t=yn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=jn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===B?P:B,n)},t}function Zt(e,t,n){var r=yn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,y);return o===y?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(A,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return F(r,s,t.call(n,a[1],s,e),i)}))},r}function $t(e,t){var n=yn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=jn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=yn(e);return r&&(i.has=function(r){var i=e.get(r,y);return i!==y&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,y);return o!==y&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(A,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],d=c[1];if(t.call(n,d,l,e))return F(i,r?l:s++,d,o)}}))},i}function tn(e,t,n){var r=He().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(d(e)?qt():He()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=vn(e);return i.map((function(t){return bn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,i))return e;var o=D(t,i),a=T(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c==c&&(s=c<0?0:c);var l=yn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(l.get=function(t,n){return(t=I(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return U();var e=i.next();return r||t===B?e:F(t,c-1,t===P?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(A,i),s=!0;return new z((function(){if(!s)return U();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===A?e:F(r,c,l,e):(s=!1,U())}))},r}function an(e,t,n,r){var i=yn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(A,o),c=!0,l=0;return new z((function(){var e,o,d;do{if((e=s.next()).done)return r||i===B?e:F(i,l++,i===P?void 0:e.value[1],e);var u=e.value;o=u[0],d=u[1],c&&(c=t.call(n,d,o,a))}while(c);return i===A?e:F(i,o,d,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var l=new te(i);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,l){var d=this;e.__iterate((function(e,i){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?i:o++,d)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===A&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:F(r,c++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return U()}))},r}function ln(e,t,n){var r=vn(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function dn(e,t){var n=yn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(B,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?F(n,a++,t):F(n,a++,i.value,i)}))},n}function un(e,t,n){t||(t=_n);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Y(o):c(e)?J(o):X(o)}function hn(e,t,n){if(t||(t=_n),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return pn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return pn(t,e,n)?n:e}))}function pn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var i=yn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(B,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),H(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():F(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function bn(e,t){return oe(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function mn(e){return Ke(e.size),C(e)}function vn(e){return s(e)?r:c(e)?i:o}function yn(e){return Object.create((s(e)?Y:c(e)?J:X).prototype)}function jn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function _n(e,t){return e>t?1:e<t?-1:0}function On(e){var t=H(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function xn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);In(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=He(o)},i=r.prototype=Object.create(wn);return i.constructor=r,r}t(qt,He),qt.of=function(){return this(arguments)},qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wt()},qt.prototype.set=function(e,t){return Vt(this,e,t)},qt.prototype.remove=function(e){return Vt(this,e,y)},qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},qt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},qt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ht(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},qt.isOrderedMap=Kt,qt.prototype[f]=!0,qt.prototype[b]=qt.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?mn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(B,t),r=t?mn(this):0;return new z((function(){var i=n.next();return i.done?i:F(e,t?--r:r++,i.value,i)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t),r=0;return new z((function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)}))},t(Jt,X),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new z((function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)}))},t(Xt,Y),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var i=a(r);return F(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=Xt.prototype.cacheResult=jn,t(xn,xe),xn.prototype.toString=function(){return this.__toString(Cn(this)+" {","}")},xn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},xn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},xn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,it()))},xn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Cn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},xn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},xn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var wn=xn.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Cn(e){return e._name||e.constructor.name||"Record"}function In(e,t){try{t.forEach(En.bind(void 0,e))}catch(n){}}function En(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){je(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function kn(e){return null==e?Rn():Dn(e)&&!d(e)?e:Rn().withMutations((function(t){var n=o(e);Ke(n.size),n.forEach((function(e){return t.add(e)}))}))}function Dn(e){return!(!e||!e[Mn])}wn[b]=wn.remove,wn.deleteIn=wn.removeIn=Ye.removeIn,wn.merge=Ye.merge,wn.mergeWith=Ye.mergeWith,wn.mergeIn=Ye.mergeIn,wn.mergeDeep=Ye.mergeDeep,wn.mergeDeepWith=Ye.mergeDeepWith,wn.mergeDeepIn=Ye.mergeDeepIn,wn.setIn=Ye.setIn,wn.update=Ye.update,wn.updateIn=Ye.updateIn,wn.withMutations=Ye.withMutations,wn.asMutable=Ye.asMutable,wn.asImmutable=Ye.asImmutable,t(kn,Se),kn.of=function(){return this(arguments)},kn.fromKeys=function(e){return this(r(e).keySeq())},kn.prototype.toString=function(){return this.__toString("Set {","}")},kn.prototype.has=function(e){return this._map.has(e)},kn.prototype.add=function(e){return Bn(this,this._map.set(e,!0))},kn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},kn.prototype.clear=function(){return Bn(this,this._map.clear())},kn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},kn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},kn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},kn.prototype.merge=function(){return this.union.apply(this,arguments)},kn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},kn.prototype.sort=function(e){return Ln(un(this,e))},kn.prototype.sortBy=function(e,t){return Ln(un(this,t,e))},kn.prototype.wasAltered=function(){return this._map.wasAltered()},kn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},kn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},kn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},kn.isSet=Dn;var Tn,Mn="@@__IMMUTABLE_SET__@@",Pn=kn.prototype;function Bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function An(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Tn||(Tn=An(it()))}function Ln(e){return null==e?qn():Nn(e)?e:qn().withMutations((function(t){var n=o(e);Ke(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return Dn(e)&&d(e)}Pn[Mn]=!0,Pn[b]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ye.withMutations,Pn.asMutable=Ye.asMutable,Pn.asImmutable=Ye.asImmutable,Pn.__empty=Rn,Pn.__make=An,t(Ln,kn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var zn,Fn=Ln.prototype;function Un(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function qn(){return zn||(zn=Un(Wt()))}function Kn(e){return null==e?Jn():Hn(e)?e:Jn().unshiftAll(e)}function Hn(e){return!(!e||!e[Vn])}Fn[f]=!0,Fn.__empty=qn,Fn.__make=Un,t(Kn,we),Kn.of=function(){return this(arguments)},Kn.prototype.toString=function(){return this.__toString("Stack [","]")},Kn.prototype.get=function(e,t){var n=this._head;for(e=I(this,e);n&&e--;)n=n.next;return n?n.value:t},Kn.prototype.peek=function(){return this._head&&this._head.value},Kn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Kn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ke(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Kn.prototype.pop=function(){return this.slice(1)},Kn.prototype.unshift=function(){return this.push.apply(this,arguments)},Kn.prototype.unshiftAll=function(e){return this.pushAll(e)},Kn.prototype.shift=function(){return this.pop.apply(this,arguments)},Kn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Kn.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=D(e,this.size);if(T(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yn(r,i)},Kn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Kn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Kn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return U()}))},Kn.isStack=Hn;var Wn,Vn="@@__IMMUTABLE_STACK__@@",Gn=Kn.prototype;function Yn(e,t,n,r){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Wn||(Wn=Yn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Vn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=z,Xn(n,{toArray:function(){Ke(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return He(this.toKeyedSeq())},toObject:function(){Ke(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return qt(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return kn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kn(s(this)?this.valueSeq():this)},toList:function(){return wt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return bn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return me(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){Ke(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return bn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ke(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ke(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return bn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,i;return Ke(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return bn(this,$t(this,!0))},slice:function(e,t){return bn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return bn(this,un(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ve(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(E)},flatMap:function(e,t){return bn(this,ln(this,e,t))},flatten:function(e){return bn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return me(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=On(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,y):y)===y)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):or)},minBy:function(e,t){return hn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return bn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return bn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return bn(this,un(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return bn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return bn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[u]=!0,Qn[N]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,function(){try{Object.defineProperty(Qn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(r,{flip:function(){return bn(this,Qt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return me(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return me(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return bn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return bn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function ir(){return S(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=d(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Ee(e),Ee(t))|0}:function(e,t){r=r+cr(Ee(e),Ee(t))|0}:t?function(e){r=31*r+Ee(e)|0}:function(e){r=r+Ee(e)|0}),r)}function sr(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ie((t=Ce(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[h]=!0,Zn[N]=Qn.entries,Zn.__toJS=Qn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(i,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return bn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return bn(this,$t(this,!1))},slice:function(e,t){return bn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return bn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return bn(this,cn(this,e,!1))},get:function(e,t){return(e=I(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=I(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return bn(this,dn(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),bn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return bn(this,an(this,e,t,!1))},zip:function(){return bn(this,fn(this,ir,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,bn(this,fn(this,e,t))}}),i.prototype[p]=!0,i.prototype[f]=!0,Xn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Qn.includes,Xn(Y,r.prototype),Xn(J,i.prototype),Xn(X,o.prototype),Xn(xe,r.prototype),Xn(we,i.prototype),Xn(Se,o.prototype),{Iterable:n,Seq:G,Collection:Oe,Map:He,OrderedMap:qt,List:wt,Stack:Kn,Set:kn,OrderedSet:Ln,Record:xn,Range:_e,Repeat:ye,is:me,fromJS:pe}}()},"s6a/":function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o({children:e,label:t}){return Object(r.jsxs)(i.e,{marginTop:2,paddingY:2,role:"listitem",children:[Object(r.jsx)(i.e,{paddingX:2,children:Object(r.jsx)(i.U,{size:"sm",children:t})}),Object(r.jsx)(i.e,{marginTop:2,role:"list",children:e})]})}},s8ra:function(e,t,n){var r=n("4pIB"),i=n("kE58"),o=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:i};e.exports=a},sAMb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("mc7v"),i=n("7nh8"),o=n("QLaP");t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){o(Array.isArray(e),"Expected targetIds to be an array.")}(t);var s=t.slice(0),c=e.getMonitor(),l=e.getRegistry();return function(e,t,n){o(t.isDragging(),"Cannot call hover while not dragging."),o(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];o(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(i);o(a,"Expected targetIds to be registered.")}}(s,c,l),function(e,t,n){for(var i=e.length-1;i>=0;i--){var o=e[i],a=t.getTargetType(o);r.default(a,n)||e.splice(i,1)}}(s,l,c.getItemType()),function(e,t,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];n.getTarget(o).hover(t,o)}}(s,c,l),{type:i.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}},sGxw:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("jirY")),r(n("z3qU")),r(n("UJTY"))},"sH+O":function(e,t,n){n.d(t,"a",(function(){return r}));const r=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e.match(n)||!t.match(n))return null;const r=e.split("."),i=t.split("."),o=Math.max(r.length,i.length);for(let a=0;a<o;a+=1){const e=a<r.length?parseInt(r[a],10):0,t=a<i.length?parseInt(i[a],10):0;if(e<t)return-1;if(e>t)return 1}return 0}},sOsl:function(e,t,n){function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var i={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=i},sWW6:function(e,t,n){var r=n("IqbG");e.exports=function(e){return r(e)&&3==e.nodeType}},sZWH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("S8b/"),i=n("PRGv");t.getEmptyImage=i.default;var o=n("QSJg");t.NativeTypes=o,t.default=function(e){return new r.default(e)}},seP0:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("FZ8N"),i=n("F4HH");const{Provider:o,useHook:a}=Object(i.a)({name:"board_picker",v2LoggerMetricName:16,sampleRate:r.b?1:.1}),s=(e,t)=>{let n="unknown";(null==t?void 0:t.includes("pin/"))?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},c=o,l=a},shej:function(e,t,n){function r(){return{type:"SHOW_SECTION_TOOLTIP"}}function i(){return{type:"HIDE_SECTION_TOOLTIP"}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},slCJ:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("SFi7"),c=n("jxrL"),l=n("dJ9d"),d=(n("QWfI"),n("2S0S")),u=n("qFZT"),h=n("Gytx");t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,p=e.createConnector,f=e.registerHandler,b=e.containerDisplayName,g=e.getType,m=e.collect,v=e.options.arePropsEqual,y=void 0===v?h:v,j=t,_=t.displayName||t.name||"Component",O=function(e){function u(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();h(e,n.state)||n.setState(e)},n.disposable=new c.SerialDisposable,n.receiveProps(t),n.dispose(),n}return i(u,e),u.prototype.getHandlerId=function(){return this.handlerId},u.prototype.getDecoratedComponentInstance=function(){return d(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},u.prototype.shouldComponentUpdate=function(e,t){return!y(e,this.props)||!h(t,this.state)},u.prototype.componentDidMount=function(){this.disposable=new c.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},u.prototype.componentDidUpdate=function(e){y(this.props,e)||(this.receiveProps(this.props),this.handleChange())},u.prototype.componentWillUnmount=function(){this.dispose()},u.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(g(e)))},u.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=f(e,this.handler,this.manager),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(i),new c.Disposable(r)))}},u.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},u.prototype.getCurrentState=function(){return this.handlerConnector?m(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},u.prototype.render=function(){var e=this;return a.createElement(s.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(j,o({},e.props,e.getCurrentState(),{ref:l.isRefable(j)?e.decoratedRef:null}))}))},u.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(d(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",_,_),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=p(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},u.DecoratedComponent=t,u.displayName=b+"("+_+")",u}(a.Component);return u(O,t)}},sxkF:function(e,t,n){n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("Ye/N"),s=n("QLqj"),c=n("mHb8"),l=n("n6mq"),d=n("U4JR");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h="GroupBoardContentViewSwitcher_Settings",p=e=>e<=500,f=Object.freeze({}),b={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},g=(e,t)=>{const n=s.b.localStorage.getItem(h)||f;return(e.isAuth&&n[e.id]||{})[t.id]||null};class m extends o.a.Component{constructor(...e){super(...e),u(this,"handleChange",({event:e,value:t})=>{const n=t,{onChange:r,viewer:i,board:o}=this.props;e.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),((e,t,n)=>{if(!e.isAuth)return;const r=s.b.localStorage.getItem(h)||f,i=r[e.id]||{},o={...r,[e.id]:{...i,[t.id]:n}};s.b.localStorage.setItem(h,o)})(i,o,n),r(n),Object(d.b)(101,{view:5,viewParameter:Object(c.a)(i,o),component:13475,element:b[n],board_id:o.id})}),u(this,"logDropdownClick",()=>{const{board:e,viewer:t}=this.props;Object(d.b)(101,{view:5,viewParameter:Object(c.a)(t,e),component:13486,element:11567,board_id:e.id})}),u(this,"handleKeyPress",e=>{const{charCode:t=0}=e;32===t&&(e.preventDefault(),this.logDropdownClick())})}render(){const{currentView:e}=this.props,t=[{value:"custom",label:a.a._("Custom","Option for users to filter their Pins in a custom order (as it currently is)","Option for users to filter their Pins in a custom order (as it currently is)")},{value:"most_reactions",label:a.a._("Most reactions","Option for users to filter their Pins by the most reactions","Option for users to filter their Pins by the most reactions")}];return Object(r.jsx)("div",{role:"listbox",tabIndex:0,onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,children:Object(r.jsx)(l.M,{id:"gbFilterSelectlist",onChange:this.handleChange,options:t,size:"lg",value:e})})}}t.a=m},t3tn:function(e,t,n){function r(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function i(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function o(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function a(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}))},t9Ac:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=(n("q1tI"),n("6A0I")),o=n("Ye/N"),a=n("TgLd"),s=n("n6mq");function c(e){const{onSectionCreate:t,onClose:n,selectedBoard:c,useLayer:l=!0}=e,d=l?a.b:s.F;return Object(r.jsx)(d,{accessibilityModalLabel:o.a._("Add a section to the board","modal to add a section to a board","modal to add a section to a board"),heading:o.a._("Add section","Modal header for adding a section","Modal header for adding a section"),onDismiss:n,size:"sm",children:Object(r.jsx)(s.e,{display:"flex",color:"white",rounding:2,children:Object(r.jsx)(i.a,{board:c,completeCreateSectionAction:t,onClearModal:n,positionRelative:!0,showTitle:!1})})})}},tEMl:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("MCs0"),i=(n("QWfI"),n("2S0S")),o=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){i(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o.join(", "),t),i("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},tKdP:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("JW66");const i=56,o=1e3,a={[r.a.BulkAction.MOVE]:401,[r.a.BulkAction.COPY]:402,[r.a.BulkAction.DELETE]:403,[r.a.BulkAction.CREATE_SECTION]:12061}},tXUN:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[u])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[p])}function l(e){return s(e)||c(e)}function d(e){return!(!e||!e[f])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=d,n.Keyed=r,n.Indexed=i,n.Set=o;var u="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",b="delete",g=5,m=1<<g,v=m-1,y={},j={value:!1},_={value:!1};function O(e){return e.value=!1,e}function x(e){e&&(e.value=!0)}function w(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(E)),e.size}function I(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function E(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return M(e,t,0)}function T(e,t){return M(e,t,t)}function M(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,B=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=R||L;function z(e){this.next=e}function F(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function q(e){return!!W(e)}function K(e){return e&&"function"==typeof e.next}function H(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(R&&e[R]||e[L]);if("function"==typeof t)return t}function V(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=P,z.VALUES=B,z.ENTRIES=A,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[N]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},J.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=Y,G.Set=X,G.Indexed=J;var Q,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():K(e)?new ie(e).fromEntrySeq():q(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=de(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=de(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function de(e){return V(e)?new te(e):K(e)?new ie(e):q(e)?new re(e):void 0}function ue(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function he(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?U():F(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function pe(e,t){return t?fe(t,e,"",{"":e}):be(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):ge(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function be(e){return Array.isArray(e)?J(e).map(be).toList():ge(e)?Y(e).map(be).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function me(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ve(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||d(e)!==d(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(d(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&me(i[1],e)&&(n||me(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var u=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):i?!me(t,e.get(r,y)):!me(e.get(r,y),t))return u=!1,!1}));return u&&e.size===h}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function je(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(je(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function Oe(){throw TypeError("Abstract")}function xe(){}function we(){}function Se(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[I(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?U():F(e,i,n[t?r-i++:i++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?U():F(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=H(this._iterable),r=0;if(K(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=H(this._iterable);if(!K(n))return new z(U);var r=0;return new z((function(){var t=n.next();return t.done?t:F(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return F(e,i,r[i++])}))},t(ye,J),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return me(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ye(this._value,T(t,n)-D(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return me(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return me(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?F(e,r++,n._value):U()}))},ye.prototype.equals=function(e){return e instanceof ye?me(this._value,e._value):ve(e)},t(_e,J),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+I(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=D(e,this.size),(t=T(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?U():F(e,o++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ve(this,e)},t(Oe,n),t(xe,Oe),t(we,Oe),t(Se,Oe),Oe.Keyed=xe,Oe.Indexed=we,Oe.Set=Se;var Ce="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ie(e){return e>>>1&1073741824|3221225471&e}function Ee(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ie(n)}if("string"===t)return e.length>ze?ke(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Te(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){var t=qe[e];return void 0===t&&(t=De(e),Ue===Fe&&(Ue=0,qe={}),Ue++,qe[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ie(t)}function Te(e){var t;if(Re&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=Be(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Re)Ae.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var Me=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae,Re="function"==typeof WeakMap;Re&&(Ae=new WeakMap);var Le=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var ze=16,Fe=255,Ue=0,qe={};function Ke(e){je(e!==1/0,"Cannot perform this action with an infinite size.")}function He(e){return null==e?it():We(e)&&!d(e)?e:it().withMutations((function(t){var n=r(e);Ke(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function We(e){return!(!e||!e[Ge])}t(He,xe),He.prototype.toString=function(){return this.__toString("Map {","}")},He.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},He.prototype.set=function(e,t){return ot(this,e,t)},He.prototype.setIn=function(e,t){return this.updateIn(e,y,(function(){return t}))},He.prototype.remove=function(e){return ot(this,e,y)},He.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return y}))},He.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},He.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,On(e),t,n);return r===y?void 0:r},He.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},He.prototype.merge=function(){return ht(this,void 0,arguments)},He.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},He.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},He.prototype.mergeDeep=function(){return ht(this,pt,arguments)},He.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},He.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},He.prototype.sort=function(e){return qt(un(this,e))},He.prototype.sortBy=function(e,t){return qt(un(this,t,e))},He.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},He.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},He.prototype.asImmutable=function(){return this.__ensureOwner()},He.prototype.wasAltered=function(){return this.__altered},He.prototype.__iterator=function(e,t){return new et(this,e,t)},He.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},He.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},He.isMap=We;var Ve,Ge="@@__IMMUTABLE_MAP__@@",Ye=He.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return F(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ye);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return Ve||(Ve=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=O(j),a=O(_);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===y?-1:1:0)}else{if(n===y)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===y?e:(x(s),x(a),new $e(t,r,[i,o]))}function st(e){return e.constructor===$e||e.constructor===Ze}function ct(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v;return new Xe(t,1<<a|1<<s,a===s?[ct(e,t,n+g,r,i)]:(o=new $e(t,r,i),a<s?[e,o]:[o,e]))}function lt(e,t,n,r){e||(e=new w);for(var i=new $e(e,Ee(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function dt(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var d=t[s];void 0!==d&&s!==r&&(i|=c,a[o++]=d)}return new Xe(e,i,a)}function ut(e,t,n,r,i){for(var o=0,a=new Array(m),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Qe(e,o+1,a)}function ht(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return pe(e)}))),i.push(c)}return bt(e,t,i)}function pt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):me(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return me(t,i)?t:i}}function bt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,y,(function(e){return e===y?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var i=e===y,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}je(i||e&&e.set,"invalid keyPath");var c=o.value,l=i?y:e.get(c,y),d=gt(l,t,n,r);return d===l?e:d===y?e.remove(c):(i?it():e).set(c,d)}function mt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function vt(e,t,n,r){var i=r?e:S(e);return i[t]=n,i}function yt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function jt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ye[Ge]=!0,Ye[b]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===y,c=this.entries,l=0,d=c.length;l<d&&!me(r,c[l][0]);l++);var u=l<d;if(u?c[l][1]===i:s)return this;if(x(a),(s||!u)&&x(o),!s||1!==c.length){if(!u&&!s&&c.length>=_t)return lt(e,c,r,i);var h=e&&e===this.ownerID,p=h?c:S(c);return u?s?l===d-1?p.pop():p[l]=p.pop():p[l]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Je(e,p)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=1<<((0===e?t:t>>>e)&v),o=this.bitmap;return 0==(o&i)?r:this.nodes[mt(o&i-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&v,c=1<<s,l=this.bitmap,d=0!=(l&c);if(!d&&i===y)return this;var u=mt(l&c-1),h=this.nodes,p=d?h[u]:void 0,f=at(p,e,t+g,n,r,i,o,a);if(f===p)return this;if(!d&&f&&h.length>=Ot)return ut(e,h,l,s,f);if(d&&!f&&2===h.length&&st(h[1^u]))return h[1^u];if(d&&f&&1===h.length&&st(f))return f;var b=e&&e===this.ownerID,m=d?f?l:l^c:l|c,j=d?f?vt(h,u,f,b):jt(h,u,b):yt(h,u,f,b);return b?(this.bitmap=m,this.nodes=j,this):new Xe(e,m,j)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=(0===e?t:t>>>e)&v,o=this.nodes[i];return o?o.get(e+g,t,n,r):r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&v,c=i===y,l=this.nodes,d=l[s];if(c&&!d)return this;var u=at(d,e,t+g,n,r,i,o,a);if(u===d)return this;var h=this.count;if(d){if(!u&&--h<xt)return dt(e,l,h,s)}else h++;var p=e&&e===this.ownerID,f=vt(l,s,u,p);return p?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},Ze.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=i===y;if(n!==this.keyHash)return s?this:(x(a),x(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,l=0,d=c.length;l<d&&!me(r,c[l][0]);l++);var u=l<d;if(u?c[l][1]===i:s)return this;if(x(a),(s||!u)&&x(o),s&&2===d)return new $e(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,p=h?c:S(c);return u?s?l===d-1?p.pop():p[l]=p.pop():p[l]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Ze(e,this.keyHash,p)},$e.prototype.get=function(e,t,n,r){return me(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,a){var s=i===y,c=me(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(x(a),s?void x(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(x(o),ct(this,e,t,Ee(r),[r,i])))},Je.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return U()};var _t=m/4,Ot=m/2,xt=m/4;function wt(e){var t=Bt();if(null==e)return t;if(St(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ke(r),r>0&&r<m?Pt(0,r,g,null,new Et(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[Ct])}t(wt,we),wt.of=function(){return this(arguments)},wt.prototype.toString=function(){return this.__toString("List [","]")},wt.prototype.get=function(e,t){if((e=I(this,e))>=0&&e<this.size){var n=Nt(this,e+=this._origin);return n&&n.array[e&v]}return t},wt.prototype.set=function(e,t){return At(this,e,t)},wt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},wt.prototype.insert=function(e,t){return this.splice(e,0,t)},wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},wt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},wt.prototype.pop=function(){return zt(this,0,-1)},wt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},wt.prototype.shift=function(){return zt(this,1)},wt.prototype.merge=function(){return Ft(this,void 0,arguments)},wt.prototype.mergeWith=function(t){return Ft(this,t,e.call(arguments,1))},wt.prototype.mergeDeep=function(){return Ft(this,pt,arguments)},wt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ft(this,ft(t),n)},wt.prototype.setSize=function(e){return zt(this,0,e)},wt.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:zt(this,D(e,n),T(t,n))},wt.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new z((function(){var t=r();return t===Tt?U():F(e,n++,t)}))},wt.prototype.__iterate=function(e,t){for(var n,r=0,i=Mt(this,t);(n=i())!==Tt&&!1!==e(n,r++,this););return r},wt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},wt.isList=St;var Ct="@@__IMMUTABLE_LIST__@@",It=wt.prototype;function Et(e,t){this.array=e,this.ownerID=t}It[Ct]=!0,It[b]=It.remove,It.setIn=Ye.setIn,It.deleteIn=It.removeIn=Ye.removeIn,It.update=Ye.update,It.updateIn=Ye.updateIn,It.mergeIn=Ye.mergeIn,It.mergeDeepIn=Ye.mergeDeepIn,It.withMutations=Ye.withMutations,It.asMutable=Ye.asMutable,It.asImmutable=Ye.asImmutable,It.wasAltered=Ye.wasAltered,Et.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new Et([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-g,n))===a&&o)return this}if(o&&!i)return this;var s=Lt(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Et.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&v;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-g,n))===o&&i===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var kt,Dt,Tt={};function Mt(e,t){var n=e._origin,r=e._capacity,i=Ut(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>m&&(l=m),function(){if(c===l)return Tt;var e=t?--l:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,l=o>n?0:n-o>>i,d=1+(r-o>>i);return d>m&&(d=m),function(){for(;;){if(s){var e=s();if(e!==Tt)return e;s=null}if(l===d)return Tt;var n=t?--d:l++;s=a(c&&c[n],i-g,o+(n<<i))}}}}function Pt(e,t,n,r,i,o,a){var s=Object.create(It);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Bt(){return kt||(kt=Pt(0,0,g))}function At(e,t,n){if((t=I(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=O(_);return t>=Ut(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,o):i=Rt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,i,r):e}function Rt(e,t,n,r,i,o){var a,s=r>>>n&v,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var l=e&&e.array[s],d=Rt(l,t,n-g,r,i,o);return d===l?e:((a=Lt(e,t)).array[s]=d,a)}return c&&e.array[s]===i?e:(x(o),a=Lt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Et(e?e.array.slice():[],t)}function Nt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=g;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new w,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,d=0;a+d<0;)l=new Et(l&&l.array.length?[void 0,l]:[],r),d+=1<<(c+=g);d&&(a+=d,i+=d,s+=d,o+=d);for(var u=Ut(o),h=Ut(s);h>=1<<c+g;)l=new Et(l&&l.array.length?[l]:[],r),c+=g;var p=e._tail,f=h<u?Nt(e,s-1):h>u?new Et([],r):p;if(p&&h>u&&a<o&&p.array.length){for(var b=l=Lt(l,r),m=c;m>g;m-=g){var y=u>>>m&v;b=b.array[y]=Lt(b.array[y],r)}b.array[u>>>g&v]=p}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=g,l=null,f=f&&f.removeBefore(r,0,a);else if(a>i||h<u){for(d=0;l;){var j=a>>>c&v;if(j!==h>>>c&v)break;j&&(d+=(1<<c)*j),c-=g,l=l.array[j]}l&&a>i&&(l=l.removeBefore(r,c,a-d)),l&&h<u&&(l=l.removeAfter(r,c,h-d)),d&&(a-=d,s-=d)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,c,l,f)}function Ft(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(e){return pe(e)}))),r.push(l)}return o>e.size&&(e=e.setSize(o)),bt(e,t,r)}function Ut(e){return e<m?0:e-1>>>g<<g}function qt(e){return null==e?Wt():Kt(e)?e:Wt().withMutations((function(t){var n=r(e);Ke(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Kt(e){return We(e)&&d(e)}function Ht(e,t,n,r){var i=Object.create(qt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Wt(){return Dt||(Dt=Ht(it(),Bt()))}function Vt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===y){if(!c)return e;a.size>=m&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Ht(r,i)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Qt(e){var t=yn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=jn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===B?P:B,n)},t}function Zt(e,t,n){var r=yn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,y);return o===y?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(A,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return F(r,s,t.call(n,a[1],s,e),i)}))},r}function $t(e,t){var n=yn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=jn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=yn(e);return r&&(i.has=function(r){var i=e.get(r,y);return i!==y&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,y);return o!==y&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(A,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],d=c[1];if(t.call(n,d,l,e))return F(i,r?l:s++,d,o)}}))},i}function tn(e,t,n){var r=He().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(d(e)?qt():He()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=vn(e);return i.map((function(t){return bn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,i))return e;var o=D(t,i),a=T(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c==c&&(s=c<0?0:c);var l=yn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(l.get=function(t,n){return(t=I(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return U();var e=i.next();return r||t===B?e:F(t,c-1,t===P?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(A,i),s=!0;return new z((function(){if(!s)return U();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===A?e:F(r,c,l,e):(s=!1,U())}))},r}function an(e,t,n,r){var i=yn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(A,o),c=!0,l=0;return new z((function(){var e,o,d;do{if((e=s.next()).done)return r||i===B?e:F(i,l++,i===P?void 0:e.value[1],e);var u=e.value;o=u[0],d=u[1],c&&(c=t.call(n,d,o,a))}while(c);return i===A?e:F(i,o,d,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var l=new te(i);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,l){var d=this;e.__iterate((function(e,i){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?i:o++,d)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===A&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:F(r,c++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return U()}))},r}function ln(e,t,n){var r=vn(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function dn(e,t){var n=yn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(B,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?F(n,a++,t):F(n,a++,i.value,i)}))},n}function un(e,t,n){t||(t=_n);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Y(o):c(e)?J(o):X(o)}function hn(e,t,n){if(t||(t=_n),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return pn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return pn(t,e,n)?n:e}))}function pn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var i=yn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(B,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),H(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():F(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function bn(e,t){return oe(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function mn(e){return Ke(e.size),C(e)}function vn(e){return s(e)?r:c(e)?i:o}function yn(e){return Object.create((s(e)?Y:c(e)?J:X).prototype)}function jn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function _n(e,t){return e>t?1:e<t?-1:0}function On(e){var t=H(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function xn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);In(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=He(o)},i=r.prototype=Object.create(wn);return i.constructor=r,r}t(qt,He),qt.of=function(){return this(arguments)},qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wt()},qt.prototype.set=function(e,t){return Vt(this,e,t)},qt.prototype.remove=function(e){return Vt(this,e,y)},qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},qt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},qt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ht(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},qt.isOrderedMap=Kt,qt.prototype[f]=!0,qt.prototype[b]=qt.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?mn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(B,t),r=t?mn(this):0;return new z((function(){var i=n.next();return i.done?i:F(e,t?--r:r++,i.value,i)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t),r=0;return new z((function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)}))},t(Jt,X),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new z((function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)}))},t(Xt,Y),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var i=a(r);return F(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=Xt.prototype.cacheResult=jn,t(xn,xe),xn.prototype.toString=function(){return this.__toString(Cn(this)+" {","}")},xn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},xn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},xn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,it()))},xn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Cn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},xn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},xn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var wn=xn.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Cn(e){return e._name||e.constructor.name||"Record"}function In(e,t){try{t.forEach(En.bind(void 0,e))}catch(n){}}function En(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){je(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function kn(e){return null==e?Rn():Dn(e)&&!d(e)?e:Rn().withMutations((function(t){var n=o(e);Ke(n.size),n.forEach((function(e){return t.add(e)}))}))}function Dn(e){return!(!e||!e[Mn])}wn[b]=wn.remove,wn.deleteIn=wn.removeIn=Ye.removeIn,wn.merge=Ye.merge,wn.mergeWith=Ye.mergeWith,wn.mergeIn=Ye.mergeIn,wn.mergeDeep=Ye.mergeDeep,wn.mergeDeepWith=Ye.mergeDeepWith,wn.mergeDeepIn=Ye.mergeDeepIn,wn.setIn=Ye.setIn,wn.update=Ye.update,wn.updateIn=Ye.updateIn,wn.withMutations=Ye.withMutations,wn.asMutable=Ye.asMutable,wn.asImmutable=Ye.asImmutable,t(kn,Se),kn.of=function(){return this(arguments)},kn.fromKeys=function(e){return this(r(e).keySeq())},kn.prototype.toString=function(){return this.__toString("Set {","}")},kn.prototype.has=function(e){return this._map.has(e)},kn.prototype.add=function(e){return Bn(this,this._map.set(e,!0))},kn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},kn.prototype.clear=function(){return Bn(this,this._map.clear())},kn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},kn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},kn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},kn.prototype.merge=function(){return this.union.apply(this,arguments)},kn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},kn.prototype.sort=function(e){return Ln(un(this,e))},kn.prototype.sortBy=function(e,t){return Ln(un(this,t,e))},kn.prototype.wasAltered=function(){return this._map.wasAltered()},kn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},kn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},kn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},kn.isSet=Dn;var Tn,Mn="@@__IMMUTABLE_SET__@@",Pn=kn.prototype;function Bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function An(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Tn||(Tn=An(it()))}function Ln(e){return null==e?qn():Nn(e)?e:qn().withMutations((function(t){var n=o(e);Ke(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return Dn(e)&&d(e)}Pn[Mn]=!0,Pn[b]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ye.withMutations,Pn.asMutable=Ye.asMutable,Pn.asImmutable=Ye.asImmutable,Pn.__empty=Rn,Pn.__make=An,t(Ln,kn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var zn,Fn=Ln.prototype;function Un(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function qn(){return zn||(zn=Un(Wt()))}function Kn(e){return null==e?Jn():Hn(e)?e:Jn().unshiftAll(e)}function Hn(e){return!(!e||!e[Vn])}Fn[f]=!0,Fn.__empty=qn,Fn.__make=Un,t(Kn,we),Kn.of=function(){return this(arguments)},Kn.prototype.toString=function(){return this.__toString("Stack [","]")},Kn.prototype.get=function(e,t){var n=this._head;for(e=I(this,e);n&&e--;)n=n.next;return n?n.value:t},Kn.prototype.peek=function(){return this._head&&this._head.value},Kn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Kn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ke(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Kn.prototype.pop=function(){return this.slice(1)},Kn.prototype.unshift=function(){return this.push.apply(this,arguments)},Kn.prototype.unshiftAll=function(e){return this.pushAll(e)},Kn.prototype.shift=function(){return this.pop.apply(this,arguments)},Kn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Kn.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=D(e,this.size);if(T(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yn(r,i)},Kn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Kn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Kn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return U()}))},Kn.isStack=Hn;var Wn,Vn="@@__IMMUTABLE_STACK__@@",Gn=Kn.prototype;function Yn(e,t,n,r){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Wn||(Wn=Yn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Vn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=z,Xn(n,{toArray:function(){Ke(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return He(this.toKeyedSeq())},toObject:function(){Ke(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return qt(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return kn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kn(s(this)?this.valueSeq():this)},toList:function(){return wt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return bn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return me(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){Ke(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return bn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ke(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ke(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return bn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,i;return Ke(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return bn(this,$t(this,!0))},slice:function(e,t){return bn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return bn(this,un(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ve(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(E)},flatMap:function(e,t){return bn(this,ln(this,e,t))},flatten:function(e){return bn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return me(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=On(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,y):y)===y)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):or)},minBy:function(e,t){return hn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return bn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return bn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return bn(this,un(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return bn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return bn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[u]=!0,Qn[N]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,function(){try{Object.defineProperty(Qn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(r,{flip:function(){return bn(this,Qt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return me(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return me(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return bn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return bn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function ir(){return S(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=d(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Ee(e),Ee(t))|0}:function(e,t){r=r+cr(Ee(e),Ee(t))|0}:t?function(e){r=31*r+Ee(e)|0}:function(e){r=r+Ee(e)|0}),r)}function sr(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ie((t=Ce(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[h]=!0,Zn[N]=Qn.entries,Zn.__toJS=Qn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(i,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return bn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return bn(this,$t(this,!1))},slice:function(e,t){return bn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return bn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return bn(this,cn(this,e,!1))},get:function(e,t){return(e=I(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=I(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return bn(this,dn(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),bn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return bn(this,an(this,e,t,!1))},zip:function(){return bn(this,fn(this,ir,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,bn(this,fn(this,e,t))}}),i.prototype[p]=!0,i.prototype[f]=!0,Xn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Qn.includes,Xn(Y,r.prototype),Xn(J,i.prototype),Xn(X,o.prototype),Xn(xe,r.prototype),Xn(we,i.prototype),Xn(Se,o.prototype),{Iterable:n,Seq:G,Collection:Oe,Map:He,OrderedMap:qt,List:wt,Stack:Kn,Set:kn,OrderedSet:Ln,Record:xn,Range:_e,Repeat:ye,is:me,fromJS:pe}}()},tuJh:function(e,t,n){var r=n("3sOJ"),i=n("y5P+"),o=n("DEWG"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(e,s?i.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},tvWU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("+k3R"),i=n("slCJ"),o=n("TPjH"),a=n("tEMl"),s=n("E3gc"),c=n("bY+3"),l=n("IRZy"),d=n("QWfI"),u=n("2S0S");t.default=function(e,t,n,h){void 0===h&&(h={}),r.default("DropTarget","type, spec, collect[, options]",e,t,n,h);var p=e;"function"!=typeof e&&(u(s.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),p=function(){return e}),u(d.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var f=a.default(t);return u("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),u(d.isPlainObject(h),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return i.default({containerDisplayName:"DropTarget",createHandler:f,registerHandler:o.default,createMonitor:function(e){return new c.default(e)},createConnector:function(e){return new l.default(e)},DecoratedComponent:e,getType:p,collect:n,options:h})}}},uCRx:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QLaP");t.validateSourceContract=function(e){r("function"==typeof e.canDrag,"Expected canDrag to be a function."),r("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),r("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){r("function"==typeof e.canDrop,"Expected canDrop to be a function."),r("function"==typeof e.hover,"Expected hover to be a function."),r("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):r("string"==typeof t||"symbol"==typeof t,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},ubb0:function(e,t,n){var r=n("i8i4").unstable_flushControlled;e.exports=r},ueFs:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("8uQm"),a=n("JL7T"),s=n("LpQA"),c=n("TzU/"),l=n("PFU8"),d=(n("quS2"),n("hMpd")),u=n("TlXQ"),h=n("bNdj"),p=n("RCR6"),f=n("rJY1"),b=n("cwFY"),g=n("zVay"),m=n("mFyV"),v=b("draft_tree_data_support"),y=g.List,j=g.Map,_=g.OrderedMap,O=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||f(),data:j(i),characterList:x(e,t)}},x=function(e,t){var n=e.text,i=e.entityRanges,o=e.inlineStyleRanges,a=i||[];return u(p(n,o||[]),h(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},w=function(e){return r({},e,{key:e.key||f()})},S=function(e,t,n){var i=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(i.reverse())},C=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),i=v&&!n?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return v?function(e,t){return e.map(w).reduce((function(n,i,o){Array.isArray(i.children)||m(!1);var s=i.children.map(w),c=new a(r({},O(i,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:y(s.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var l=S([],s,c);l.length>0;){var d=l.pop(),u=d.parentRef,h=u.getChildKeys(),p=h.indexOf(d.key),f=Array.isArray(d.children);if(!f){f||m(!1);break}var b=d.children.map(w),g=new a(r({},O(d,t),{parent:u.getKey(),children:y(b.map((function(e){return e.key}))),prevSibling:0===p?null:h.get(p-1),nextSibling:p===h.size-1?null:h.get(p+1)}));n=n.set(g.getKey(),g),l=S(l,b,g)}return n}),_())}(i,t):function(e,t){return _(e.map((function(e){var n=new o(O(e,t));return[n.getKey(),n]})))}(n?l.fromRawTreeStateToRawState(e).blocks:i,t)};e.exports=function(e){Array.isArray(e.blocks)||m(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],i=r.type,o=r.mutability,a=r.data;n[e]=c.__create(i,o,a||{})})),n}(e),n=C(e,t),r=n.isEmpty()?new d:d.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},ujuU:function(e,t,n){var r=n("3sOJ");e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},utGV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("TPjH"),o=n("/acK"),a=n("IRZy"),s=n("bY+3");t.useDropTargetMonitor=function(){var e=o.useDragDropManager();return[r.useMemo((function(){return new s.default(e)}),[e]),r.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=o.useDragDropManager(),s=r.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);r.useEffect((function(){var r=i.default(e.current.accept,s,a),o=r[0],c=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[t,n])}},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("jHGc")),o=n("n6mq");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:l,variant:d,viewParameter:u,shouldUseLegoStyles:h}=e,p="pin"===d?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(r.jsxs)(o.e,{display:"flex",direction:"row",alignItems:"center",width:"closeup"===d?"100%":void 0,paddingX:"closeup"!==d||h?void 0:2,marginStart:"pin"===d?-1:void 0,marginEnd:"pin"===d?-1:void 0,children:[t&&Object(r.jsx)(o.e,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(r.jsx)(o.e,{paddingX:1,flex:"none",marginStart:"auto",children:Object(r.jsx)(i.default,{component:0,onDelete:a,onSubmit:s,pinId:l,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:p,shouldUseLegoStyles:h,useLegoStyles:"pin"===d})})]})}},"v+PR":function(e,t,n){n.d(t,"a",(function(){return g}));var r=n("nKUr"),i=n("q1tI"),o=n("Ye/N"),a=n("w70y"),s=n("vvax"),c=n("n6mq");function l({pin:e}){const{data:t}=Object(a.a)({name:"PinSaveStatusResource",options:{id:e.id},allowStale:!1});return t&&t.pinned_to_board?Object(r.jsxs)(c.e,{children:[Object(r.jsx)(c.e,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:Object(r.jsx)(c.U,{align:"center",color:"white",size:"md",weight:"bold",children:Object(s.b)(o.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" ")})}),Object(r.jsx)(c.e,{display:"flex",justifyContent:"center",marginTop:-3,children:Object(r.jsx)(c.u,{accessibilityLabel:"",color:"red",icon:"heart",size:26})})]}):null}var d=n("P6kd"),u=n("g/XF"),h=n("U4JR");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,b=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class g extends i.Component{constructor(...e){super(...e),p(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),p(this,"onDescriptionChange",(e,t)=>{const n=new RegExp(f,"g");let r="";if(t<e.length){let i=n.exec(e),o=n.lastIndex<t;for(;i&&o;)i=n.exec(e),o=n.lastIndex<t;const a=!!i&&f.test(e.slice(i.index,t));o=!!i&&i.index<t,i&&a&&o&&(r=i[0])}else{const t=b.exec(e);r=t?t[0]:""}this.updateDescription(e);const i=f.test(r),o=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:o,description:e,hashtagQuery:r,isHashtagFlyoutOpen:i,flyoutOpened:this.state.flyoutOpened||i})}),p(this,"onCursorChange",e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})}),p(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),p(this,"handleDescriptionBlur",e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})}),p(this,"handleDescriptionEdit",()=>{this.setState({editing:!0})}),p(this,"handleHashtagAddition",e=>{const{pin:t}=this.props;Object(h.b)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,r=Number(n+this.state.hashtagQuery.length),i=this.state.description.slice(0,n)+e+" "+this.state.description.slice(r);this.updateDescription(i),this.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),p(this,"handleRefTextArea",e=>{this._textArea=e})}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:i}=this.props,{description:o,editing:a,flyoutOpened:s,hashtagQuery:h,isHashtagFlyoutOpen:p}=this.state,{images:f,link:b}=n,g=f&&f["236x"],m=g&&g.url||n.image_base64;return Object(r.jsxs)(c.e,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:s&&a?{transform:"translateY(-75px)"}:{}},children:[Object(r.jsxs)(c.e,{display:"flex",direction:"column",alignItems:"center",children:[n&&n.id&&Object(r.jsx)(l,{pin:n}),Object(r.jsx)(c.e,{paddingY:t?9:0,width:240,children:Object(r.jsx)(c.e,{ref:i,maxHeight:s&&a?220:335,rounding:4,overflow:"hidden",children:m?Object(r.jsx)(c.w,{alt:o,src:m,naturalHeight:g.height||1,naturalWidth:g.width||1}):!!b&&Object(r.jsx)(u.a,{color:e||"",description:o,url:b})})})]}),this.anchor&&p?Object(r.jsx)(d.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:a,query:h}):null]})}}},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("/MKj");function i(){return Object(r.useSelector)(({viewer:e})=>e)}},v2I7:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("nKUr"),i=(n("q1tI"),n("Ye/N")),o=n("n6mq");function a({isCollaborative:e,isViewPolishEnabled:t,noSelection:n,onDeselectAll:a,onSelectAll:s}){return n&&e?null:t?Object(r.jsx)(o.f,{onClick:n?s:a,text:n?i.a._("Select all"):i.a._("Deselect all")}):Object(r.jsx)(o.T,{fullWidth:!1,onTap:n?s:a,children:Object(r.jsx)(o.U,{weight:"bold",children:n?i.a._("Select all"):i.a._("Deselect all")})})}},v83y:function(e,t,n){var r=n("fyRy"),i=n("YeVe"),o=n("lFJn"),a=n("84lc"),s=n("8uQm"),c=n("LpQA"),l=n("rAV9"),d=n("0TRD"),u=n("6tyx"),h=n("DthY"),p=n("TzU/"),f=n("fyOY"),b=n("qnky"),g=n("3sOJ"),m=n("s8ra"),v=n("7Pus"),y=n("Nx4+"),j=n("hMpd"),_=n("/y+l"),O=n("ueFs"),x=n("rJY1"),w=n("AyB5"),S=n("zxN+"),C={Editor:u,EditorBlock:h,EditorState:g,CompositeDecorator:a,Entity:p,EntityInstance:b,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:c,RawDraftContentState:v,SelectionState:j,AtomicBlockUtils:r,KeyBindingUtil:m,Modifier:f,RichUtils:y,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:d,convertFromHTML:n("1qq2"),convertFromRaw:O,convertToRaw:_,genKey:x,getDefaultKeyBinding:w,getVisibleSelectionRect:S};e.exports=C},vVEi:function(e,t,n){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return x}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("/MKj"),s=n("OWXb"),c=n("nGHF"),l=n("Ye/N"),d=n("pIz0"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return Object(r.jsx)(u.e,{display:"flex",justifyContent:"around",overflow:"hidden",children:Object(r.jsx)("div",{className:"boardBlockingActionToastWhiteSpinner",children:Object(r.jsx)(u.u,{accessibilityLabel:l.a._("board action pending","accessibility label for board action toast to indicate pending action","accessibility label for board action toast to indicate pending action"),color:"white",icon:"knoop",size:40})})})}class f extends i.Component{constructor(...e){super(...e),h(this,"state",{hiding:!1,visible:!1}),h(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,d.a)}),h(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),h(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:n}}=this.props,r="completed"===t;switch(e){case"create_section":return r?l.a._("Created section","toast text to indicate a section has been created successfully","toast text to indicate a section has been created successfully"):l.a._("Creating section","toast text to indicate a section is being created","toast text to indicate a section is being created");case"delete_pins":return n?r?l.a._("Deleted Pins from","toast text to notify Pins have been deleted from a section","toast text to notify Pins have been deleted from a section"):l.a._("Deleting Pins from","toast text to notify Pins are being deleted from a section","toast text to notify Pins are being deleted from a section"):r?l.a._("Deleted Pins from","toast text to notify Pins have been deleted from a board","toast text to notify Pins have been deleted from a board"):l.a._("Deleting Pins from","toast text to notify Pins are being deleted from a board","toast text to notify Pins are being deleted from a board");case"move_pins":return n?r?l.a._("Moved to","toast text to notify pins have been moved to this section","toast text to notify pins have been moved to this section"):l.a._("Moving to","toast text to notify pins are being moved to this section","toast text to notify pins are being moved to this section"):r?l.a._("Moved to","toast text to notify pins have been moved to this board","toast text to notify pins have been moved to this board"):l.a._("Moving to","toast text to notify pins are being moved to this board","toast text to notify pins are being moved to this board");case"merge":return n?r?l.a._("Moved to","toast text to notify anotehr section has been merged to this section","toast text to notify anotehr section has been merged to this section"):l.a._("Moving to","toast text to notify another section is being merged to this section","toast text to notify another section is being merged to this section"):r?l.a._("Moved to","toast text to notify another board has been merged to this board","toast text to notify another board has been merged to this board"):l.a._("Moving to","toast text to notify another board is being merged to this board","toast text to notify another board is being merged to this board");default:return null}}render(){const{actionStatus:e,location:t}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const a="inProgress"===e?t.name+"...":t.name;return Object(r.jsx)("div",{style:Object(d.b)(n,i),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(r.jsx)(u.X,{text:Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(u.U,{children:this.firstLine}),Object(r.jsx)(u.U,{weight:"bold",children:a})]}),thumbnail:"completed"===e?void 0:Object(r.jsx)(p,{})})})}}const b=2e3,g=5e3;const m=["merge","move_pins","create_section"];function v({blockingActions:e,actionType:t,boardId:n,sectionId:r}){return e.find(e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||m.includes(e.action_type)&&e.is_origin||e.board_id!==n||(r?r!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress))}let y=0;const j={};function _({check:e,checkDelay:t,checkInterval:n,onComplete:r}){const i="timeout"+y;y+=1;const o=()=>{const t=Date.now();e().then(e=>{const a=Date.now()-t;e?(r(),delete j[i]):j[i]=setTimeout(o,Math.max(1e3,n-a))}).catch(()=>{delete j[i]})};j[i]=setTimeout(o,t)}const O=(e,t,n,i)=>({onHide:o})=>Object(r.jsx)(f,{actionType:t,actionStatus:e,duration:"inProgress"===e?b:2e3,location:{name:i?i.title:n.name,isSection:!!i},onHide:o});function x(e){function t(t){const n=Object(a.useDispatch)(),{showToast:i}=Object(c.b)();return Object(r.jsx)(e,{...t,showBlockingActionToast:({actionType:e,board:t,section:r})=>{i(O("inProgress",e,t,r)),_({check:()=>n(Object(s.a)(t.id)).then(n=>!v({blockingActions:n,actionType:e,boardId:t.id,sectionId:r&&r.id})),checkDelay:b,checkInterval:g,onComplete:()=>i(O("completed",e,t,r))})}})}return t.displayName=`WithShowBlockingActionToasts(${e.displayName||e.name||""})`,t}},vYwu:function(e,t,n){var r=n("lFJn");e.exports=function(e,t,n,i){for(var o=t,a=e.getCharacterList();o<n;)a=a.set(o,r.applyEntity(a.get(o),i)),o++;return e.set("characterList",a)}},vcNX:function(e,t,n){var r=n("SF5q"),i=n("3sOJ"),o=n("kWjT"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},vgsE:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("q1tI")),i=o(n("EwI3"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.mention,n=e.theme,o=(e.isFocused,e.searchValue,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["mention","theme","isFocused","searchValue"]));return r.default.createElement("div",o,r.default.createElement(i.default,{mention:t,theme:n}),r.default.createElement("span",{className:n.mentionSuggestionsEntryText},t.name))}},vmVG:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8"),i=n("QLaP");t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){i(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var o=t.getSourceId();return n.getSource(o,!0).endDrag(t,o),n.unpinSource(),{type:r.END_DRAG}}}},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7");e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},w70y:function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n("nKUr"),i=n("q1tI"),o=n("/MKj"),a=n("lSCD"),s=n.n(a),c=n("aK+E"),l=n("EC67"),d=n("Wer7");const u={};function h({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:r,options:a,name:s,headers:h}){const p=Object(o.useDispatch)(),f=Object(c.a)(a),b=Object(i.useRef)(),g=e=>(e[s]||u)[f]||u,{isPrefetch:m,nextBookmark:v,prefetchHasBeenRead:y}=Object(o.useSelector)(({resources:e})=>g(e.data)),j=Object(o.useSelector)(({resources:e})=>g(e.data).data),_=Object(o.useSelector)(({resources:e})=>g(e.data).auxData),O=Object(o.useSelector)(({resources:e})=>g(e.data).error),x=Object(o.useSelector)(({resources:e})=>Boolean((e.fetching[s]||u)[f])),w=Object(o.useSelector)(({resources:e})=>Boolean((e.data[s]||u)[f])),S=Object(l.g)(),C=S&&"POP"!==S.action,I=Boolean(w&&n&&C&&!r),[E,k]=Object(i.useState)(I);void 0===b.current&&w&&C&&e&&m&&!y&&!r&&p(Object(d.h)(s,a));const D=Object(i.useCallback)(()=>{r||p(Object(d.a)(s,a,h))},[r,p,h,s,f]),T=Object(i.useCallback)(()=>{r||p(Object(d.d)(s,a,h))},[r,h,s,f]),M=Object(i.useCallback)(()=>{r||(D(),k(!0))},[r,D,k]),P=Object(i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:T,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refreshData:M});Object(i.useEffect)(()=>{!1!==t&&w&&!I||D()},[]),Object(i.useEffect)(()=>{void 0!==b.current&&f!==b.current&&D(),b.current=f},[f]);const B={auxData:_,data:j,error:O,fetchMore:T,isAtEnd:w&&!x&&"-end-"===v,isFetching:x,isLoaded:w,isPrefetch:m,isRefreshing:E,nextBookmark:v,prefetchHasBeenRead:y,refreshData:M};return Object(o.shallowEqual)(B,P.current)||(!E||!P.current.data&&I||Object(o.shallowEqual)(B.data,P.current.data)||(B.isRefreshing=!1,k(!1)),P.current=B),P.current}function p(e){const t=e.key;return function(n){function i(i){const{dangerouslyDisableFetch:o,options:a,key:c,...l}=e,d=h({...l,options:(s()(a)?a(i):a)||{},dangerouslyDisableFetch:!!o&&o(i)}),u={[t]:d};return Object(r.jsx)(n,{...i,...u})}return i.displayName=`withResource[${e.name}](${n.displayName||n.name||""})`,i.WrappedComponent=n,i}}},weYu:function(e,t,n){n.d(t,"a",(function(){return M}));var r=n("nKUr"),i=n("q1tI"),o=n.n(i),a=n("8cMa"),s=n("JW66"),c=n("Ye/N"),l=n("rrvb"),d=n("jdx6"),u=n("n6mq");function h({boards:e,fetchMore:t,selectedBoard:n,onSelect:i,onSearchQueryUpdate:o,searchQuery:h}){return Object(r.jsx)(l.a,{dropdownValue:n?n.name:c.a._("Pick a board"),fetchMore:t,onSearchQueryUpdate:o,onSelect:i,renderRow:({item:{name:e,privacy:t,is_collaborative:n},hovered:i})=>Object(r.jsxs)(u.e,{color:i?"lightGray":"white",display:"flex",padding:2,rounding:2,children:[Object(r.jsx)(u.e,{flex:"grow",children:Object(r.jsx)(u.U,{weight:"bold",children:Object(d.b)(h,e)})}),Object(r.jsxs)(u.e,{display:"flex",flex:"none",direction:"row",children:[t===s.a.BoardPrivacy.SECRET&&Object(r.jsx)(a.a,{type:"secret"}),n&&Object(r.jsx)(a.a,{type:"group"})]})]}),searchQuery:h,sections:[{items:e}]})}var p=n("e3GI"),f=n("TgLd"),b=n("0BOE"),g=n("qyR9");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends o.a.PureComponent{constructor(...e){super(...e),m(this,"state",{query:""}),m(this,"handleQueryChange",e=>this.setState({query:e}))}render(){const{allBoardsResource:e,children:t}=this.props,{query:n}=this.state,r=!(e=>e.length<g.a)(n);if(!e.isLoaded||!e.data)return t({isLoaded:!1});const i=Array.isArray(e.data)?e.data:e.data.all_boards;return t({isLoaded:!0,results:r?Object(b.a)(i,n):i,fetchMore:void 0,isSearch:r,onQueryChange:this.handleQueryChange,query:n})}}var y=n("sEfC"),j=n.n(y);class _ extends o.a.PureComponent{constructor(...e){var t,n,r;super(...e),r={results:[]},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}static getDerivedStateFromProps({results:e},{results:t}){return{results:e||t||[]}}render(){return this.props.children(this.state.results)}}var O=n("w70y");var x=Object(O.b)({name:"SearchMyBoardsResource",key:"resource",options:({fieldSetKey:e,query:t})=>({field_set_key:e,query:t}),dangerouslyDisableFetch:({clientResults:e})=>!!e})((function({children:e,clientResults:t,resource:{data:n}}){return Object(r.jsx)(_,{results:t||n,children:e})}));function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=e=>e.length<g.a;class C extends o.a.PureComponent{constructor(...e){super(...e),w(this,"state",{query:"",debouncedQuery:""}),w(this,"handleQueryChange",e=>{S(e)||this.props.allBoardsResource.isAtEnd?(this.debouncedSetQuery.cancel(),this.setState({query:e,debouncedQuery:e})):(this.setState({query:e}),this.debouncedSetQuery(e))}),w(this,"debouncedSetQuery",j()(e=>this.setState({debouncedQuery:e}),500,{leading:!0,trailing:!0}))}render(){const{children:e,fieldSetKey:t,allBoardsResource:n}=this.props,{query:i,debouncedQuery:o}=this.state;if(!n.isLoaded||!n.data)return e({isLoaded:!1});const a=Array.isArray(n.data)?n.data:n.data.all_boards,s=!S(o);let c,l;return s?n.isAtEnd&&(c=Object(b.a)(a,o)):(c=a,n.isAtEnd||n.isFetching||(l=n.fetchMore)),Object(r.jsx)(x,{clientResults:c,fieldSetKey:t,query:o,children:t=>e({isLoaded:!0,isSearch:s,query:i,onQueryChange:this.handleQueryChange,results:t,fetchMore:l})})}}var I=n("d90F");function E({children:e,...t}){return Object(r.jsx)(I.a,{name:"web_paginated_boards",children:({anyEnabled:n})=>{const i=n?C:v;return Object(r.jsx)(i,{...t,children:e})}})}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D="merge";class T extends o.a.Component{constructor(...e){super(...e),k(this,"state",{selectedTargetBoard:null}),k(this,"handleChange",e=>{this.setState({selectedTargetBoard:e})}),k(this,"handleSubmit",()=>{const{onSubmit:e}=this.props,{selectedTargetBoard:t}=this.state;t&&e(t)}),k(this,"renderModalBody",()=>{const{boardsResource:e,sourceBoardId:t}=this.props,{selectedTargetBoard:n}=this.state,{data:i}=e;if(!i)return Object(r.jsx)(u.O,{accessibilityLabel:c.a._("Loading board list","spinner accessibility label","spinner accessibility label"),show:!0});const o=i.find(e=>e.id===t);return 0===i.filter(e=>e.id!==t).length?Object(r.jsx)(u.U,{children:c.a._("There is no board to merge this board into.","helper text for selecting merge target board","helper text for selecting merge target board")}):Object(r.jsxs)(u.e,{minHeight:400,children:[Object(r.jsx)(u.e,{paddingY:1,children:Object(r.jsx)(E,{fieldSetKey:D,allBoardsResource:e,children:e=>e.isLoaded?Object(r.jsx)(h,{boards:e.results.filter(e=>e.id!==t),fetchMore:e.fetchMore,onSearchQueryUpdate:e.onQueryChange,onSelect:this.handleChange,searchQuery:e.query,selectedBoard:n}):null})}),n&&o&&Object(r.jsx)(u.e,{paddingY:2,children:Object(r.jsx)(p.a,{sourceBoard:o,targetBoard:n})})]})})}render(){const{boardsResource:{data:e},onCancel:t}=this.props,{selectedTargetBoard:n}=this.state;return Object(r.jsx)(f.b,{accessibilityModalLabel:c.a._("Move Pins to","BoardEdit.BoardMergeModal.accessibilityLabel","accessibility label for board merging modal"),heading:n?c.a._("Move Pins and delete board?","title for board merging modal","title for board merging modal"):c.a._("Move all Pins to...","title for board merging modal","title for board merging modal"),onDismiss:t,footer:Object(r.jsx)(u.e,{display:"flex",justifyContent:"end",children:Object(r.jsxs)(u.g,{children:[Object(r.jsx)(u.f,{inline:!0,onClick:t,text:c.a._("Cancel")}),!!e&&Object(r.jsx)(u.f,{color:"red",disabled:!n,inline:!0,onClick:this.handleSubmit,text:c.a._("Move Pins and Delete Board","button for merging a board","button for merging a board")})]})}),children:Object(r.jsx)(u.e,{padding:8,children:this.renderModalBody()})})}}function M(e){const t=Object(O.a)({name:"BoardsResource",options:{privacy_filter:"all",sort:"alphabetical",field_set_key:D,username:"me"},allowStale:!1});return Object(r.jsx)(T,{...e,boardsResource:t})}},wj9o:function(e,t,n){var r=n("nKUr"),i=n("q1tI"),o=n("d7JY"),a=n("7pfs"),s=n("qD10"),c=n("+4a+"),l=n("n6mq");const d=Object(i.forwardRef)((e,t)=>{const{boardName:n,boardUrl:i,children:d,overFlowActionsButton:u,sectionName:h}=e;return Object(r.jsxs)(l.e,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,ref:t,width:"100%",children:[Object(r.jsxs)(l.e,{display:"flex",direction:"column",maxWidth:c.a,children:[Object(r.jsx)(o.a,{children:Object(r.jsx)(l.e,{marginTop:4,children:Object(r.jsx)(s.a,{to:i,children:Object(r.jsx)(a.a,{children:({active:e,focused:t,hovered:i,onBlur:o,onFocus:a,onMouseEnter:s,onMouseLeave:c})=>Object(r.jsx)(l.e,{onFocus:a,onBlur:o,onMouseEnter:s,onMouseLeave:c,children:Object(r.jsx)(l.t,{align:"center",color:e||t||i?"darkGray":"gray",children:n})})})})})}),Object(r.jsx)(o.a,{children:Object(r.jsxs)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,children:[Object(r.jsx)(l.t,{align:"center",children:h}),!!u&&Object(r.jsx)(l.e,{paddingX:1,children:u})]})})]}),d&&Object(r.jsx)(l.e,{marginTop:8,children:d})]})});d.displayName="SectionHeader",t.a=d},wrZu:function(e,t,n){var r=n("+K+b"),i=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},xKaA:function(e,t,n){var r;!function(i,o){var a="function",s="undefined",c="object",l="model",d="name",u="type",h="vendor",p="version",f="architecture",b="console",g="mobile",m="tablet",v="smarttv",y="wearable",j={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_={rgx:function(e,t){for(var n,r,i,s,l,d,u=0;u<t.length&&!l;){var h=t[u],p=t[u+1];for(n=r=0;n<h.length&&!l;)if(l=h[n++].exec(e))for(i=0;i<p.length;i++)d=l[++r],typeof(s=p[i])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,d):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=d?d.replace(s[1],s[2]):o:this[s[0]]=d?s[1].call(this,d,s[2]):o:4==s.length&&(this[s[0]]=d?s[3].call(this,d.replace(s[1],s[2])):o):this[s]=d||o;u+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(j.has(t[n][r],e))return"?"===n?o:n}else if(j.has(t[n],e))return"?"===n?o:n;return e}},O={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},x={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,p],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[d,p],[/(konqueror)\/([\w\.]+)/i],[[d,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[d,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[d,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[d,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[d,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[d,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[d,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[d,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[d,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[d,"Brave"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[d,p],[/(QQ)\/([\d\.]+)/i],[d,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[d,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[d,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[d,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[d],[/(LBBROWSER)/i],[d],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[d,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[d,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[d,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[d,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,p],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[d,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[d,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,d],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[d,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[p,_.str,O.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,j.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",j.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[f,j.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[l,h,[u,m]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[h,"Apple"],[u,m]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[h,"Apple"],[u,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,l,[u,m]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[l,[h,"Amazon"],[u,m]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[l,_.str,O.device.amazon.model],[h,"Amazon"],[u,g]],[/android.+aft([bms])\sbuild/i],[l,[h,"Amazon"],[u,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,h,[u,g]],[/\((ip[honed|\s\w*]+);/i],[l,[h,"Apple"],[u,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,l,[u,g]],[/\(bb10;\s(\w+)/i],[l,[h,"BlackBerry"],[u,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[l,[h,"Asus"],[u,m]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[l,"Xperia Tablet"],[u,m]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,"Sony"],[u,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,l,[u,b]],[/android.+;\s(shield)\sbuild/i],[l,[h,"Nvidia"],[u,b]],[/(playstation\s[34portablevi]+)/i],[l,[h,"Sony"],[u,b]],[/(sprint\s(\w+))/i],[[h,_.str,O.device.sprint.vendor],[l,_.str,O.device.sprint.model],[u,g]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[l,/_/g," "],[u,g]],[/(nexus\s9)/i],[l,[h,"HTC"],[u,m]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29|ele-l29)/i],[l,[h,"Huawei"],[u,g]],[/android.+(bah2?-a?[lw]\d{2})/i],[l,[h,"Huawei"],[u,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,l,[u,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[h,"Microsoft"],[u,b]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,"Microsoft"],[u,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[h,"Motorola"],[u,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[h,"Motorola"],[u,m]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,j.trim],[l,j.trim],[u,v]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,"Samsung"],[u,v]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[u,v]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],l,[u,m]],[/smart-tv.+(samsung)/i],[h,[u,v],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],l,[u,g]],[/sie-(\w*)/i],[l,[h,"Siemens"],[u,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],l,[u,g]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[h,"Acer"],[u,m]],[/android.+([vl]k\-?\d{3})\s+build/i],[l,[h,"LG"],[u,m]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],l,[u,m]],[/(lg) netcast\.tv/i],[h,l,[u,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[l,[h,"LG"],[u,g]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,l,[u,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[h,"Lenovo"],[u,m]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,l,[u,g]],[/linux;.+((jolla));/i],[h,l,[u,g]],[/((pebble))app\/[\d\.]+\s/i],[h,l,[u,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,l,[u,g]],[/crkey/i],[[l,"Chromecast"],[h,"Google"],[u,v]],[/android.+;\s(glass)\s\d/i],[l,[h,"Google"],[u,y]],[/android.+;\s(pixel c)[\s)]/i],[l,[h,"Google"],[u,m]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[l,[h,"Google"],[u,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]?[\w\s]+))\s+build/i],[[l,/_/g," "],[h,"Xiaomi"],[u,g]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]?[\w\s]+))\s+build/i],[[l,/_/g," "],[h,"Xiaomi"],[u,m]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[l,[h,"Meizu"],[u,g]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],l,[u,g]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[l,[h,"OnePlus"],[u,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[l,[h,"RCA"],[u,m]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[l,[h,"Dell"],[u,m]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[l,[h,"Verizon"],[u,m]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],l,[u,m]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[l,[h,"NuVision"],[u,m]],[/android.+;\s(k88)\sbuild/i],[l,[h,"ZTE"],[u,m]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[l,[h,"Swiss"],[u,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[l,[h,"Swiss"],[u,m]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[l,[h,"Zeki"],[u,m]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],l,[u,m]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[l,[h,"Insignia"],[u,m]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[l,[h,"NextBook"],[u,m]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],l,[u,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],l,[u,g]],[/android.+;\s(PH-1)\s/i],[l,[h,"Essential"],[u,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[l,[h,"Envizen"],[u,m]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,l,[u,m]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[l,[h,"MachSpeed"],[u,m]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,l,[u,m]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[l,[h,"Rotor"],[u,m]],[/android.+(KS(.+))\s+build/i],[l,[h,"Amazon"],[u,m]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,l,[u,m]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,j.lowerize],h,l],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,v]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[p,_.str,O.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[p,_.str,O.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[d,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[d,"Symbian"],p],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[d,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[d,p],[/(haiku)\s(\w+)/i],[d,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,p]]},w=function(e,t){if("object"==typeof e&&(t=e,e=o),!(this instanceof w))return new w(e,t).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?j.extend(x,t):x;return this.getBrowser=function(){var e={name:o,version:o};return _.rgx.call(e,n,r.browser),e.major=j.major(e.version),e},this.getCPU=function(){var e={architecture:o};return _.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return _.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:o,version:o};return _.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:o,version:o};return _.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};w.VERSION="0.7.22",w.BROWSER={NAME:d,MAJOR:"major",VERSION:p},w.CPU={ARCHITECTURE:f},w.DEVICE={MODEL:l,VENDOR:h,TYPE:u,CONSOLE:b,MOBILE:g,SMARTTV:v,TABLET:m,WEARABLE:y,EMBEDDED:"embedded"},w.ENGINE={NAME:d,VERSION:p},w.OS={NAME:d,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=w),t.UAParser=w):(r=function(){return w}.call(t,n,t,e))===o||(e.exports=r);var S=i&&(i.jQuery||i.Zepto);if(S&&!S.ua){var C=new w;S.ua=C.getResult(),S.ua.get=function(){return C.getUA()},S.ua.set=function(e){C.setUA(e);var t=C.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"==typeof window?window:this)},xKh6:function(e,t,n){var r=n("eOdZ");var i=e=>r.a.create("InviteAttributionResource",{invite_code:e}).callCreate(),o=n("RNo4");t.a=(e=(e=>{}))=>{const t=Object(o.k)(window.location.search),n=t.invite_code;n?i(n):e(t)}},xOLo:function(e,t,n){n.r(t),n.d(t,"CarouselSliders",(function(){return f}));var r=n("nKUr"),i=(n("q1tI"),n("/MKj")),o=n("XSD5"),a=n("ZbwW"),s=n("Ye/N"),c=n("0nTG"),l=n("U4JR"),d=n("n6mq");const u={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},h=(e,t,n,r,i,o,a,s,d,u)=>{if(!u||!i){const{carousel_slots:u,id:h}=i;Object(l.b)(108,{...d,objectId:t,component:s,view:a,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:r}},...Object(c.f)(e)||{}})}},p=(e,t,n,r,i,o)=>{o||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==i&&i(n)},f=({carouselIndex:e,carouselData:t,changeCarouselSlotIndex:n,handleCarouselSwipe:i,pin:o,pinId:a,contextLogData:c,viewParameter:l,viewType:f,componentType:b,isEditMode:g})=>{if(!t)return null;const{carousel_slots:m,index:v}=t,y=void 0!==e?e:v,j=Math.max(0,y-1),_=Math.min(m.length-1,y+1);return Object(r.jsxs)(d.e,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0,children:[Object(r.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{p(e,a,j,n,i,g),h(o,a,y,j,t,l,f,b,c,g)},onKeyUp:e=>{p(e,a,j,n,i,g),h(o,a,y,j,t,l,f,b,c,g)},style:u.slider,children:y>0&&Object(r.jsx)(d.e,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(d.u,{color:"white",icon:"arrow-back",accessibilityLabel:s.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image")})})}),Object(r.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{p(e,a,_,n,i,g),h(o,a,y,_,t,l,f,b,c,g)},onKeyUp:e=>{p(e,a,_,n,i,g),h(o,a,y,_,t,l,f,b,c,g)},style:u.slider,children:y<m.length-1&&Object(r.jsx)(d.e,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(d.u,{color:"white",icon:"arrow-forward",accessibilityLabel:s.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")})})})]})};t.default=Object(i.connect)(({pins:e},{carouselData:t,pinId:n})=>{const r=e[n];return{pin:r,carouselData:t||Object(a.a)(r)}},e=>({changeCarouselSlotIndex:(t,n)=>e(Object(o.a)(t,n))}))(f)},xZ6X:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o(e){const{iconNode:t,title:n,subtitle:o,accessory:a}=e;return Object(r.jsxs)(i.e,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[Object(r.jsx)(i.e,{marginEnd:2,children:t}),Object(r.jsxs)(i.e,{display:"flex",flex:"grow",alignItems:"start",direction:"column",children:[Object(r.jsx)(i.U,{color:"darkGray",size:"lg",truncate:!0,weight:"bold",children:n}),Object(r.jsx)(i.U,{truncate:!0,size:"sm",color:"gray",children:o})]}),a&&Object(r.jsx)(i.e,{children:a})]})}},xjqW:function(e,t,n){function r({id:e,isProduct:t,isPromoted:n,videoDuration:r,viewParameter:i,viewType:o,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:r,viewParameter:i,viewType:o,type:a}}}function i(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},xocI:function(e,t,n){var r=n("4pIB"),i=n("mFyV"),o=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},y0lr:function(e,t,n){var r=n("QDEm"),i=n("CJXx"),o=n("Iq8E"),a=n("zVay"),s=n("q1tI"),c=n("pXmp"),l=(a.List,function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,a=e.customStyleFn,l=e.customStyleMap,d=e.decorator,u=e.direction,h=e.forceSelection,p=e.hasSelection,f=e.selection,b=e.tree,g=t.getKey(),m=t.getText(),v=b.size-1,y=this.props.children||b.map((function(e,c){var b=e.get("decoratorKey"),y=e.get("leaves"),j=y.size-1,_=y.map((function(e,n){var r=o.encode(g,c,n),d=e.get("start"),u=e.get("end");return s.createElement(i,{key:r,offsetKey:r,block:t,start:d,selection:p?f:null,forceSelection:h,text:m.slice(d,u),styleSet:t.getInlineStyleAt(d),customStyleMap:l,customStyleFn:a,isLast:b===v&&n===j})})).toArray();return b&&d?s.createElement(r,{block:t,children:_,contentState:n,decorator:d,decoratorKey:b,direction:u,leafSet:e,text:m,key:c}):_})).toArray();return s.createElement("div",{"data-offset-key":o.encode(g,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===u,"public/DraftStyleDefault/rtl":"RTL"===u})},y)},a}(s.Component));e.exports=l},"y5P+":function(e,t,n){var r=n("mFyV"),i=/[\uD800-\uDFFF]/;function o(e){return 55296<=e&&e<=57343}function a(e){return i.test(e)}function s(e,t){return 1+o(e.charCodeAt(t))}function c(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!a(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=s(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=s(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=s(e,o);return e.substring(i,o)}var l={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),i=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(e){if(!a(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return c(e,t=t<n?t:n,r)},substr:c};e.exports=l},y9Ij:function(e,t,n){n.d(t,"a",(function(){return h}));var r=n("nKUr"),i=n("q1tI"),o=(n("PNKV"),n("TSYQ")),a=n.n(o),s=n("rVUJ"),c=n("Ye/N"),l=n("uyxo"),d=n("n6mq");const u=Object(i.memo)(Object(i.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:i,onBoardUpdated:o,onClick:s,onSavedClick:u,onToggleModal:h,onUnsaved:p,renderSavedStatus:f,saveButtonType:b="classic",saved:g,savedInfo:m,variant:v="classic",viewParameter:y},j)=>g&&"controlled"===b?Object(r.jsx)(d.f,{disabled:!0,text:c.a._("Saved"),size:"sm"}):!i&&m&&f&&p&&o&&"classic"===b?Object(r.jsx)(l.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:p,onEditSubmit:o,onToggleModal:h,pinId:m.localPinId,variant:"pin",viewParameter:y,children:f()}):g&&"classic"===b&&i?Object(r.jsx)(d.f,{accessibilityLabel:c.a._("Saved button","saveButton.saved.label","Saved state label on save button"),text:c.a._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:u}):n?Object(r.jsx)("div",{ref:j,"data-test-id":"SaveButton",children:Object(r.jsx)(d.v,{accessibilityLabel:c.a._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>s(e),iconColor:"darkGray"})}):Object(r.jsx)(d.e,{display:i?void 0:"flex",justifyContent:"end",children:Object(r.jsx)("div",{ref:j,className:a()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===v}),"data-test-id":"SaveButton",onClick:t?void 0:s,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),s(e))},role:"button",tabIndex:"0",children:Object(r.jsx)("div",{className:a()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===v}),children:Object(r.jsx)(d.e,{alignItems:"center",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",children:Object(r.jsx)(d.U,{color:t?"gray":"white",size:"lego"===v?"sm":"md",weight:"bold",children:Object(r.jsx)("span",{className:a()("SaveButton__label",{"SaveButton__label--lego":"lego"===v}),children:c.a._("Save","Pin save button label","Pin save button label")})})})})})}))),h=({isPulsarDisplayed:e,...t})=>{const[n,o]=Object(i.useState)(null),a=Object(i.useCallback)(e=>{o(e)},[n]);return Object(r.jsx)(s.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e,children:Object(r.jsx)(u,{ref:a,...t})})};t.b=u},yBr6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/Ecc"),i=n("zpn9");function o(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}t.getNodeClientOffset=o,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,s){var c,l,d="IMG"===(c=t).nodeName&&(r.isFirefox()||!document.documentElement.contains(c)),u=o(d?e:t),h={x:n.x-u.x,y:n.y-u.y},p=e.offsetWidth,f=e.offsetHeight,b=a.anchorX,g=a.anchorY,m=function(e,t,n,i){var o=e?t.width:n,a=e?t.height:i;return r.isSafari()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(d,t,p,f),v=m.dragPreviewWidth,y=m.dragPreviewHeight,j=s.offsetX,_=s.offsetY,O=0===_||_;return{x:0===j||j?j:new i.default([0,.5,1],[h.x,h.x/p*v,h.x+v-p]).interpolate(b),y:O?_:(l=new i.default([0,.5,1],[h.y,h.y/f*y,h.y+y-f]).interpolate(g),r.isSafari()&&d&&(l+=(window.devicePixelRatio-1)*y),l)}}},yCO0:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("U4W0")),r(n("aS9Y"))},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},yJZD:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("w70y");function i({board:{id:e,owner:t},children:n}){const{data:i,isLoaded:o}=Object(r.a)({name:"BoardCollaboratorsResource",options:{board_id:e},allowStale:!1}),a=t.image_key||t.image_medium_url||t.image_small_url,s=[{name:t.full_name,src:a,href:`/${t.username}/`}];return o&&i&&i.length>0&&i.forEach(e=>{const t=e.image_key||e.image_medium_url||e.image_small_url;s.push({name:e.full_name,src:t,href:`/${e.username}/`})}),n(s)}},yUGJ:function(e,t,n){function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function i(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},e.exports=o},yeYm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.composeDecorators=t.createEditorStateWithText=t.default=void 0;var r=a(n("83bQ")),i=a(n("7asU")),o=a(n("q2v6"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default;t.createEditorStateWithText=r.default,t.composeDecorators=i.default},ypm9:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n("/MKj"),o=n("xKh6"),a=n("G8fK"),s=n("EC67");function c(){const e=Object(i.useDispatch)(),t=Object(s.g)(),{pathname:n}=Object(s.h)(),c=Object(i.useSelector)(({ui:e})=>e.mainComponent.locationToErrorMap);Object(r.useEffect)(()=>{Object(o.a)();const r=`/${n.split("/")[1]}/`;c[n]&&(e(Object(a.a)(r,c[n])),t.replace(r))},[])}},yxyD:function(e,t,n){var r=n("y5P+"),i=n("Taje"),o=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],c=t.map((function(e){return e.has(n)})).toList();return i(c,o,a,(function(t,i){var o=e.getText();s.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,i)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},z2oT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("q1tI")),i=o(n("iuhU"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.mention,n=e.children,i=e.className;return r.default.createElement("a",{href:t.link,className:i,spellCheck:!1},n)},s=function(e){var t=e.children,n=e.className;return r.default.createElement("span",{className:n,spellCheck:!1},t)};t.default=function(e){var t=e.entityKey,n=e.theme,o=void 0===n?{}:n,c=e.mentionComponent,l=e.children,d=e.decoratedText,u=e.className,h=e.contentState,p=(0,i.default)(o.mention,u),f=h.getEntity(t).getData().mention,b=c||(f.link?a:s);return r.default.createElement(b,{entityKey:t,mention:f,theme:o,className:p,decoratedText:d},l)}},z3qU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/ZYE"),i=n("utGV"),o=n("q1tI"),a=n("2S0S");t.useDrop=function(e){var t=o.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=i.useDropTargetMonitor(),s=n[0],c=n[1];i.useDropHandler(t,s,c);var l=r.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),d=o.useMemo((function(){return c.hooks.dropTarget()}),[c]);return o.useEffect((function(){c.dropTargetOptions=e.options||null,c.reconnect()}),[e.options]),[l,d]}},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?i(a):r;e.exports=s},zORg:function(e,t,n){var r=n("GyOf");e.exports=function e(t){if(r(t)){var n=t,i=n.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=e(n.childNodes[o]);if(a)return a}}return null}},zQfT:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI");const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new i(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=o,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},r=s.a.create(e,n),i=new a,o=()=>{r.abort()};return async function(e){const t=i.get(e);if(t){const n=t.items;if(n&&n.length){o();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{if(r.isCalling()){var t;if(e===(null===(t=r.options)||void 0===t?void 0:t.term))return;o()}const{bookmarks:n,...a}=r.options||{};r.options={...a,term:e};const s=(await r.callGet({showError:!1})).resource_response.data,c=s.items,l=s.hint||{},d={hint:l,items:c};return i.set(e,d),{term:e,items:c,hint:l}})(e):{hint:{},items:[],term:e}}}function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:i}){const o=Object(r.useRef)(!1),a=Object(r.useRef)({}),[s,l]=Object(r.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=Object(r.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(r.useEffect)(()=>{(async()=>{if(null!=i&&(e||o.current))if(i in a.current)l(a.current[i]);else try{const e=await d(i);if(e){const{items:t}=e;a.current[i]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()},[i]),s}},zUcL:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("nKUr"),i=(n("q1tI"),n("n6mq"));function o({children:e,setMaxWidth:t=!0}){return Object(r.jsx)(i.e,{width:"100%",display:"flex",justifyContent:"center",children:t?Object(r.jsx)(i.e,{width:"100%",paddingX:2,maxWidth:774,children:e}):Object(r.jsx)(i.e,{width:"100%",children:e})})}},zVay:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!l(e)?e:X(e)}function a(e){return!(!e||!e[u])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[p])}function l(e){return s(e)||c(e)}function d(e){return!(!e||!e[f])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=d,n.Keyed=r,n.Indexed=i,n.Set=o;var u="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",b="delete",g=5,m=1<<g,v=m-1,y={},j={value:!1},_={value:!1};function O(e){return e.value=!1,e}function x(e){e&&(e.value=!0)}function w(){}function S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(E)),e.size}function I(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function E(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return M(e,t,0)}function T(e,t){return M(e,t,t)}function M(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P=0,B=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",N=R||L;function z(e){this.next=e}function F(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function q(e){return!!W(e)}function K(e){return e&&"function"==typeof e.next}function H(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(R&&e[R]||e[L]);if("function"==typeof t)return t}function V(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function X(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=P,z.VALUES=B,z.ENTRIES=A,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[N]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},J.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=Y,G.Set=X,G.Indexed=J;var Q,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():K(e)?new ie(e).fromEntrySeq():q(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=de(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=de(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function de(e){return V(e)?new te(e):K(e)?new ie(e):q(e)?new re(e):void 0}function ue(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function he(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?U():F(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function pe(e,t){return t?fe(t,e,"",{"":e}):be(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):ge(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function be(e){return Array.isArray(e)?J(e).map(be).toList():ge(e)?Y(e).map(be).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function me(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ve(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||d(e)!==d(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(d(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&me(i[1],e)&&(n||me(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var u=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):i?!me(t,e.get(r,y)):!me(e.get(r,y),t))return u=!1,!1}));return u&&e.size===h}function ye(e,t){if(!(this instanceof ye))return new ye(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function je(e,t){if(!e)throw new Error(t)}function _e(e,t,n){if(!(this instanceof _e))return new _e(e,t,n);if(je(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function Oe(){throw TypeError("Abstract")}function xe(){}function we(){}function Se(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[I(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?U():F(e,i,n[t?r-i++:i++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?U():F(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=H(this._iterable),r=0;if(K(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=H(this._iterable);if(!K(n))return new z(U);var r=0;return new z((function(){var t=n.next();return t.done?t:F(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return F(e,i,r[i++])}))},t(ye,J),ye.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ye.prototype.get=function(e,t){return this.has(e)?this._value:t},ye.prototype.includes=function(e){return me(this._value,e)},ye.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ye(this._value,T(t,n)-D(e,n))},ye.prototype.reverse=function(){return this},ye.prototype.indexOf=function(e){return me(this._value,e)?0:-1},ye.prototype.lastIndexOf=function(e){return me(this._value,e)?this.size:-1},ye.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ye.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?F(e,r++,n._value):U()}))},ye.prototype.equals=function(e){return e instanceof ye?me(this._value,e._value):ve(e)},t(_e,J),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,t){return this.has(e)?this._start+I(this,e)*this._step:t},_e.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},_e.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=D(e,this.size),(t=T(t,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(t,this._end),this._step))},_e.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},_e.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?U():F(e,o++,a)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ve(this,e)},t(Oe,n),t(xe,Oe),t(we,Oe),t(Se,Oe),Oe.Keyed=xe,Oe.Indexed=we,Oe.Set=Se;var Ce="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ie(e){return e>>>1&1073741824|3221225471&e}function Ee(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ie(n)}if("string"===t)return e.length>ze?ke(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Te(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){var t=qe[e];return void 0===t&&(t=De(e),Ue===Fe&&(Ue=0,qe={}),Ue++,qe[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ie(t)}function Te(e){var t;if(Re&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Ne]))return t;if(!Pe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne]))return t;if(void 0!==(t=Be(e)))return t}if(t=++Le,1073741824&Le&&(Le=0),Re)Ae.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(e,Ne,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ne]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var Me=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae,Re="function"==typeof WeakMap;Re&&(Ae=new WeakMap);var Le=0,Ne="__immutablehash__";"function"==typeof Symbol&&(Ne=Symbol(Ne));var ze=16,Fe=255,Ue=0,qe={};function Ke(e){je(e!==1/0,"Cannot perform this action with an infinite size.")}function He(e){return null==e?it():We(e)&&!d(e)?e:it().withMutations((function(t){var n=r(e);Ke(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function We(e){return!(!e||!e[Ge])}t(He,xe),He.prototype.toString=function(){return this.__toString("Map {","}")},He.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},He.prototype.set=function(e,t){return ot(this,e,t)},He.prototype.setIn=function(e,t){return this.updateIn(e,y,(function(){return t}))},He.prototype.remove=function(e){return ot(this,e,y)},He.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return y}))},He.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},He.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=gt(this,On(e),t,n);return r===y?void 0:r},He.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},He.prototype.merge=function(){return ht(this,void 0,arguments)},He.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},He.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},He.prototype.mergeDeep=function(){return ht(this,pt,arguments)},He.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},He.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},He.prototype.sort=function(e){return qt(un(this,e))},He.prototype.sortBy=function(e,t){return qt(un(this,t,e))},He.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},He.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},He.prototype.asImmutable=function(){return this.__ensureOwner()},He.prototype.wasAltered=function(){return this.__altered},He.prototype.__iterator=function(e,t){return new et(this,e,t)},He.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},He.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},He.isMap=We;var Ve,Ge="@@__IMMUTABLE_MAP__@@",Ye=He.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function Xe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return F(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ye);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return Ve||(Ve=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=O(j),a=O(_);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===y?-1:1:0)}else{if(n===y)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===y?e:(x(s),x(a),new $e(t,r,[i,o]))}function st(e){return e.constructor===$e||e.constructor===Ze}function ct(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v;return new Xe(t,1<<a|1<<s,a===s?[ct(e,t,n+g,r,i)]:(o=new $e(t,r,i),a<s?[e,o]:[o,e]))}function lt(e,t,n,r){e||(e=new w);for(var i=new $e(e,Ee(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function dt(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var d=t[s];void 0!==d&&s!==r&&(i|=c,a[o++]=d)}return new Xe(e,i,a)}function ut(e,t,n,r,i){for(var o=0,a=new Array(m),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Qe(e,o+1,a)}function ht(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return pe(e)}))),i.push(c)}return bt(e,t,i)}function pt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):me(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return me(t,i)?t:i}}function bt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,y,(function(e){return e===y?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function gt(e,t,n,r){var i=e===y,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}je(i||e&&e.set,"invalid keyPath");var c=o.value,l=i?y:e.get(c,y),d=gt(l,t,n,r);return d===l?e:d===y?e.remove(c):(i?it():e).set(c,d)}function mt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function vt(e,t,n,r){var i=r?e:S(e);return i[t]=n,i}function yt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function jt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ye[Ge]=!0,Ye[b]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===y,c=this.entries,l=0,d=c.length;l<d&&!me(r,c[l][0]);l++);var u=l<d;if(u?c[l][1]===i:s)return this;if(x(a),(s||!u)&&x(o),!s||1!==c.length){if(!u&&!s&&c.length>=_t)return lt(e,c,r,i);var h=e&&e===this.ownerID,p=h?c:S(c);return u?s?l===d-1?p.pop():p[l]=p.pop():p[l]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Je(e,p)}},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=1<<((0===e?t:t>>>e)&v),o=this.bitmap;return 0==(o&i)?r:this.nodes[mt(o&i-1)].get(e+g,t,n,r)},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&v,c=1<<s,l=this.bitmap,d=0!=(l&c);if(!d&&i===y)return this;var u=mt(l&c-1),h=this.nodes,p=d?h[u]:void 0,f=at(p,e,t+g,n,r,i,o,a);if(f===p)return this;if(!d&&f&&h.length>=Ot)return ut(e,h,l,s,f);if(d&&!f&&2===h.length&&st(h[1^u]))return h[1^u];if(d&&f&&1===h.length&&st(f))return f;var b=e&&e===this.ownerID,m=d?f?l:l^c:l|c,j=d?f?vt(h,u,f,b):jt(h,u,b):yt(h,u,f,b);return b?(this.bitmap=m,this.nodes=j,this):new Xe(e,m,j)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ee(n));var i=(0===e?t:t>>>e)&v,o=this.nodes[i];return o?o.get(e+g,t,n,r):r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=(0===t?n:n>>>t)&v,c=i===y,l=this.nodes,d=l[s];if(c&&!d)return this;var u=at(d,e,t+g,n,r,i,o,a);if(u===d)return this;var h=this.count;if(d){if(!u&&--h<xt)return dt(e,l,h,s)}else h++;var p=e&&e===this.ownerID,f=vt(l,s,u,p);return p?(this.count=h,this.nodes=f,this):new Qe(e,h,f)},Ze.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(me(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ee(r));var s=i===y;if(n!==this.keyHash)return s?this:(x(a),x(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,l=0,d=c.length;l<d&&!me(r,c[l][0]);l++);var u=l<d;if(u?c[l][1]===i:s)return this;if(x(a),(s||!u)&&x(o),s&&2===d)return new $e(e,this.keyHash,c[1^l]);var h=e&&e===this.ownerID,p=h?c:S(c);return u?s?l===d-1?p.pop():p[l]=p.pop():p[l]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Ze(e,this.keyHash,p)},$e.prototype.get=function(e,t,n,r){return me(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,a){var s=i===y,c=me(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(x(a),s?void x(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(x(o),ct(this,e,t,Ee(r),[r,i])))},Je.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Xe.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return U()};var _t=m/4,Ot=m/2,xt=m/4;function wt(e){var t=Bt();if(null==e)return t;if(St(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ke(r),r>0&&r<m?Pt(0,r,g,null,new Et(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function St(e){return!(!e||!e[Ct])}t(wt,we),wt.of=function(){return this(arguments)},wt.prototype.toString=function(){return this.__toString("List [","]")},wt.prototype.get=function(e,t){if((e=I(this,e))>=0&&e<this.size){var n=Nt(this,e+=this._origin);return n&&n.array[e&v]}return t},wt.prototype.set=function(e,t){return At(this,e,t)},wt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},wt.prototype.insert=function(e,t){return this.splice(e,0,t)},wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},wt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},wt.prototype.pop=function(){return zt(this,0,-1)},wt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},wt.prototype.shift=function(){return zt(this,1)},wt.prototype.merge=function(){return Ft(this,void 0,arguments)},wt.prototype.mergeWith=function(t){return Ft(this,t,e.call(arguments,1))},wt.prototype.mergeDeep=function(){return Ft(this,pt,arguments)},wt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ft(this,ft(t),n)},wt.prototype.setSize=function(e){return zt(this,0,e)},wt.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:zt(this,D(e,n),T(t,n))},wt.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new z((function(){var t=r();return t===Tt?U():F(e,n++,t)}))},wt.prototype.__iterate=function(e,t){for(var n,r=0,i=Mt(this,t);(n=i())!==Tt&&!1!==e(n,r++,this););return r},wt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},wt.isList=St;var Ct="@@__IMMUTABLE_LIST__@@",It=wt.prototype;function Et(e,t){this.array=e,this.ownerID=t}It[Ct]=!0,It[b]=It.remove,It.setIn=Ye.setIn,It.deleteIn=It.removeIn=Ye.removeIn,It.update=Ye.update,It.updateIn=Ye.updateIn,It.mergeIn=Ye.mergeIn,It.mergeDeepIn=Ye.mergeDeepIn,It.withMutations=Ye.withMutations,It.asMutable=Ye.asMutable,It.asImmutable=Ye.asImmutable,It.wasAltered=Ye.wasAltered,Et.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new Et([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-g,n))===a&&o)return this}if(o&&!i)return this;var s=Lt(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Et.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&v;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-g,n))===o&&i===this.array.length-1)return this}var a=Lt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var kt,Dt,Tt={};function Mt(e,t){var n=e._origin,r=e._capacity,i=Ut(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>m&&(l=m),function(){if(c===l)return Tt;var e=t?--l:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,l=o>n?0:n-o>>i,d=1+(r-o>>i);return d>m&&(d=m),function(){for(;;){if(s){var e=s();if(e!==Tt)return e;s=null}if(l===d)return Tt;var n=t?--d:l++;s=a(c&&c[n],i-g,o+(n<<i))}}}}function Pt(e,t,n,r,i,o,a){var s=Object.create(It);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Bt(){return kt||(kt=Pt(0,0,g))}function At(e,t,n){if((t=I(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=O(_);return t>=Ut(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,o):i=Rt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Pt(e._origin,e._capacity,e._level,i,r):e}function Rt(e,t,n,r,i,o){var a,s=r>>>n&v,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var l=e&&e.array[s],d=Rt(l,t,n-g,r,i,o);return d===l?e:((a=Lt(e,t)).array[s]=d,a)}return c&&e.array[s]===i?e:(x(o),a=Lt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Lt(e,t){return t&&e&&t===e.ownerID?e:new Et(e?e.array.slice():[],t)}function Nt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+g){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=g;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new w,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,d=0;a+d<0;)l=new Et(l&&l.array.length?[void 0,l]:[],r),d+=1<<(c+=g);d&&(a+=d,i+=d,s+=d,o+=d);for(var u=Ut(o),h=Ut(s);h>=1<<c+g;)l=new Et(l&&l.array.length?[l]:[],r),c+=g;var p=e._tail,f=h<u?Nt(e,s-1):h>u?new Et([],r):p;if(p&&h>u&&a<o&&p.array.length){for(var b=l=Lt(l,r),m=c;m>g;m-=g){var y=u>>>m&v;b=b.array[y]=Lt(b.array[y],r)}b.array[u>>>g&v]=p}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=g,l=null,f=f&&f.removeBefore(r,0,a);else if(a>i||h<u){for(d=0;l;){var j=a>>>c&v;if(j!==h>>>c&v)break;j&&(d+=(1<<c)*j),c-=g,l=l.array[j]}l&&a>i&&(l=l.removeBefore(r,c,a-d)),l&&h<u&&(l=l.removeAfter(r,c,h-d)),d&&(a-=d,s-=d)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Pt(a,s,c,l,f)}function Ft(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(e){return pe(e)}))),r.push(l)}return o>e.size&&(e=e.setSize(o)),bt(e,t,r)}function Ut(e){return e<m?0:e-1>>>g<<g}function qt(e){return null==e?Wt():Kt(e)?e:Wt().withMutations((function(t){var n=r(e);Ke(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Kt(e){return We(e)&&d(e)}function Ht(e,t,n,r){var i=Object.create(qt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Wt(){return Dt||(Dt=Ht(it(),Bt()))}function Vt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===y){if(!c)return e;a.size>=m&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Ht(r,i)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){this._iter=e,this.size=e.size}function Qt(e){var t=yn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=jn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===B?P:B,n)},t}function Zt(e,t,n){var r=yn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,y);return o===y?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(A,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return F(r,s,t.call(n,a[1],s,e),i)}))},r}function $t(e,t){var n=yn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=jn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=yn(e);return r&&(i.has=function(r){var i=e.get(r,y);return i!==y&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,y);return o!==y&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(A,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],d=c[1];if(t.call(n,d,l,e))return F(i,r?l:s++,d,o)}}))},i}function tn(e,t,n){var r=He().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(d(e)?qt():He()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=vn(e);return i.map((function(t){return bn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,i))return e;var o=D(t,i),a=T(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c==c&&(s=c<0?0:c);var l=yn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(l.get=function(t,n){return(t=I(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return U();var e=i.next();return r||t===B?e:F(t,c-1,t===P?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(A,i),s=!0;return new z((function(){if(!s)return U();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===A?e:F(r,c,l,e):(s=!1,U())}))},r}function an(e,t,n,r){var i=yn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(A,o),c=!0,l=0;return new z((function(){var e,o,d;do{if((e=s.next()).done)return r||i===B?e:F(i,l++,i===P?void 0:e.value[1],e);var u=e.value;o=u[0],d=u[1],c&&(c=t.call(n,d,o,a))}while(c);return i===A?e:F(i,o,d,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var l=new te(i);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=yn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,l){var d=this;e.__iterate((function(e,i){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?i:o++,d)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===A&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:F(r,c++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return U()}))},r}function ln(e,t,n){var r=vn(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function dn(e,t){var n=yn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(B,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?F(n,a++,t):F(n,a++,i.value,i)}))},n}function un(e,t,n){t||(t=_n);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Y(o):c(e)?J(o):X(o)}function hn(e,t,n){if(t||(t=_n),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return pn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return pn(t,e,n)?n:e}))}function pn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var i=yn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(B,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),H(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():F(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function bn(e,t){return oe(e)?t:e.constructor(t)}function gn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function mn(e){return Ke(e.size),C(e)}function vn(e){return s(e)?r:c(e)?i:o}function yn(e){return Object.create((s(e)?Y:c(e)?J:X).prototype)}function jn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function _n(e,t){return e>t?1:e<t?-1:0}function On(e){var t=H(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function xn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);In(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=He(o)},i=r.prototype=Object.create(wn);return i.constructor=r,r}t(qt,He),qt.of=function(){return this(arguments)},qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wt()},qt.prototype.set=function(e,t){return Vt(this,e,t)},qt.prototype.remove=function(e){return Vt(this,e,y)},qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},qt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},qt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ht(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},qt.isOrderedMap=Kt,qt.prototype[f]=!0,qt.prototype[b]=qt.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?mn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(B,t),r=t?mn(this):0;return new z((function(){var i=n.next();return i.done?i:F(e,t?--r:r++,i.value,i)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t),r=0;return new z((function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)}))},t(Jt,X),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new z((function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)}))},t(Xt,Y),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){gn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Xt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(B,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){gn(r);var i=a(r);return F(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=Xt.prototype.cacheResult=jn,t(xn,xe),xn.prototype.toString=function(){return this.__toString(Cn(this)+" {","}")},xn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},xn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},xn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sn(this,it()))},xn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Cn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Sn(this,n)},xn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sn(this,t)},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},xn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sn(this,t,e):(this.__ownerID=e,this._map=t,this)};var wn=xn.prototype;function Sn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Cn(e){return e._name||e.constructor.name||"Record"}function In(e,t){try{t.forEach(En.bind(void 0,e))}catch(n){}}function En(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){je(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function kn(e){return null==e?Rn():Dn(e)&&!d(e)?e:Rn().withMutations((function(t){var n=o(e);Ke(n.size),n.forEach((function(e){return t.add(e)}))}))}function Dn(e){return!(!e||!e[Mn])}wn[b]=wn.remove,wn.deleteIn=wn.removeIn=Ye.removeIn,wn.merge=Ye.merge,wn.mergeWith=Ye.mergeWith,wn.mergeIn=Ye.mergeIn,wn.mergeDeep=Ye.mergeDeep,wn.mergeDeepWith=Ye.mergeDeepWith,wn.mergeDeepIn=Ye.mergeDeepIn,wn.setIn=Ye.setIn,wn.update=Ye.update,wn.updateIn=Ye.updateIn,wn.withMutations=Ye.withMutations,wn.asMutable=Ye.asMutable,wn.asImmutable=Ye.asImmutable,t(kn,Se),kn.of=function(){return this(arguments)},kn.fromKeys=function(e){return this(r(e).keySeq())},kn.prototype.toString=function(){return this.__toString("Set {","}")},kn.prototype.has=function(e){return this._map.has(e)},kn.prototype.add=function(e){return Bn(this,this._map.set(e,!0))},kn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},kn.prototype.clear=function(){return Bn(this,this._map.clear())},kn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},kn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},kn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},kn.prototype.merge=function(){return this.union.apply(this,arguments)},kn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},kn.prototype.sort=function(e){return Ln(un(this,e))},kn.prototype.sortBy=function(e,t){return Ln(un(this,t,e))},kn.prototype.wasAltered=function(){return this._map.wasAltered()},kn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},kn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},kn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},kn.isSet=Dn;var Tn,Mn="@@__IMMUTABLE_SET__@@",Pn=kn.prototype;function Bn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function An(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Tn||(Tn=An(it()))}function Ln(e){return null==e?qn():Nn(e)?e:qn().withMutations((function(t){var n=o(e);Ke(n.size),n.forEach((function(e){return t.add(e)}))}))}function Nn(e){return Dn(e)&&d(e)}Pn[Mn]=!0,Pn[b]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=Ye.withMutations,Pn.asMutable=Ye.asMutable,Pn.asImmutable=Ye.asImmutable,Pn.__empty=Rn,Pn.__make=An,t(Ln,kn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(r(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var zn,Fn=Ln.prototype;function Un(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function qn(){return zn||(zn=Un(Wt()))}function Kn(e){return null==e?Jn():Hn(e)?e:Jn().unshiftAll(e)}function Hn(e){return!(!e||!e[Vn])}Fn[f]=!0,Fn.__empty=qn,Fn.__make=Un,t(Kn,we),Kn.of=function(){return this(arguments)},Kn.prototype.toString=function(){return this.__toString("Stack [","]")},Kn.prototype.get=function(e,t){var n=this._head;for(e=I(this,e);n&&e--;)n=n.next;return n?n.value:t},Kn.prototype.peek=function(){return this._head&&this._head.value},Kn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Kn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ke(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Kn.prototype.pop=function(){return this.slice(1)},Kn.prototype.unshift=function(){return this.push.apply(this,arguments)},Kn.prototype.unshiftAll=function(e){return this.pushAll(e)},Kn.prototype.shift=function(){return this.pop.apply(this,arguments)},Kn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Kn.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=D(e,this.size);if(T(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yn(r,i)},Kn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Kn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Kn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return U()}))},Kn.isStack=Hn;var Wn,Vn="@@__IMMUTABLE_STACK__@@",Gn=Kn.prototype;function Yn(e,t,n,r){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Wn||(Wn=Yn(0))}function Xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Vn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=z,Xn(n,{toArray:function(){Ke(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return He(this.toKeyedSeq())},toObject:function(){Ke(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return qt(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return kn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kn(s(this)?this.valueSeq():this)},toList:function(){return wt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return bn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return me(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){Ke(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return bn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ke(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ke(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(P)},map:function(e,t){return bn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,i;return Ke(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return bn(this,$t(this,!0))},slice:function(e,t){return bn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return bn(this,un(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ve(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(E)},flatMap:function(e,t){return bn(this,ln(this,e,t))},flatten:function(e){return bn(this,cn(this,e,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(e,t){return this.find((function(t,n){return me(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=On(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,y):y)===y)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):or)},minBy:function(e,t){return hn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return bn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return bn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return bn(this,un(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return bn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return bn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Qn=n.prototype;Qn[u]=!0,Qn[N]=Qn.values,Qn.__toJS=Qn.toArray,Qn.__toStringMapper=rr,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,function(){try{Object.defineProperty(Qn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xn(r,{flip:function(){return bn(this,Qt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return me(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return me(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return bn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return bn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function ir(){return S(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=d(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Ee(e),Ee(t))|0}:function(e,t){r=r+cr(Ee(e),Ee(t))|0}:t?function(e){r=31*r+Ee(e)|0}:function(e){r=r+Ee(e)|0}),r)}function sr(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ie((t=Ce(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[h]=!0,Zn[N]=Qn.entries,Zn.__toJS=Qn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Xn(i,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return bn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return bn(this,$t(this,!1))},slice:function(e,t){return bn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return bn(this,1===n?r:r.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return bn(this,cn(this,e,!1))},get:function(e,t){return(e=I(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=I(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return bn(this,dn(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),bn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return bn(this,an(this,e,t,!1))},zip:function(){return bn(this,fn(this,ir,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,bn(this,fn(this,e,t))}}),i.prototype[p]=!0,i.prototype[f]=!0,Xn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Qn.includes,Xn(Y,r.prototype),Xn(J,i.prototype),Xn(X,o.prototype),Xn(xe,r.prototype),Xn(we,i.prototype),Xn(Se,o.prototype),{Iterable:n,Seq:G,Collection:Oe,Map:He,OrderedMap:qt,List:wt,Stack:Kn,Set:kn,OrderedSet:Ln,Record:xn,Range:_e,Repeat:ye,is:me,fromJS:pe}}()},zXAL:function(e,t,n){var r=n("/MKj"),i=n("peh1"),o=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(i.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(r.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:o.a,dismissExperience:o.b,fetchAllExperiences:o.d,fetchAllExperiencesMulti:o.f,fetchExperienceForPlacement:o.c,triggerExperimentsForPlacement:o.k,viewExperience:o.j},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zlY5:function(e,t,n){var r=n("158f");e.exports=function(e){var t=r(e),n=0,i=0,o=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var c=t[0];n=c.top,i=c.right,o=c.bottom,a=c.left}for(var l=1;l<t.length;l++){var d=t[l];0!==d.height&&0!==d.width&&(n=Math.min(n,d.top),i=Math.max(i,d.right),o=Math.max(o,d.bottom),a=Math.min(a,d.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},zpFB:function(e,t,n){n.d(t,"a",(function(){return r}));const r=-4},zpn9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=e.length,r=[],i=0;i<n;i++)r.push(i);r.sort((function(t,n){return e[t]<e[n]?-1:1}));var o,a,s=[],c=[],l=[];for(i=0;i<n-1;i++)o=e[i+1]-e[i],a=t[i+1]-t[i],c.push(o),s.push(a),l.push(a/o);var d=[l[0]];for(i=0;i<c.length-1;i++){var u=l[i],h=l[i+1];if(u*h<=0)d.push(0);else{o=c[i];var p=c[i+1],f=o+p;d.push(3*f/((f+p)/u+(f+o)/h))}}d.push(l[l.length-1]);var b,g=[],m=[];for(i=0;i<d.length-1;i++){b=l[i];var v=d[i],y=1/c[i];f=v+d[i+1]-b-b;g.push((b-v-f)*y),m.push(f*y*y)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=g,this.c3s=m}return e.prototype.interpolate=function(e){var t=this,n=t.xs,r=t.ys,i=t.c1s,o=t.c2s,a=t.c3s,s=n.length-1;if(e===n[s])return r[s];for(var c,l=0,d=a.length-1;l<=d;){var u=n[c=Math.floor(.5*(l+d))];if(u<e)l=c+1;else{if(!(u>e))return r[c];d=c-1}}var h=e-n[s=Math.max(0,d)],p=h*h;return r[s]+i[s]*h+o[s]*p+a[s]*h*p},e}();t.default=r},"zxN+":function(e,t,n){var r=n("zlY5");e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,c=i.left;return 0===o&&0===a&&0===s&&0===c?null:i}}},[["/ySb","runtime","vendor-react",0,4,1,2,3,8,9,10,11,12,13,14,22,36]],[93,104,216,282,"PinBetterSaveCommon","PinSaveButtonCommon","PinRepEditButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon","QuickSaveButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/www/[username]/[slug]-authdesktop-921c55e3327d40ffd12d.mjs.map